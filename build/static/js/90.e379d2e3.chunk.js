"use strict";(self.webpackChunksso_frontend=self.webpackChunksso_frontend||[]).push([[90],{93090:function(e,n,r){r.r(n),r.d(n,{default:function(){return $i}});var t,i=r(26445),a=r(54440),l=r(19658),o=r(16871),s=r(4708),d=r(61889),c=r(18489),u=r(33032),p=r(23430),h=r(84322),f=r.n(h),x=r(53767),m=r(68870),v=r(13400),g=r(95892),Z=r(20890),j=r(93044),b=r(20068),y=r(23786),w=r(93517),k=r(23060),C=r(72791),S=["title","titleId"];function P(){return P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},P.apply(this,arguments)}function A(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E(e,n){var r=e.title,i=e.titleId,a=A(e,S);return C.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",width:220.1,height:56,viewBox:"0 0 440.237 112.356",ref:n,"aria-labelledby":i},a),r?C.createElement("title",{id:i},r):null,t||(t=C.createElement("defs",null,C.createElement("linearGradient",{id:"tlf0fv38la",x1:1.035,y1:-.035,x2:.243,y2:.919,gradientUnits:"objectBoundingBox"},C.createElement("stop",{offset:0,stopColor:"#1d55a3"}),C.createElement("stop",{offset:.994,stopColor:"#2c4295"})),C.createElement("linearGradient",{id:"w18k46hfgb",x1:.527,y1:-.256,x2:.49,y2:.78,gradientUnits:"objectBoundingBox"},C.createElement("stop",{offset:0,stopColor:"#fff",stopOpacity:.302}),C.createElement("stop",{offset:1,stopColor:"#fff",stopOpacity:0})))),C.createElement("g",{"data-name":"Group 1"},C.createElement("path",{"data-name":"Path 2978",d:"M5.938-51.689h28.217v9.628H15.707v9.347h18.448v9.452H15.707v13.6h18.448V0H5.938zm34.647 0h31.274L53.411-9.452h17.253V0h-31.59l18.378-41.956H40.585zm58.857 0h9.839v42.307h14.337V0H99.443zm56.081-1.3a25.643 25.643 0 0 1 18.852 7.941 26.436 26.436 0 0 1 7.889 19.361 26.141 26.141 0 0 1-7.783 19.151A25.63 25.63 0 0 1 155.594 1.3a25.621 25.621 0 0 1-19.326-8.047 26.714 26.714 0 0 1-7.7-19.115 26.825 26.825 0 0 1 3.589-13.638 26.532 26.532 0 0 1 9.856-9.856 26.483 26.483 0 0 1 13.511-3.633zm-.105 9.628a16.2 16.2 0 0 0-12.053 4.99 17.384 17.384 0 0 0-4.884 12.685q0 8.574 6.149 13.564a16.848 16.848 0 0 0 10.963 3.9 16 16 0 0 0 11.912-5.06 17.2 17.2 0 0 0 4.919-12.474 17.274 17.274 0 0 0-4.955-12.492 16.152 16.152 0 0 0-12.05-5.113zm83.841.105-6.922 6.856q-6.571-6.957-15.32-6.957a17.5 17.5 0 0 0-12.773 5.06A16.6 16.6 0 0 0 199.1-26a17.032 17.032 0 0 0 5.341 12.685 18.156 18.156 0 0 0 13.177 5.2 16.149 16.149 0 0 0 8.591-2.143 15.084 15.084 0 0 0 5.64-6.711h-14.973v-9.241h26l.07 2.179a25.306 25.306 0 0 1-3.514 12.861 24.566 24.566 0 0 1-9.1 9.277 25.934 25.934 0 0 1-13.107 3.2 29.107 29.107 0 0 1-14.354-3.5 25.577 25.577 0 0 1-9.979-9.962 27.781 27.781 0 0 1-3.672-13.95A25.926 25.926 0 0 1 196-43.959q8.047-9.031 20.943-9.031a31.9 31.9 0 0 1 12.615 2.495 28.93 28.93 0 0 1 9.702 7.239zm12.017-8.433h9.769V0h-9.769zm20.872 0h9.417l22.173 34.014v-34.014h9.839V0h-9.452l-22.137-33.909V0h-9.839z",transform:"translate(126.659 81.279)",style:{fill:"#1d55a3"}}),C.createElement("g",{"data-name":"Group 1",transform:"translate(-140.2 -856.582)"},C.createElement("path",{"data-name":"Path 1",d:"m188.35 933.532-23.93 24.68A55.784 55.784 0 0 1 142.2 927.1l30.18-9.59a24.677 24.677 0 0 0 15.97 16.022z",style:{fill:"#0096d8"}}),C.createElement("path",{"data-name":"Path 2",d:"M249.23 928.262a55.837 55.837 0 0 1-21.43 29.63l-23.81-24.55a24.633 24.633 0 0 0 15.21-15.33z",style:{fill:"#ceeafa"}}),C.createElement("path",{"data-name":"Path 3",d:"M171.23 910.052a24.511 24.511 0 0 0 1.15 7.46L142.2 927.1a56.014 56.014 0 0 1 1.48-34.27l28.79 9.5a24.341 24.341 0 0 0-1.24 7.722z",style:{fill:"#00a9d7"}}),C.createElement("path",{"data-name":"Path 4",d:"M181.44 890.082a24.575 24.575 0 0 0-8.97 12.25l-28.79-9.5a55.868 55.868 0 0 1 20.63-26.44z",style:{fill:"#6fcadf"}}),C.createElement("path",{"data-name":"Path 5",d:"M195.88 856.582V885.4a24.431 24.431 0 0 0-14.44 4.68l-17.13-23.69a55.4 55.4 0 0 1 31.57-9.808z",style:{fill:"#86c9f0"}}),C.createElement("path",{"data-name":"Path 6",d:"m227.77 866.622-17.3 23.56a24.558 24.558 0 0 0-14.59-4.78v-28.82a55.37 55.37 0 0 1 31.89 10.04z",style:{fill:"#97d4f4"}}),C.createElement("path",{"data-name":"Path 7",d:"m248.34 893.572-28.94 9.09a24.642 24.642 0 0 0-8.93-12.48l17.3-23.56a55.713 55.713 0 0 1 20.57 26.95z",style:{fill:"#a4d7f5"}}),C.createElement("path",{"data-name":"Path 8",d:"M251.56 912.262a55.625 55.625 0 0 1-2.33 16l-30.03-10.25a24.6 24.6 0 0 0 .2-15.35l28.94-9.09a55.348 55.348 0 0 1 3.22 18.69z",style:{fill:"#bce1f7"}}),C.createElement("path",{"data-name":"Path 9",d:"M227.94 957.788a55.707 55.707 0 0 1-63.66.32l24.07-24.58a24.632 24.632 0 0 1-17.12-23.48 24.652 24.652 0 0 1 39.24-19.87 24.642 24.642 0 0 1 8.93 12.48 24.6 24.6 0 0 1-.2 15.35 24.633 24.633 0 0 1-15.21 15.33z",style:{fill:"url(#tlf0fv38la)"}}),C.createElement("path",{"data-name":"Path 10",d:"M227.94 957.788a55.707 55.707 0 0 1-63.66.32l24.07-24.58a24.632 24.632 0 0 1-17.12-23.48 24.652 24.652 0 0 1 39.24-19.87 24.642 24.642 0 0 1 8.93 12.48 24.6 24.6 0 0 1-.2 15.35 24.633 24.633 0 0 1-15.21 15.33z",style:{fill:"none",stroke:"#fff",strokeMiterlimit:10,strokeWidth:2}}),C.createElement("ellipse",{"data-name":"Ellipse 7",cx:15.945,cy:11.233,rx:15.945,ry:11.233,transform:"translate(179.935 890.082)",style:{fill:"url(#w18k46hfgb)"}}))))}var I,_=C.forwardRef(E),L=(r.p,r(71535)),R=r(84395),W=r(34663),D=r(65117),z=r(10703),O=r(93457),T=(0,O.Z)(d.ZP)((function(e){var n=e.theme,r=n.palette,t=n.spacing;return{borderTop:"1px solid ".concat(r.secondary.A200),padding:t(2.5,3,1.25)}})),M=(0,O.Z)(R.Z)((function(e){var n=e.theme,r=n.palette,t=n.spacing;return{borderBottom:"1px solid ".concat(r.secondary.A200),padding:t(0,4)}})),F=(0,O.Z)(W.Z)((function(){return{display:"flex",justifyContent:"space-between",alignItems:"center"}})),U=(0,O.Z)(m.Z)((function(e){return{alignItems:"center",gap:(0,e.theme.spacing)(1.5)}})),q=(0,O.Z)(D.Z)((function(e){e.theme.spacing;return{"& .MuiPaper-root":{minWidth:"200px"}}})),N=(0,O.Z)(z.Z)((function(e){return{width:250,height:270,padding:(0,e.theme.spacing)(2),display:"grid",gridTemplateColumns:"repeat(3,1fr)",gridAutoRows:"80px",alignItems:"center",justifyContent:"center"}})),H=(0,O.Z)(m.Z)((function(e){e.theme.spacing;return{width:"70px",minHeight:"70px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"5px",cursor:"pointer","&:hover":{backgroundColor:"lightgrey","& span":{whiteSpace:"normal",wordWrap:"break-word"}}}})),B=r(29388),V=r(3746),$=r(81131),G=r(87749),Q=r(18384),Y=r(87122),X=r(40501),J=r(41286),K=["title","titleId"];function ee(){return ee=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},ee.apply(this,arguments)}function ne(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function re(e,n){var r=e.title,t=e.titleId,i=ne(e,K);return C.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:52,height:52,viewBox:"0 0 52 52",ref:n,"aria-labelledby":t},i),r?C.createElement("title",{id:t},r):null,I||(I=C.createElement("defs",null,C.createElement("filter",{id:"975cbfvxea",x:0,y:0,width:52,height:52,filterUnits:"userSpaceOnUse"},C.createElement("feOffset",{dy:3}),C.createElement("feGaussianBlur",{stdDeviation:3,result:"blur"}),C.createElement("feFlood",{floodOpacity:.161}),C.createElement("feComposite",{operator:"in",in2:"blur"}),C.createElement("feComposite",{in:"SourceGraphic"})))),C.createElement("g",{"data-name":"Group 6919"},C.createElement("g",{style:{filter:"url(#975cbfvxea)"}},C.createElement("circle",{"data-name":"Ellipse 696",cx:17,cy:17,r:17,transform:"translate(9 6)",style:{fill:"#3266cc"}})),C.createElement("path",{"data-name":"Icon ionic-md-add",d:"M21.867 15.316h-6.551v6.551H13.3v-6.551H6.75V13.3h6.55V6.75h2.016v6.55h6.551z",transform:"translate(11.691 8.691)",style:{fill:"#fff"}})))}var te=C.forwardRef(re);r.p;function ie(e){var n,r=0;for(n=0;n<e.length;n+=1)r=e.charCodeAt(n)+((r<<5)-r);var t="#";for(n=0;n<3;n+=1){t+="00".concat((r>>8*n&255).toString(16)).slice(-2)}return t}function ae(e,n){var r=e.pathname.split("/"),t=r[r.length-1];return le[t]||[]}var le={"user-management":[{label:"Home",link:"/"},{label:"User Management"}],profile:[{label:"Home",link:"/"},{label:"Profile"}],"audit-trail":[{label:"Home",link:"/"},{label:"User Management",link:"user-management"},{label:"Audit Trail"}],"create-user":[{label:"Home",link:"/"},{label:"User Management",link:"user-management"},{label:"Create/Edit User"}]},oe=r(43504),se=r(94858),de=r(91933),ce=r(5462),ue=r(83738),pe=r(68596),he=r(57482),fe=r(61134),xe=r(66934),me=r(57621),ve=(0,xe.ZP)(m.Z)((function(){return{mt:"auto",display:"grid",placeItems:"center"}})),ge=(0,xe.ZP)(me.Z)((function(){return{display:"flex",width:"940px"}})),Ze=(0,xe.ZP)(me.Z)((function(){return{display:"flex",flexDirection:"column"}})),je=(0,xe.ZP)(m.Z)((function(){return{width:"300px",background:"#F1F1F1",display:"flex",flexDirection:"column",padding:"1rem",gap:"2rem"}})),be=(0,xe.ZP)(m.Z)((function(){return{display:"grid",placeItems:"center",marginTop:"2rem",gap:"0.5rem"}})),ye=(0,xe.ZP)(m.Z)((function(){return{display:"flex",justifyContent:"center",alignItems:"center",width:105,height:105,backgroundColor:"white",borderRadius:"50%"}})),we=(0,xe.ZP)(m.Z)((function(){return{display:"flex",flexDirection:"column",gap:"0.75rem"}})),ke=(0,xe.ZP)(m.Z)((function(){return{height:"2px",background:"#F9F9F999"}})),Ce=r(61265),Se=r(66982),Pe=Se.Ry({first_name:Se.Z_().required("First name should not be empty."),last_name:Se.Z_().required("Last name should not be empty."),contact_no:Se.Z_().matches(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/,"Phone number is not valid").required("Contact no should not be empty."),address:Se.Z_().required("Address should not be empty.")}).required(),Ae=r(47047),Ee=r(82422),Ie=r(13239),_e=r(80184),Le=["isLoading"],Re=[{icon:(0,_e.jsx)(Y.Z,{sx:{color:"#c8c8c8",fontSize:"1rem"}}),label:"Account Settings",to:"/profile",isActive:!0},{icon:(0,_e.jsx)(X.Z,{sx:{color:"#c8c8c8",fontSize:"1rem"}}),label:"Personal Information",to:"/profile",isActive:!1},{icon:(0,_e.jsx)(G.Z,{sx:{color:"#c8c8c8",fontSize:"1rem"}}),label:"Privacy",to:"/profile",isActive:!1}];function We(e){var n=new FormData;return n.append("image",e.image),(0,ce.gz)("user/profile-image",n)}var De=function(e){var n=e.profileImage,r=e.fullName,t=e.isLoading,i=(0,de.useQueryClient)(),a=(0,de.useMutation)(We,{onSuccess:function(){console.log("Image Uploaded Successfully"),i.invalidateQueries("profile")}}),l=(a.data,a.mutate),o=a.isLoading,s=function(){var e=(0,u.Z)(f().mark((function e(n){var r,t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==n&&void 0!==n&&n.target&&(t=null===(r=n.target.files)||void 0===r?void 0:r[0])&&l({image:t});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,_e.jsxs)(je,{children:[(0,_e.jsxs)(be,{children:[(0,_e.jsxs)(ye,{children:[t&&(0,_e.jsx)(m.Z,{children:(0,_e.jsx)(Ae.Z,{animation:"wave",variant:"circular",width:100,height:100})}),!t&&(0,_e.jsx)(Ee.Z,{overlap:"circular",anchorOrigin:{horizontal:"right",vertical:"top"},badgeContent:(0,_e.jsx)(v.Z,{size:"small",color:"primary",children:(0,_e.jsxs)("label",{htmlFor:"upload-photo-fahad",children:[(0,_e.jsx)("input",{id:"upload-photo-fahad",accept:"image/*",type:"file",onChange:s,style:{display:"none"}}),(0,_e.jsx)(te,{width:28,height:28})]})}),children:(0,_e.jsx)(ze,{isLoading:o,children:(0,_e.jsx)(j.Z,{sx:{width:100,height:100},src:"".concat("http://18.134.217.103/api/v1","/").concat(n)||0})})})]}),(0,_e.jsx)(Z.Z,{color:"primary",variant:"subtitle1",fontWeight:"bold",children:t?(0,_e.jsx)(Ae.Z,{animation:"wave",width:100}):r})]}),(0,_e.jsx)(we,{children:Re.map((function(e,n){var r=e.icon,t=e.label,i=(e.to,e.isActive);return(0,_e.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",gap:"1rem"},children:[r,(0,_e.jsx)(m.Z,{children:(0,_e.jsx)(k.Z,{disabled:!i,component:"button",color:"#636363",underline:"none",variant:"body1",fontWeight:"600",children:t},t)})]},n)}))})]})};function ze(e){var n=e.isLoading,r=(0,ue.Z)(e,Le);return(0,_e.jsxs)(m.Z,{sx:{position:"relative",display:"flex",alignItems:"center"},children:[(0,_e.jsx)(Ie.Z,(0,c.Z)({thickness:1,size:110,variant:"indeterminate",style:{visibility:n?"visible":"hidden"}},r)),(0,_e.jsx)(m.Z,{sx:{top:0,left:5,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center"},children:r.children})]})}var Oe=r(94925),Te=r(63466),Me=r(78469),Fe=(0,O.Z)(m.Z)((function(){return{display:"flex",alignItems:"center",gap:"0.5rem"}})),Ue=function(e){var n=e.text,r=e.icon,t=void 0===r?(0,_e.jsx)(B.Z,{}):r;return(0,_e.jsxs)(Fe,{component:"span",children:[t,n]})},qe=["name"],Ne=function(e){var n=e.name,r=(0,ue.Z)(e,qe),t=(0,fe.Gc)().control;return(0,_e.jsx)(fe.Qr,{control:t,name:n,render:function(e){var t,i=e.field,a=(e.fieldState,e.fieldState.error),l=(e.formState,e.formState.errors);return(0,_e.jsx)(Me.Z,(0,c.Z)((0,c.Z)((0,c.Z)({},r),i),{},{error:!!a,helperText:(null===l||void 0===l?void 0:l[n])&&(0,_e.jsx)(Ue,{text:null===l||void 0===l||null===(t=l[n])||void 0===t?void 0:t.message})}))}})},He=r(36151),Be=(0,xe.ZP)(He.Z)((function(){return{paddingLeft:"2.5rem",paddingRight:"2.5rem"}})),Ve=["children"],$e=function(e){var n=e.children,r=(0,ue.Z)(e,Ve);return(0,_e.jsx)(Be,(0,c.Z)((0,c.Z)({},r),{},{children:n}))},Ge=function(e){var n=e.mutationLoading,r=e.isLoading;return(0,_e.jsx)(m.Z,{sx:{flex:1},children:(0,_e.jsxs)(m.Z,{sx:{padding:"2rem",pt:"3rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,_e.jsx)(Z.Z,{variant:"h5",fontWeight:"bold",color:"primary",children:r?(0,_e.jsx)(Ae.Z,{animation:"wave"}):"Account Setting"}),(0,_e.jsxs)(m.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2,1fr)",mt:"1rem",gap:"1rem"},children:[(0,_e.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,_e.jsx)(Oe.Z,{variant:"standard",children:(0,_e.jsx)(Z.Z,{color:"#444444",children:"First Name"})}),r?(0,_e.jsx)(Ae.Z,{animation:"wave",height:60}):(0,_e.jsx)(Ne,{inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,placeholder:"Ryan",size:"small",name:"first_name",variant:"outlined",type:"text"})]}),(0,_e.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,_e.jsx)(Oe.Z,{variant:"standard",children:(0,_e.jsx)(Z.Z,{color:"#444444",children:"Last Name"})}),r?(0,_e.jsx)(Ae.Z,{animation:"wave",height:60}):(0,_e.jsx)(Ne,{inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,placeholder:"Gosling",size:"small",name:"last_name",variant:"outlined"})]}),(0,_e.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,_e.jsx)(Oe.Z,{variant:"standard",children:(0,_e.jsx)(Z.Z,{color:"#444444",children:"Email"})}),r?(0,_e.jsx)(Ae.Z,{animation:"wave",height:60}):(0,_e.jsx)(Ne,{disabled:!0,"aria-disabled":!0,inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,placeholder:"example@gmail.com",size:"small",name:"email",variant:"outlined",InputProps:{endAdornment:(0,_e.jsx)(Te.Z,{position:"start",children:(0,_e.jsx)(J.Z,{fontSize:"small"})})}})]}),(0,_e.jsx)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem"}}),(0,_e.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,_e.jsx)(Oe.Z,{variant:"standard",children:(0,_e.jsx)(Z.Z,{color:"#444444",children:"Phone number"})}),r?(0,_e.jsx)(Ae.Z,{animation:"wave",height:60}):(0,_e.jsx)(Ne,{inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,placeholder:"xxxx xxxx xxxx",size:"small",name:"contact_no",type:"tel",variant:"outlined",InputProps:{endAdornment:(0,_e.jsx)(Te.Z,{position:"start",children:(0,_e.jsx)(J.Z,{fontSize:"small"})})}})]}),(0,_e.jsx)(m.Z,{}),(0,_e.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem",gridColumn:"1/-1"},children:[(0,_e.jsx)(Oe.Z,{variant:"standard",children:(0,_e.jsx)(Z.Z,{color:"#444444",children:"Address"})}),r?(0,_e.jsx)(Ae.Z,{animation:"wave",height:60}):(0,_e.jsx)(Ne,{inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,placeholder:"Address",size:"small",name:"address",variant:"outlined"})]})]}),(0,_e.jsxs)(m.Z,{marginLeft:"auto",mt:"2rem",display:"flex",gap:"1rem",children:[(0,_e.jsx)($e,{variant:"outlined",children:"Cancel"}),(0,_e.jsx)($e,{disabled:n,type:"submit",variant:"contained",children:"Save"})]})]})})},Qe=["handleSubmit","control","reset"],Ye={address:"",first_name:"",last_name:"",email:"",contact_no:"",profile_image:""};function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.charAt(0).toUpperCase()+e.slice(1)}function Je(){return(0,ce.U2)("user")}function Ke(e){return(0,ce.gz)("user",e)}var en=function(){var e,n=(0,de.useQueryClient)(),r=(0,de.useQuery)("profile",Je),t=r.data,i=r.isLoading,a=r.isError,l=r.error,o=r.isSuccess,s=(r.isRefetching,r.status,(0,de.useMutation)(Ke,{onSuccess:function(){n.invalidateQueries("profile")}})),d=s.mutate,u=s.isLoading,p=(s.isError,s.error,null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.user_info),h=null===p||void 0===p?void 0:p.first_name,f=null===p||void 0===p?void 0:p.last_name,x=(null===p||void 0===p?void 0:p.profile_image)||"",v=(0,fe.cI)({defaultValues:Ye,resolver:(0,Ce.X)(Pe)}),g=v.handleSubmit,Z=v.control,j=v.reset,b=(0,ue.Z)(v,Qe),y="".concat(Xe(h),"  ").concat(Xe(f))||"";(0,C.useEffect)((function(){o&&j(p)}),[o,j]);var w=g((function(e){var n=e.first_name,r=e.last_name,t=e.contact_no,i=e.address;d({first_name:n,last_name:r,contact_no:t,address:i})})),k=(0,c.Z)({handleSubmit:g,control:Z,reset:j},b);return a?(0,_e.jsx)(m.Z,{children:l.message}):(0,_e.jsxs)(fe.RV,(0,c.Z)((0,c.Z)({},k),{},{children:[(0,_e.jsx)(pe.DevTool,{control:Z}),(0,_e.jsx)("form",{onSubmit:w,children:(0,_e.jsx)(ve,{children:(0,_e.jsxs)(Ze,{children:[(0,_e.jsx)(ke,{children:(i||u)&&(0,_e.jsx)(he.Z,{})}),(0,_e.jsxs)(ge,{children:[(0,_e.jsx)(De,{fullName:y,isLoading:i,profileImage:x}),(0,_e.jsx)(Ge,{isLoading:i,mutationLoading:u})]})]})})})]}))},nn=["Profile","Account","User Management","Logout"];function rn(){return(0,ce.U2)("service-providers")}var tn=function(){var e,n,r,t,a=C.useState(null),l=(0,p.Z)(a,2),s=(l[0],l[1],C.useState(null)),h=(0,p.Z)(s,2),S=h[0],P=h[1],A=C.useState(null),E=(0,p.Z)(A,2),I=E[0],R=E[1],W=(0,o.TH)(),D=(0,o.s0)(),z=(0,se.E)(),O=(0,de.useQuery)("splist",rn,{refetchOnWindowFocus:!1}),T=O.data,B=(O.isLoading,O.isError,O.error,(0,de.useQuery)("profile",Je,{refetchOnWindowFocus:!1})),V=B.data,G=(B.isLoading,B.isError,B.error,null===V||void 0===V||null===(e=V.data.user_info)||void 0===e?void 0:e.first_name),Q=null===V||void 0===V||null===(n=V.data.user_info)||void 0===n?void 0:n.last_name,Y="".concat(G," ").concat(Q),X=null===T||void 0===T||null===(r=T.data)||void 0===r?void 0:r.serviceproviders,J=function(){P(null)},K=function(){R(null)},ee=Boolean(I),ne=ee?"apps-menu":void 0,re=function(){var e=(0,u.Z)(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="Profile"===e.t0?3:"Account"===e.t0?5:"User Management"===e.t0?6:"Logout"===e.t0?8:13;break;case 3:return D("/profile"),e.abrupt("break",13);case 5:return e.abrupt("break",13);case 6:return D("/user-management"),e.abrupt("break",13);case 8:if(!z){e.next=12;break}return e.next=11,z.logOut();case 11:e.sent;case 12:return e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,_e.jsxs)(d.ZP,{item:!0,children:[(0,_e.jsx)(M,{position:"static",color:"inherit",elevation:0,children:(0,_e.jsxs)(F,{disableGutters:!0,children:[(0,_e.jsx)(_,{width:180,height:42}),(0,_e.jsxs)(U,{display:"flex",children:[(0,_e.jsx)(x.Z,{mouseEvent:"onMouseDown",touchEvent:"onTouchStart",onClickAway:K,children:(0,_e.jsxs)(m.Z,{children:[(0,_e.jsx)(v.Z,{"aria-describedby":ne,onClick:function(e){R(I?null:e.currentTarget)},children:(0,_e.jsx)(L.Z,{fontSize:"large",sx:{color:"#454545"}})}),(0,_e.jsx)(g.Z,{id:ne,open:ee,onClick:K,anchorEl:I,children:(0,_e.jsx)(N,{elevation:2,children:null===X||void 0===X?void 0:X.map((function(e){var n=e.id,r=e.name,t=(e.is_accessible,e.image),i=e.host_url;return(0,_e.jsx)("a",{target:"_blank",href:"http://".concat(i),children:(0,_e.jsxs)(H,{children:[(0,_e.jsx)("img",{style:{maxWidth:"40%",flex:1},src:"".concat("http://18.134.217.103/api/v1","/").concat(t),alt:"logos"}),(0,_e.jsx)(Z.Z,{sx:{maxWidth:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"center",color:"gray"},color:"inherit",variant:"caption",children:r})]},n)},r)}))})})]})}),(0,_e.jsx)(j.Z,(0,c.Z)((0,c.Z)({},(t=Y,{sx:{bgcolor:ie(t),width:"32px",height:"32px",fontSize:"1rem"},children:"".concat(t.split(" ")[0][0]).concat(t.split(" ")[1][0])})),{},{src:"/static/images/avatar/2.jpg"})),(0,_e.jsx)(b.Z,{title:"Open settings",children:(0,_e.jsx)(v.Z,{disableRipple:!0,onClick:function(e){P(e.currentTarget)},sx:{p:0},children:(0,_e.jsx)($.Z,{})})}),(0,_e.jsx)(q,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:S,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(S),onClick:J,onClose:J,children:nn.map((function(e){return(0,_e.jsx)(y.Z,{divider:!0,onClick:function(){return re(e)},children:(0,_e.jsx)(Z.Z,{textAlign:"center",children:e})},e)}))})]})]})}),(0,_e.jsx)(i.Z,{maxWidth:"xl",children:(0,_e.jsx)(m.Z,{my:1,pl:2.5,children:(0,_e.jsx)(w.Z,{"aria-label":"breadcrumb",children:ae(W).map((function(e,n){return e.link?(0,_e.jsx)(k.Z,{component:oe.rU,to:e.link,underline:"hover",color:"primary",children:e.label},n):(0,_e.jsx)(Z.Z,{color:"text.primary",children:e.label},n)}))})})})]})},an=r(67414),ln=function(){return(0,_e.jsx)(T,{item:!0,children:(0,_e.jsx)(an.Z,{direction:"row",spacing:4,children:[{name:"FAQs",link:"/faqs"},{name:"Privacy",link:"/privacy"},{name:"Terms",link:"/terms"}].map((function(e){var n=e.name,r=e.link;return(0,_e.jsx)(k.Z,{component:oe.rU,color:"primary",underline:"none",variant:"subtitle2",to:r,fontWeight:"bold",children:n},r)}))})})},on=function(e){e.children;var n=(0,se.E)();return null!==n&&void 0!==n&&n.authed?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(tn,{}),(0,_e.jsx)(s.ZP,{}),(0,_e.jsx)(i.Z,{maxWidth:"xl",sx:function(e){return{backgroundColor:e.palette.secondary[200]}},children:(0,_e.jsxs)(d.ZP,{container:!0,display:"flex",direction:"column",minHeight:"100vh",children:[(0,_e.jsx)(d.ZP,{item:!0,color:"#454545",flex:"1",sx:{padding:"20px"},children:(0,_e.jsx)(o.j3,{})}),(0,_e.jsx)(ln,{})]})})]}):(0,_e.jsx)(o.Fg,{to:"/sign-in"})},sn=r(35146),dn=(0,xe.ZP)(m.Z)((function(e){var n=e.theme.palette;return{"& .auth-container":{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.25rem"},"& .auth-input":{maxWidth:"83px",border:"2px solid ".concat(n.secondary[900]),borderRadius:"4px",padding:0,fontSize:"2rem",textAlign:"center",background:"white",fontFamily:"lato",backgroundClip:"padding-box"}}})),cn=function(e){return(0,_e.jsx)("svg",(0,c.Z)((0,c.Z)({viewBox:"0 0 81.326 80.809",xmlns:"http://www.w3.org/2000/svg",height:"100%"},e),{},{children:(0,_e.jsxs)("g",{"data-name":"Group 6497",children:[(0,_e.jsx)("circle",{"data-name":"Ellipse 4",cx:9.816,cy:9.816,r:9.816,style:{fill:"#006feb"},transform:"translate(30.854 30.585)"}),(0,_e.jsx)("path",{"data-name":"Path 102",d:"M2592.17 1572.424a40.675 40.675 0 0 0 51.867 4.711l-13.568-13.568a22.069 22.069 0 1 1-18.752-39.955v-19.554a40.672 40.672 0 0 0-19.547 68.366zm44.357-44.357a22.07 22.07 0 0 1 4.77 24.087L2655 1565.86a40.674 40.674 0 0 0-27.563-62.334v19.055a22.02 22.02 0 0 1 9.09 5.486z",transform:"translate(-2580.259 -1503.527)",style:{fill:"#006feb"}})]})}))},un=r(52791),pn=(0,xe.ZP)(un.Z,{shouldForwardProp:function(e){return"isActive"!==e&&"disabled"!==e}})((function(e){var n=e.theme,r=n.palette,t=n.spacing,i=e.isActive,a=e.width,l=e.disabled,o=i?r.primary.A400:r.secondary[800];return l&&(o=r.action.disabled),{width:null!==a&&void 0!==a?a:"100%",height:45,padding:t(.8),border:i?"1px solid":"none",borderColor:o,borderRadius:"3.5px",display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer","&:hover":{border:"1px solid ".concat(i?r.primary.A400:r.secondary[800])},"& > svg":{maxWidth:null!==a&&void 0!==a?a:"50%"}}})),hn=function(e){e.icon;var n=e.isActive,r=e.children,t=e.width,i=e.disabled;return(0,_e.jsxs)(pn,{width:t,isActive:n,disabled:i,children:[(0,_e.jsx)(un.Z,{display:"flex",alignItems:"center",sx:function(e){return{fontSize:16,width:25,color:i?e.palette.action.disabled:e.palette.primary.A400}},children:n&&(0,_e.jsx)(Q.Z,{color:"inherit",fontSize:"inherit"})}),(0,_e.jsx)(un.Z,{display:"flex",alignItems:"center",width:"100%",sx:function(){return{display:"inline-block",position:"relative",width:"100%",verticalAlign:"middle",overflow:"hidden",height:"100%","& svg":{display:"inline-block",position:"absolute",top:0,left:0}}},children:r})]})},fn=["type","placeholder","fullWidth","error","helperText"],xn=function(e){var n=e.type,r=e.placeholder,t=e.fullWidth,i=e.error,a=e.helperText,l=(0,ue.Z)(e,fn);return(0,_e.jsx)(Me.Z,(0,c.Z)({type:n,placeholder:r,fullWidth:t,error:i,helperText:a?(0,_e.jsx)(Ue,{component:"span",text:"Invalid password"}):null,InputProps:{endAdornment:"password"===n&&(0,_e.jsx)(Te.Z,{position:"end",children:(0,_e.jsx)(v.Z,{"aria-label":"toggle password visibility",edge:"end",children:(0,_e.jsx)(V.Z,{})})})}},l))},mn=function(){return(0,_e.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,_e.jsx)(d.ZP,{xs:2,item:!0,children:(0,_e.jsx)(hn,{sx:{marginLeft:"auto"},children:(0,_e.jsx)(cn,{})})}),(0,_e.jsxs)(d.ZP,{container:!0,xs:10,alignItems:"center",item:!0,children:[(0,_e.jsxs)(d.ZP,{container:!0,item:!0,alignItems:"center",spacing:2,children:[(0,_e.jsx)(d.ZP,{xs:10,item:!0,children:(0,_e.jsx)(xn,{error:!0,helperText:"hello",placeholder:"Email",defaultValue:"",variant:"outlined",type:"text",fullWidth:!0})}),(0,_e.jsx)(d.ZP,{alignItems:"center",whiteSpace:"nowrap",xs:2,item:!0,children:(0,_e.jsx)(He.Z,{variant:"text",children:"Send OTP"})})]}),(0,_e.jsxs)(Z.Z,{mt:.1,variant:"subtitle1",children:["Enter the code we just sent to",(0,_e.jsx)(Z.Z,{variant:"body1",color:"primary",children:"username2@mail.com"})]}),(0,_e.jsxs)(d.ZP,{mt:.1,container:!0,alignItems:"center",item:!0,spacing:2,children:[(0,_e.jsx)(d.ZP,{xs:10,item:!0,children:(0,_e.jsx)(dn,{children:(0,_e.jsx)(sn.Z,{isPassword:!0,ariaLabel:"please enter the otp",autoFocus:!0,length:4,onChange:function(e){console.log(e)},containerClassName:"auth-container",inputClassName:"auth-input"})})}),(0,_e.jsx)(d.ZP,{md:2,item:!0,children:(0,_e.jsx)($e,{size:"large",variant:"contained",children:"Verify"})})]}),(0,_e.jsx)(d.ZP,{xs:!0,item:!0,mt:1,children:(0,_e.jsx)(m.Z,{children:(0,_e.jsx)(Ue,{icon:(0,_e.jsx)(Q.Z,{fontSize:"small",color:"success"}),text:"OTP verified"})})})]})]})},vn=r(94721),gn=(0,O.Z)(an.Z)((function(){return{maxHeight:438,overflow:"auto"}})),Zn=(0,O.Z)(un.Z)((function(){return{display:"flex",width:"100%"}})),jn=(0,xe.ZP)(me.Z,{shouldForwardProp:function(e){return"disabled"!==e}})((function(e){e.theme.palette;return{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"7px",width:"93px",height:"90px",position:"relative",boxShadow:"4px 4px 12px 0 rgba(23, 50, 104, 0.13)",pointerEvents:e.disabled?"none":"initial"}})),bn=function(e){var n=e.icon,r=e.disabled;return(0,_e.jsxs)(jn,{elevation:3,disabled:r,children:[(0,_e.jsx)(m.Z,{sx:{position:"absolute",top:7,right:3},children:r&&(0,_e.jsx)(G.Z,{fontSize:"small"})}),(0,_e.jsx)(m.Z,{sx:{},children:(0,_e.jsx)("img",{alt:"Dr iq",width:"40.65px",height:"40.4px",src:"".concat("http://18.134.217.103/api/v1","/").concat(n)})})]})},yn=r(1920),wn=r(3695),kn=function(e){return(0,_e.jsxs)(m.Z,{textAlign:"center",p:4,children:[(0,_e.jsx)(yn.Z,{fontSize:"large"}),(0,_e.jsx)(wn.Z,{children:"There was an error loading data"}),(0,_e.jsx)(wn.Z,{children:"Refresh to try again"})]})};function Cn(){return(0,ce.U2)("service-providers")}var Sn=function(e){e.products;var n,r=(0,de.useQuery)("splist",Cn),t=r.data,i=r.isLoading,a=r.isError,l=(r.error,null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.serviceproviders);return i?(0,_e.jsx)(an.Z,{spacing:3,direction:"row",flexWrap:"wrap",justifyContent:"center",gap:1,children:Array(7).fill(!0).map((function(e,n){return(0,_e.jsxs)(an.Z,{spacing:1,children:[(0,_e.jsx)(Ae.Z,{variant:"rectangular",width:93,height:90}),(0,_e.jsx)(Ae.Z,{variant:"text",width:93})]},n)}))}):a?(0,_e.jsx)(kn,{}):null!==l&&void 0!==l&&l.length?(0,_e.jsx)(Zn,{justifyContent:"flex-start",flexWrap:"wrap",gap:3,children:l.map((function(e){var n=e.id,r=e.name,t=e.is_accessible,i=e.image;return(0,_e.jsxs)(m.Z,{display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[(0,_e.jsx)(bn,{icon:i,disabled:!t}),(0,_e.jsx)(Z.Z,{color:"primary.900",fontWeight:"bold",variant:"body1",children:r})]},n)}))}):(0,_e.jsx)(Z.Z,{textAlign:"center",variant:"body1",children:"No Product available"})};var Pn=r.p+"static/media/DRIQ.78bcc5e14d06df590851c563972ae66c.svg";var An=r.p+"static/media/EZDOC.915e7563452daba7d47cd6d7e1a69668.svg";var En=r.p+"static/media/EZPATH.1c65c5aa16598aa65c02928c2b49823d.svg";var In=r.p+"static/media/EZANALYTICS.1fca3721a2ce4a47a24ec26f68bb4dab.svg";var _n=r.p+"static/media/EZNAV.ce0d018f842e59bcf438813e5733b2b0.svg",Ln=r(36222),Rn=r(79836),Wn=r(81333),Dn=r(46563),zn=r(53382),On=r(68745),Tn=r(90618),Mn=r(35855),Fn=((0,xe.ZP)(Rn.Z)((function(e){var n=e.theme.spacing;return{borderCollapse:"separate",borderSpacing:"0 ".concat(n(.3))}})),(0,xe.ZP)(m.Z)((function(e){e.theme.shape;return{}})),(0,xe.ZP)(zn.Z)((function(e){e.theme.palette;return{}})),(0,xe.ZP)(On.Z)((function(e){var n=e.theme,r=(n.shape,n.palette);return(0,Ln.Z)({border:"none"},"&.".concat(Tn.Z.head),{fontWeight:"bold",color:r.text.mute,borderBottom:"2px solid lightgrey"})})),(0,xe.ZP)(Mn.Z)((function(e){var n=e.theme,r=n.palette;n.spacing;return{backgroundColor:r.background.paper,border:"2px solid green"}})),(0,xe.ZP)(Mn.Z)((function(e){var n=e.theme,r=n.palette;n.spacing;return{backgroundColor:r.background.paper,"&:nth-of-type(even)":{backgroundColor:r.action.hover}}})),(0,xe.ZP)(m.Z)((function(e){var n=e.theme,r=n.palette,t=n.spacing;return{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",border:"solid 1px ".concat(r.grey[300]),marginTop:t(1),padding:t(2),backgroundColor:r.background.paper,"& > div":{}}})),(0,xe.ZP)(Wn.Z)((function(){return{}})),(0,xe.ZP)(Dn.Z)((function(e){var n=e.theme,r=n.palette,t=n.shape;return{height:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:parseInt("".concat(t.borderRadius))/2,border:"solid 1px ".concat(r.grey[200])}})),r(72426)),Un=r.n(Fn);function qn(e,n,r,t,i){return{name:e,calories:n,fat:r,carbs:t,protein:i}}qn("Frozen yoghurt",159,6,24,4),qn("Ice cream sandwich",237,9,37,4.3),qn("Eclair",262,16,24,6),qn("Cupcake",305,3.7,67,4.3),qn("Gingerbread",356,16,49,3.9);var Nn,Hn,Bn,Vn=function(e,n,r){return(0,u.Z)(f().mark((function t(){var i,a,l;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,ce.v_)("http://18.134.217.103/graphql",{query:e,variables:n},r);case 3:if(a=t.sent,!((null===(l=null===(i=a.data)||void 0===i?void 0:i.errors)||void 0===l?void 0:l.length)>0)){t.next=7;break}throw new Error(l[0].message);case 7:return t.abrupt("return",a.data);case 10:throw t.prev=10,t.t0=t.catch(0),new Error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))};!function(e){e.Application="application",e.User="user"}(Nn||(Nn={})),function(e){e.Backward="backward",e.Forward="forward"}(Hn||(Hn={})),function(e){e.PracticeAdmin="practice_admin",e.SubAdmin="sub_admin",e.SuperAdmin="super_admin"}(Bn||(Bn={}));var $n=r(5125),Gn=r(39281),Qn=r(56890),Yn=r(56989),Xn=(0,xe.ZP)(Rn.Z)((function(e){var n=e.theme.spacing;return{borderCollapse:"separate",borderSpacing:"0 ".concat(n(.3))}})),Jn=(0,xe.ZP)(m.Z)((function(){return{}})),Kn=(0,xe.ZP)(zn.Z)((function(){return{}})),er=(0,xe.ZP)(On.Z)((function(e){var n=e.theme.palette;return(0,Ln.Z)({border:"none"},"&.".concat(Tn.Z.head),{fontWeight:"bold",color:n.text.mute})})),nr=(0,xe.ZP)(Mn.Z)((function(e){var n=e.theme,r=n.palette;n.spacing;return{backgroundColor:r.background.paper,border:"none"}})),rr=(0,xe.ZP)(Mn.Z)((function(e){var n=e.theme,r=n.palette;n.spacing;return{backgroundColor:r.background.paper}})),tr=(0,xe.ZP)(m.Z)((function(e){var n=e.theme,r=n.palette,t=n.spacing;return{position:"sticky",bottom:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",border:"solid 1px ".concat(r.grey[300]),marginTop:t(1),padding:t(2),backgroundColor:r.background.paper,"& > div":{}}})),ir=(0,xe.ZP)(Wn.Z)((function(){return{}})),ar=(0,xe.ZP)(Dn.Z)((function(e){var n=e.theme,r=n.palette,t=n.shape;return{height:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:parseInt("".concat(t.borderRadius))/2,border:"solid 1px ".concat(r.grey[200])}})),lr=(0,xe.ZP)(Yn.Z)((function(){return{transform:"rotate(90deg)"}})),or=r(54898),sr=r(37355),dr=r(82990),cr=r(42161),ur=r(71358),pr=C.memo;function hr(e){var n=e.columns,r=e.data,t=e.filters,i=e.rowsPerPage,a=e.useSorting,l=e.hiddenColumns,o=e.metaData,s=e.setPage,d=e.page,u=e.paginationType,h=e.disabled,f=e.dataLoading,x=(0,C.useMemo)((function(){return n}),[]),m=(0,C.useMemo)((function(){return r}),[r]),v=[ur.useFilters];a&&v.push(ur.useSortBy),v.push(ur.usePagination);var g=ur.useTable.apply(void 0,[{columns:x,data:m,initialState:{pageSize:i||10,pageIndex:0,hiddenColumns:l},manualPagination:!0,pageCount:"page_count"in o?null===o||void 0===o?void 0:o.page_count:0,autoResetPage:!1}].concat(v)),j=g.getTableProps,b=g.getTableBodyProps,y=g.headerGroups,w=g.prepareRow,k=g.setFilter,S=g.page,P=g.pageCount,A=g.gotoPage,E=g.setPageSize,I=g.canNextPage,_=g.state,L=_.pageIndex,R=_.pageSize;(0,C.useEffect)((function(){t&&Object.entries(t).forEach((function(e){var n=(0,p.Z)(e,2),r=n[0],t=n[1];return k(r,t)}))}),[t]),(0,C.useEffect)((function(){i&&(E(i),A(0))}),[i]);var W="cursor"===u,D=Math.abs(R-S.length),z=L*R+1,O=I?L*R+R:null===o||void 0===o?void 0:o.total_records;return(0,_e.jsxs)(un.Z,{children:[(0,_e.jsx)(Gn.Z,{component:Jn,children:(0,_e.jsxs)(Xn,(0,c.Z)((0,c.Z)({sx:{minWidth:700},"aria-label":"customized table"},j()),{},{children:[(0,_e.jsx)(Qn.Z,{children:y.map((function(e){return(0,_e.jsx)(nr,(0,c.Z)((0,c.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,n){return(0,_e.jsx)(er,(0,c.Z)((0,c.Z)({},e.getHeaderProps(a?e.getSortByToggleProps():void 0)),{},{children:(0,_e.jsx)(un.Z,{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",children:(0,_e.jsxs)(_e.Fragment,{children:[e.render("Header"),a&&(0,_e.jsx)(un.Z,{component:"span",children:e.isSorted?e.isSortedDesc?(0,_e.jsx)(or.Z,{}):(0,_e.jsx)(sr.Z,{}):e.canSort?(0,_e.jsx)(lr,{}):null})]})})}))}))}))}))}),(0,_e.jsxs)(Kn,(0,c.Z)((0,c.Z)({},b()),{},{children:[S.map((function(e){return w(e),(0,_e.jsx)(rr,(0,c.Z)((0,c.Z)({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,_e.jsx)(er,(0,c.Z)((0,c.Z)({},e.getCellProps()),{},{children:(0,_e.jsx)(Z.Z,{variant:"body1",children:(0,_e.jsx)(_e.Fragment,{children:e.render("Cell")})})}))}))}))})),new Array(D).fill(0).map((function(){return(0,_e.jsx)(rr,{sx:function(){return{backgroundColor:"transparent"}},children:(0,_e.jsx)(er,{colSpan:n.length,children:f?(0,_e.jsx)(Ae.Z,{width:"100%",children:(0,_e.jsx)(Z.Z,{children:"\xa0"})}):(0,_e.jsx)(Z.Z,{variant:"body1",children:"\xa0"})})})}))]}))]}))}),(0,_e.jsxs)(tr,{children:[(0,_e.jsx)(un.Z,{children:(0,_e.jsx)(Z.Z,{children:"cursor"===u?"".concat((null===o||void 0===o?void 0:o.total_records)||""," total records"):"Showing ".concat(z," to ").concat(O," of ").concat((null===o||void 0===o?void 0:o.total_records)||"")})}),(0,_e.jsx)(un.Z,{children:(0,_e.jsx)(ir,{color:"primary",count:"page_count"in o?(null===o||void 0===o?void 0:o.page_count)||P:0,shape:"rounded",page:d,disabled:h,onChange:function(e,n){A(n-1),null===s||void 0===s||s(n)},renderItem:function(e){var n="next"===e.type?"forward":"backward",r="next"===e.type?!(null!==o&&void 0!==o&&o.hasNextPage):!(null!==o&&void 0!==o&&o.hasPreviousPage);return W&&"page"===e.type?null:"page"===e.type?(0,_e.jsx)(ar,(0,c.Z)((0,c.Z)({},e),{},{components:{next:dr.Z,previous:cr.Z},onClick:function(n){null!==e&&void 0!==e&&e.page&&(A(e.page-1),null===s||void 0===s||s(e.page))}})):(0,_e.jsx)(ar,(0,c.Z)((0,c.Z)((0,c.Z)({},e),{},{components:{next:dr.Z,previous:cr.Z}},W?{disabled:r}:{}),{},{onClick:W?function(){return null===s||void 0===s?void 0:s(null,n)}:e.onClick}))}})})]})]})}hr.defaultProps={hiddenColumns:[],paginationType:"paged",dataLoading:!1};var fr=pr(hr),xr=r(30456);var mr=r.p+"static/media/EZLCircle.b47472b526b4d92db07a2268b32a739a.svg",vr=["sub"],gr={"ez-login":{name:"EZ Login",icon:mr},"ez-doc":{name:"EZ Doc",icon:An},"ez-nav":{name:"EZ Nav",icon:_n},"ez-iq":{name:"EZ Login",icon:mr},"ez-analytics":{name:"EZ Analytics",icon:In},"ezanalytics/saml":{name:"EZ Analytics",icon:In},"ez-path":{name:"EZ Path",icon:En},"ez-web":{name:"EZ Login",icon:mr}},Zr=function(){var e=(0,$n.Z)("access_token").storedValue,n=(0,xr.Z)(e),r=n.sub,t=(0,ue.Z)(n,vr);console.log("Token",r,t);var i=(0,C.useState)({actionLevel:Nn.User,first:7,userEmail:r}),a=(0,p.Z)(i,2),l=a[0],o=a[1],s=[{Header:"Product",accessor:"appName",width:500,Cell:function(e){var n=e.value;if("string"==typeof n){var r=gr[n];if(r)return(0,_e.jsxs)(m.Z,{display:"flex",gap:"1rem",children:[(0,_e.jsx)("img",{width:"20px",src:r.icon}),(0,_e.jsx)(Z.Z,{children:r.name})]})}}},{Header:"Date & time",accessor:"actionDate",Cell:function(e){var n=e.row,r=Un()(n.values.actionDate).format("dddd, Do MMM YYYY, h:mm A");return(0,_e.jsx)(Z.Z,{children:r})},width:300},{Header:"Duration",Cell:function(){return(0,_e.jsx)(Z.Z,{children:"14 minutes"})},width:200}],d=function(e,n){return(0,de.useQuery)(void 0===e?["ActivityLog"]:["ActivityLog",e],Vn("\n    query ActivityLog($actionLevel: ActionLevelEnum, $cursor: String, $direction: DirectionEnum, $first: Int, $search: String, $userEmail: String) {\n  userActions(\n    actionLevel: $actionLevel\n    cursor: $cursor\n    direction: $direction\n    first: $first\n    search: $search\n    userEmail: $userEmail\n  ) {\n    edges {\n      node {\n        appName\n        actionDate\n      }\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n      hasPreviousPage\n      pageCount\n      perPage\n      startCursor\n      totalRecords\n    }\n  }\n}\n    ",e),n)}(l,{keepPreviousData:!0,refetchOnWindowFocus:!1,select:(0,C.useCallback)((function(e){var n,r,t,i,a;return{actions:(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.userActions)||void 0===r||null===(t=r.edges)||void 0===t?void 0:t.map((function(e){return e.node})))||[],pageInfo:null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.userActions)||void 0===a?void 0:a.pageInfo}}),[])}),u=d.data,h=d.isLoading,f=d.isFetching,x=d.isError,v=u||{},g=v.actions,j=v.pageInfo;return x?(0,_e.jsx)(kn,{}):(0,_e.jsx)(fr,{columns:s,data:g||[],metaData:{hasNextPage:null===j||void 0===j?void 0:j.hasNextPage,hasPreviousPage:null===j||void 0===j?void 0:j.hasPreviousPage,total_records:null===j||void 0===j?void 0:j.totalRecords},disabled:h||f,dataLoading:h||f,paginationType:"cursor",rowsPerPage:(null===j||void 0===j?void 0:j.perPage)||0,setPage:function(e,n){n&&o((0,c.Z)((0,c.Z)({},l),{},{direction:n,cursor:n==Hn.Backward?null===j||void 0===j?void 0:j.startCursor:null===j||void 0===j?void 0:j.endCursor}))}})},jr=[{name:"Dr. iQ",icon:Pn},{name:"EZ DOC",icon:An},{name:"EZ PATH",icon:En},{name:"EZ ANALYTICS",icon:In},{name:"EZ NAV",icon:_n},{name:"EZ WEB",icon:Pn,disabled:!0},{name:"GP CHECKLIST",icon:Pn,disabled:!0}];var br=function(){return(0,_e.jsx)(i.Z,{maxWidth:"md",children:(0,_e.jsxs)(an.Z,{spacing:3,children:[(0,_e.jsx)(Z.Z,{fontWeight:"bold",variant:"h6",children:"Products"}),(0,_e.jsx)(vn.Z,{}),(0,_e.jsx)(Sn,{products:jr}),(0,_e.jsxs)(an.Z,{spacing:2,children:[(0,_e.jsx)(Z.Z,{fontWeight:"bold",variant:"h6",children:"Activity logs"}),(0,_e.jsx)(Zr,{})]})]})})},yr=function(){return(0,_e.jsxs)(i.Z,{maxWidth:"md",children:[(0,_e.jsxs)(m.Z,{margin:"auto",display:"flex",flexDirection:"column",gap:4,sx:{maxWidth:"550px"},children:[(0,_e.jsx)(Z.Z,{ml:3,children:"Please enter your previous email and password to verify"}),jr.map((function(e,n){return(0,_e.jsx)(mn,{},e.name)})),(0,_e.jsx)(He.Z,{sx:{marginLeft:"auto"},variant:"contained",children:"Request Access"})]}),(0,_e.jsx)(m.Z,{display:"flex",flexDirection:"column",gap:2,children:(0,_e.jsx)(Z.Z,{children:"Please enter your previous email and password to verify"})})]})},wr=r(9585),kr=r(9955),Cr=r(39504),Sr=r(72363),Pr=(0,xe.ZP)(Cr.Z)((function(e){var n=e.theme.spacing;return{display:"flex",flexDirection:"column",gap:n(2),paddingLeft:n(3),paddingRight:n(3)}})),Ar=(0,xe.ZP)(m.Z)((function(e){return{display:"flex",justifyContent:"space-around",alignItems:"center",padding:(0,e.theme.spacing)(.5)}})),Er=(0,xe.ZP)(Sr.Z)((function(e){return{justifyContent:"flex-end",padding:(0,e.theme.spacing)(3)}})),Ir=r(35531),_r=r(4408),Lr=r(56059),Rr=r(77196),Wr=(0,O.Z)(C.forwardRef((function(e,n){return(0,_e.jsx)(Rr.Z,(0,c.Z)((0,c.Z)({margin:"none"},e),{},{label:"none",notched:!1,ref:n}))})))((function(e){var n,r=e.theme;return n={height:45,backgroundColor:null===r||void 0===r?void 0:r.palette.background.default},(0,Ln.Z)(n,"& .".concat(Lr.Z.input),{padding:null===r||void 0===r?void 0:r.spacing(1.5,3)}),(0,Ln.Z)(n,"& .".concat(Lr.Z.notchedOutline),{borderColor:null===r||void 0===r?void 0:r.palette.grey[300]}),(0,Ln.Z)(n,"borderRadius",0),n})),Dr=(0,O.Z)(Oe.Z)((function(e){return{fontSize:"0.8em",fontWeight:"bold",color:"#575757",marginBottom:(0,e.theme.spacing)(.8)}})),zr=r(1235),Or=r(76933),Tr=(0,O.Z)(Or.Z)((function(e){var n,r=e.theme;return"\n  box-sizing: border-box;\n  padding: 5px;\n  list-style: none;\n  position: absolute;\n  height: auto;\n  transition: opacity 0.1s ease;\n  width: 100%;\n  box-shadow: ".concat(Array.isArray(r.shadows)?null===(n=r.shadows)||void 0===n?void 0:n[1]:"",";\n  background: ").concat("dark"===r.palette.mode?r.palette.grey[900]:"#fff",";\n  border: 1px solid ").concat("dark"===r.palette.mode?r.palette.grey[800]:r.palette.grey[200],";\n  z-index: 1;\n  outline: 0px;\n  overflow: auto;\n  & > li {\n    &[aria-selected='true'] {\n      background: ").concat("dark"===r.palette.mode?r.palette.grey[700]:r.palette.grey[200],";\n    }\n  }\n  ")})),Mr=r(64721),Fr=r(57064),Ur=r(49900),qr=(0,xe.ZP)((function(e){return(0,_e.jsxs)(y.Z,(0,c.Z)((0,c.Z)({},e),{},{children:[(0,_e.jsx)(Fr.Z,{children:(0,_e.jsx)(Mr.Z,{})}),(0,_e.jsx)(Ur.Z,{children:"Clear"})]}))}))((function(e){var n=e.theme.palette;return{border:"1px solid ".concat(n.secondary[800])}})),Nr=function(e){var n,r=e.label,t=e.children,i=e.onChange,a=e.suffix,l=e.defaultValue,o=e.sx,s=e.value,d=e.InputComponent,u=e.placeholder,h=e.disabled,f=(0,C.useRef)(),m=(0,C.useState)(!1),v=(0,p.Z)(m,2),Z=v[0],j=v[1],b=(0,C.useState)(""),w=(0,p.Z)(b,2),k=w[0],S=w[1],P=(0,C.useMemo)((function(){return!t||C.Children.count(t)<=0?[]:C.Children.map(t,(function(e){return e.props.value&&e.props.label?{label:e.props.label,value:e.props.value.toString()}:null})).filter((function(e){return e}))}),[t]),A=(0,_r.Z)((0,c.Z)({options:P,open:Z,onChange:i,defaultValue:l},""!==s||void 0!==s?{value:s}:{value:""})),E=A.getButtonProps,I=A.getListboxProps,_=A.getOptionProps,L=A.open;(0,C.useEffect)((function(){var e,n;S((null===(e=P.filter((function(e){return e.value==s})))||void 0===e||null===(n=e[0])||void 0===n?void 0:n.label)||"")}),[s]);var R=a?" ".concat(a):"";return(0,_e.jsx)(un.Z,{display:"flex",sx:o,children:(0,_e.jsx)(x.Z,{onClickAway:function(){return j(!1)},children:(0,_e.jsxs)(un.Z,{width:"100%",children:[r&&(0,_e.jsx)(Dr,{children:r}),d?C.cloneElement(d,(0,c.Z)((0,c.Z)({value:"".concat(k).concat(R)},!h&&{onClick:function(){return j(!0)}}),{},{endAdornment:(0,_e.jsx)(zr.Z,{}),placeholder:u||"",disabled:h,ref:f}),null):(0,_e.jsx)(Wr,(0,c.Z)((0,c.Z)((0,c.Z)({},E()),{},{value:"".concat(k).concat(R)},!h&&{onClick:function(){return j(!0)}}),{},{endAdornment:(0,_e.jsx)(zr.Z,{}),placeholder:u||"",disabled:h,ref:f})),(0,_e.jsx)(g.Z,{open:L,anchorEl:f.current,placement:"left-end",children:(0,_e.jsxs)(Tr,(0,c.Z)((0,c.Z)({},I()),{},{style:{width:null===f||void 0===f||null===(n=f.current)||void 0===n?void 0:n.clientWidth},children:[(0,_e.jsx)(qr,(0,c.Z)({},_({value:"",label:""}))),t&&C.Children.map(t,(function(e){return e.props.value&&e.props.label?(0,_e.jsx)(y.Z,(0,c.Z)((0,c.Z)({},_({value:e.props.value.toString(),label:e.props.label})),{},{children:e}),e.props.value):null}))]}))})]})})})};Nr.defaultProps={disabled:!1};var Hr=Nr,Br=r(4834),Vr=r(15021),$r=r(56125),Gr=r(76278),Qr=r(94454),Yr=r(91478),Xr=(0,xe.ZP)(Vr.ZP)((function(e){var n=e.theme,r=e.level;return{position:"relative","&::before":{content:1==r?"none":"' '",position:"absolute",left:n.spacing(1.5*r),height:"100%",borderLeft:"2px solid lightgray",zIndex:100}}})),Jr=function(e){var n=e.name,r=e.expandable,t=e.expanded,i=e.onClick,a=e.checked,l=e.labelId,o=e.level,s=e.onCheck,d=e.indeterminate;return(0,_e.jsx)(Xr,{dense:!0,secondaryAction:r?(0,_e.jsx)(Yr.Z,{sx:{fontSize:"0.9rem",transform:t?"rotate(90deg)":"none",pointerEvents:"inherit"}}):null,disablePadding:!0,level:o,children:(0,_e.jsxs)(Gr.Z,{disableRipple:!r,role:void 0,onClick:i,dense:!0,sx:{pl:2*o,cursor:r?"pointer":"default"},children:[(0,_e.jsx)(Fr.Z,{children:(0,_e.jsx)(Qr.Z,{edge:"start",checked:a,indeterminate:d,onChange:function(e){e.stopPropagation(),s(e)},onClick:function(e){e.stopPropagation()},tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":l}})}),(0,_e.jsx)(Ur.Z,{id:l,primary:n})]})})};function Kr(e){var n,r,t=e.option,i=e.onCheck,a=e.index,l=e.expanded,o=e.search,s=C.useState(l),d=(0,p.Z)(s,2),u=d[0],h=d[1];(0,C.useEffect)((function(){return h(l)}),[l]);var f=function(e,n,r){i(n,r)};return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Jr,(0,c.Z)((0,c.Z)({name:t.name,expandable:!(null===t||void 0===t||null===(n=t.practices)||void 0===n||!n.length),expanded:u,onClick:function(e){h(!u)}},t.isChecked?{}:{indeterminate:!!t.isIndeterminate}),{},{checked:!!t.isChecked,onCheck:function(e){return f(0,t,(0,Ir.Z)(a))},level:a.length,labelId:"checklistitem-".concat(a.join("-"))})),u&&(null===t||void 0===t?void 0:t.practices)&&(0,_e.jsx)($r.Z,{in:u,timeout:"auto",children:null===t||void 0===t||null===(r=t.practices)||void 0===r?void 0:r.map((function(e,n){return(0,_e.jsx)(Kr,{index:[].concat((0,Ir.Z)(a),[e.id]),option:e,onCheck:i,expanded:!!o&&!e.name.includes(o)},n)}))})]})}var et=r(45008);function nt(e,n,r){return r[e]?(n&&(r[e]=n),r[e]):n?(r[e]=n,r[e]):(r[e]=(0,c.Z)({},r[e]),r[e])}var rt=function(e,n,r){var t=e.split(".");t.forEach((function(e,i){var a=e.indexOf("[");r=-1!==a?function(e,n,r){r[e]||(r[e]=[]);return r[e][n]||(r[e][n]={}),r[e][n]}(e.split("[")[0],e[a+1],r):i===t.length-1?nt(e,n,r):nt(e,null,r)}))},tt=(0,Se.Ry)({firstname:(0,Se.Z_)().defined("First name is required").required("First name must be defined"),lastname:(0,Se.Z_)().defined("Last name is required").required("Last name is required"),email:(0,Se.Z_)().defined("Email is required").required("Email is required").email(),type_of_user:(new Se.gx).required("User type required"),dr_iq_gender_id:(0,Se.Rx)().nullable().when("$selectedApps",(function(e,n){return!!e.find((function(e){return"dr-iq"==e.name}))?n.required("Gender required"):n})),apps:(0,Se.IX)().of((0,Se.Ry)({id:(0,Se.Rx)().required("ID is required"),practices:(0,Se.IX)().of((0,Se.Ry)({id:Se.Rx().required("ID is required")})).test("min1","Must have atleast one practice",(function(e,n){var r,t,i,a=n.parent,l=n.options,o=null===l||void 0===l||null===(r=l.context)||void 0===r||null===(t=r.selectedApps)||void 0===t||null===(i=t.find((function(e){return"ez-login"==e.name})))||void 0===i?void 0:i.id;return!(a.id!==o&&Array.isArray(e)&&e.length<1)})),role:(0,Se.Ry)({id:(0,Se.Rx)().nullable().required("Role is required"),sub_role:(0,Se.Rx)().nullable()})}).nullable()).required().min(1,"Atleast one app should be selected").test("atleast-one-app-selected","Atleast one app should be selected",(function(e){var n;return!!(e&&(null===e||void 0===e||null===(n=e.filter((function(e){return e})))||void 0===n?void 0:n.length)>0)}))});function it(e,n){return at.apply(this,arguments)}function at(){return(at=(0,u.Z)(f().mark((function e(n,r){var t,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,tt.validate(n,{abortEarly:!1,recursive:!0,context:{selectedApps:null===r||void 0===r?void 0:r.filter((function(e){return e.selected}))}});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),null===e.t0||void 0===e.t0||null===(i=e.t0.inner)||void 0===i||i.forEach((function(e){rt(e.path,e.errors,t)})),t.dr_iq_gender_id&&void 0!==(a=null===r||void 0===r?void 0:r.findIndex((function(e){return"dr-iq"===e.name})))&&isFinite(a)&&(t.apps||(t.apps=[]),t.apps[a]=(0,c.Z)({},t.apps[a]||{}),t.apps[a].dr_iq_gender_id=t.dr_iq_gender_id);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function lt(e,n){return e?e.map((function(e){return e.id==n?(0,c.Z)((0,c.Z)({},e),{},{isSelected:!0}):(0,c.Z)((0,c.Z)({},e),{},{isSelected:!1})})):void 0}function ot(e,n){null!==e&&void 0!==e&&e.practices&&e.practices.forEach((function(e){(e.isChecked||e.isIndeterminate)&&n.push({id:e.id}),ot(e,n)}))}function st(e){var n=null,r="external",t=[];return null===e||void 0===e||e.forEach((function(e){if(e.selected){var i,a,l=[],o={};"ez-login"==e.name&&(r="internal"),ot(e,l),null===e||void 0===e||null===(i=e.gender)||void 0===i||i.forEach((function(e){e.isSelected&&(n=e.id)})),e.roles.forEach((function(e){var n,r;e.isSelected&&(a={id:e.id,sub_role:(null===e||void 0===e||null===(n=e.sub_roles)||void 0===n||null===(r=n.find((function(e){return e.isSelected})))||void 0===r?void 0:r.id)||null})})),o.id=e.id,o.practices=l,o.role=a||{id:null,sub_role:null},t.push(o)}else t.push(null)})),{type_of_user:r,dr_iq_gender_id:n,apps:t}}var dt={firstname:"",lastname:"",email:""},ct=(0,C.createContext)(null),ut=function(){return(0,ce.U2)("user/service-providers/practices/roles")};function pt(e){return(0,ce.v_)("user",e)}var ht=function(){var e=(0,C.useState)(),n=(0,p.Z)(e,2),r=n[0],t=n[1],i=(0,C.useState)(dt),a=(0,p.Z)(i,2),l=a[0],s=a[1],d=(0,C.useState)(),h=(0,p.Z)(d,2),x=h[0],m=h[1],v=(0,C.useState)(!0),g=(0,p.Z)(v,2),Z=g[0],j=g[1],b=(0,et.b)(),y=(0,o.UO)().id,w=y?"User updated successfully":"User added successfully",k=(0,de.useQuery)("practicesAndRoles",y?function(){return function(e){return(0,ce.U2)("user/".concat(e,"/service-providers/practices/roles"))}(parseInt(y))}:ut,{onSuccess:function(e){y&&s({firstname:e.data.firstname,lastname:e.data.lastname,email:e.data.email,is_active:e.data.is_active||!1}),j(!1),t(e.data.sp_practice_roles)},refetchOnWindowFocus:!1}),S=k.isLoading,P=k.isError,A=k.data,E=(0,de.useMutation)(y?function(e){return function(e,n){return(0,ce.gz)("user/".concat(n,"/service-providers/practices/roles"),e)}(e,parseInt(y))}:pt,{onSuccess:function(e){null===b||void 0===b||b.setAlert({show:!0,message:w,status:"success"}),y||j(!0)},onError:function(e){var n,r,t=null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message;null===b||void 0===b||b.setAlert({show:!0,message:null!==t&&void 0!==t?t:"User add request failed",status:"error"})}}),I=E.mutate,_=E.isLoading,L=function(){var e=(0,u.Z)(f().mark((function e(){var n,t,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=st(r),t=(0,c.Z)((0,c.Z)({},l),n),e.next=4,it(t,r);case 4:i=e.sent,m(i),Object.keys(i).length<1&&(t.apps=null===(a=t.apps)||void 0===a?void 0:a.filter((function(e){return e})),I(t));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{appData:r,setAppData:t,dataLoadError:P,appDataLoading:S,isCreatingUser:_,setSelected:function(e){var n=null===r||void 0===r?void 0:r.map((function(n){return n.id==e?(0,c.Z)((0,c.Z)({},n),{},{selected:!n.selected}):n}));t(n)},setRole:function(e,n){var i=null===r||void 0===r?void 0:r.map((function(r){if(r.id==e){var t=lt(r.roles,n);return(0,c.Z)((0,c.Z)({},r),{},{roles:t})}return r}));t(i)},setSubrole:function(e,n){var i=null===r||void 0===r?void 0:r.map((function(r){if(r.id==e){var t,i=r.roles.findIndex((function(e){return e.isSelected})),a=lt(null===(t=r.roles[i])||void 0===t?void 0:t.sub_roles,n),l=(0,c.Z)({},r);return l.roles=(0,Ir.Z)(l.roles),l.roles[i]=(0,c.Z)((0,c.Z)({},l.roles[i]),{},{sub_roles:a}),l}return r}));t(i)},setGender:function(e,n){var i=null===r||void 0===r?void 0:r.map((function(r){if(r.id==e){var t=lt(r.gender,n);return(0,c.Z)((0,c.Z)({},r),{},{gender:t})}return r}));t(i)},addUser:L,setUserInfo:s,userInfo:l,errors:x,disableAll:Z,addNew:function(){var e;s(dt),t(null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.sp_practice_roles),j(!1)}}},ft=function(e){var n=e.children,r=ht();return(0,_e.jsx)(ct.Provider,{value:r,children:n})},xt=function(){return(0,C.useContext)(ct)},mt=(0,O.Z)(m.Z)((function(e){var n=e.theme,r=n.palette,t=n.spacing;return{display:"inline-flex",justifyContent:"space-between",alignItems:"center",height:45,width:"100%",maxWidth:300,backgroundColor:r.background.default,borderStyle:"solid",borderWidth:1,borderColor:r.grey[300],borderRadius:0,paddingRight:t(1.75),"&:hover":{borderColor:r.grey[600]},"&:active":{borderWidth:2,borderColor:r.primary[500]}}})),vt=C.forwardRef((function(e,n){return(0,_e.jsx)(mt,(0,c.Z)((0,c.Z)({ref:n},e),{},{children:e.children}))})),gt=r(92546),Zt=function(e,n){var r=(0,C.useState)(e),t=(0,p.Z)(r,2),i=t[0],a=t[1];return(0,C.useEffect)((function(){var r=setTimeout((function(){a(e)}),n);return function(){clearTimeout(r)}}),[e,n]),i},jt=(0,O.Z)(Br.ZP)((function(e){return{padding:e.theme.spacing(1,2)}}));function bt(e){var n,r,t=e.app,i=e.appIndex,a=e.setApp,l=e.disabled,o=(0,C.useState)(""),s=(0,p.Z)(o,2),d=s[0],u=s[1],h=Zt(d,700),f=C.useState(t),v=(0,p.Z)(f,2),j=v[0],b=v[1],y=C.useState(t),w=(0,p.Z)(y,2),k=w[0],S=w[1],P=C.useState(null),A=(0,p.Z)(P,2),E=A[0],I=A[1],_=xt();(0,C.useEffect)((function(){b(t)}),[t]),(0,C.useEffect)((function(){var e=T();S(e)}),[j]),(0,C.useEffect)((function(){if(h){var e=T();S(e)}else S(j)}),[h]);var L=function e(n,r){null!==n&&void 0!==n&&n.prev&&(null!==n&&void 0!==n&&n.checkedLength&&null!==n&&void 0!==n&&n.practices&&((null===n||void 0===n?void 0:n.checkedLength)-1>0||r)?n.isIndeterminate=!0:n.isIndeterminate=!1,n.isChecked=!1,e(n.prev,n.isIndeterminate))},R=function e(n){var r;null!==n&&void 0!==n&&n.prev&&(n.hasOwnProperty("checkedLength")&&isFinite(n.checkedLength)&&null!==n&&void 0!==n&&n.practices&&n.checkedLength+1>=(null===n||void 0===n||null===(r=n.practices)||void 0===r?void 0:r.length)?(n.isIndeterminate=!1,n.isChecked=!0):n.isIndeterminate=!0,e(n.prev))},W=function e(n){null!==n&&void 0!==n&&n.practices&&(n.isIndeterminate=!1,n.practices.forEach((function(r){n.isChecked?r.isChecked=!0:(r.isChecked=!1,r.isIndeterminate=!1),e(r)})))};function D(e){if(!e.practices)return(0,c.Z)({},e);var n=e.practices.map((function(e){return D((0,c.Z)({},e))}));return(0,c.Z)((0,c.Z)({},e),{},{practices:n})}var z=function(e,n){var r=j.practices.findIndex((function(e){return e.id===n[0]})),t=D(j.practices[r]),i=(0,c.Z)({},j);i.practices=(0,Ir.Z)(i.practices),i.practices[r]=t;var a=i;n.forEach((function(e,r){var t,i,l,o=a;(o.checkedLength=(null===o||void 0===o||null===(t=o.practices)||void 0===t||null===(i=t.filter((function(e){return e.isChecked||e.isIndeterminate})))||void 0===i?void 0:i.length)||0,(a=a.practices.find((function(n){return n.id===e}))).prev=o,r===n.length-1)&&(a.isChecked?(a.isChecked=!1,L(a,!1)):(a.isChecked=!0,R(a)),null!==(l=a.practices)&&void 0!==l&&l.length&&W(a))})),b(i)},O=function e(n){if(delete n.prev,!n.practices||(null===n||void 0===n?void 0:n.practices.length)<1)return n.name.includes(h);var r=(0,gt.Vk)(n.practices),t=n.practices.filter((function(n){return e(n)}));return n.name.includes(h)?n.practices=r:n.practices=t,!!t.length||n.name.includes(h)};function T(){return h?(0,gt.ZP)(j,(function(e){O(e)})):j}var M=function(){a(j,i),I(null)},F=Boolean(E),U=t.practices.filter((function(e){return e.isChecked||e.isIndeterminate})).length||0;return null!==_&&void 0!==_&&_.appDataLoading?(0,_e.jsx)(Z.Z,{children:"Loading..."}):(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(vt,(0,c.Z)((0,c.Z)({},l?{}:{onClick:function(e){I(E?null:e.currentTarget)}}),{},{sx:{pointerEvents:l?"none":"auto"},children:(0,_e.jsxs)(m.Z,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",p:2,pr:.1,children:[(0,_e.jsx)(Z.Z,{variant:"subtitle1",color:l?"text.disabled":"text.primary",children:U?"".concat(U," Practices Selected"):"Practices"}),(0,_e.jsx)(zr.Z,{color:l?"action":"inherit"})]})})),(0,_e.jsx)(g.Z,{id:"dropdown",open:F,anchorEl:E,sx:function(e){var n=e.palette,r=e.shadows;return{backgroundColor:n.background.default,boxShadow:r[2]}},children:(0,_e.jsx)(x.Z,{onClickAway:M,mouseEvent:"onMouseDown",children:(0,_e.jsxs)(m.Z,{children:[(0,_e.jsxs)(m.Z,{children:[(0,_e.jsx)(jt,{value:d,onChange:function(e){return u(e.currentTarget.value)},placeholder:"Search",autoFocus:!0,fullWidth:!0}),(0,_e.jsx)(m.Z,{maxHeight:400,width:null===E||void 0===E?void 0:E.clientWidth,overflow:"auto",children:k&&(null===k||void 0===k||null===(n=k.practices)||void 0===n?void 0:n.length)>0?null===k||void 0===k||null===(r=k.practices)||void 0===r?void 0:r.map((function(e,n){return(0,_e.jsx)(Kr,{index:[e.id],option:e,onCheck:z,search:h,expanded:!!d&&!e.name.includes(h)},n)})):(0,_e.jsx)(Vr.ZP,{children:(0,_e.jsx)(Z.Z,{variant:"body1",children:"No Options..."})})})]}),(0,_e.jsxs)(m.Z,{sx:function(e){var n=e.palette,r=e.spacing;return{width:"100%",backgroundColor:n.background.default,padding:r(1),borderTop:"1px solid ".concat(n.divider),display:"flex",justifyContent:"flex-end","& :not(:last-child)":{marginRight:r(1)}}},children:[(0,_e.jsx)(He.Z,{variant:"contained",color:"secondary",size:"small",onClick:function(){b(t),I(null)},children:"Cancel"}),(0,_e.jsx)(He.Z,{variant:"contained",color:"primary",size:"small",onClick:M,children:"Save"})]})]})})})]})}var yt=r(83091),wt=function(e){var n=e.messages;return(0,_e.jsx)(b.Z,{title:(0,_e.jsx)(_e.Fragment,{children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,_e.jsx)(m.Z,{children:e},n)}))}),children:(0,_e.jsx)(yt.Z,{fontSize:"small",color:"error"})})},kt=function(e){var n,r,t,i,a,l,o,s,d,c=e.index,u=e.Logo,p=e.selected,h=e.app,f=e.errors,x=e.disabled,v=xt(),g=h.roles.find((function(e){return e.isSelected}));return(0,_e.jsxs)(m.Z,{display:"flex",width:"100%",gap:2,p:1,sx:function(e){var n=e.palette;return{backgroundColor:f?n.error.A100:n.secondary[200]}},children:[(0,_e.jsx)(m.Z,{onClick:function(){null===v||void 0===v||v.setSelected(h.id)},sx:{width:"20%",height:"100%",pointerEvents:null!==v&&void 0!==v&&v.disableAll?"none":"auto"},children:(0,_e.jsx)(hn,{isActive:p,disabled:null===v||void 0===v?void 0:v.disableAll,children:(0,_e.jsx)(m.Z,{sx:{maxWidth:"100%",maxHeight:"100%",height:"100%"},children:(0,_e.jsx)("img",{src:"".concat("http://18.134.217.103/api/v1","/").concat(u),style:{width:"100%",height:"100%"},draggable:!1})})})}),(0,_e.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",width:"80%"},children:[(0,_e.jsxs)(m.Z,{pb:1,sx:{display:"flex",gap:2,width:"100%"},children:[(0,_e.jsx)(m.Z,{sx:{width:"65%"},children:"ez-login"!==h.name&&(0,_e.jsx)(bt,{app:h,appIndex:c,setApp:function(e,n){var r;null!==v&&void 0!==v&&v.appData&&(null===v||void 0===v||v.setAppData((0,Ir.Z)(null===v||void 0===v||null===(r=v.appData)||void 0===r?void 0:r.map((function(r,t){return t==n?e:r})))))},disabled:x})}),(0,_e.jsx)(m.Z,{sx:{width:"35%"},children:(0,_e.jsx)(Hr,{value:(null===g||void 0===g||null===(n=g.id)||void 0===n?void 0:n.toString())||"",placeholder:"Role",onChange:function(e){null===v||void 0===v||v.setSubrole(h.id,null),e?null===v||void 0===v||v.setRole(h.id,parseInt(e)):null===v||void 0===v||v.setRole(h.id,null)},disabled:x,children:h.roles.map((function(e){return(0,_e.jsx)("option",{label:e.name,value:e.id,children:e.name},e.id)}))})}),(0,_e.jsx)(m.Z,{width:20,children:f&&(0,_e.jsx)(wt,{messages:[].concat((0,Ir.Z)(Array.isArray(f)?f:[]),["string"===typeof f&&f],(0,Ir.Z)((null===f||void 0===f||null===(r=f.role)||void 0===r?void 0:r.id)||[]),(0,Ir.Z)((null===f||void 0===f||null===(t=f.role)||void 0===t?void 0:t.sub_role)||[]),(0,Ir.Z)((null===f||void 0===f?void 0:f.practices)||[]),(0,Ir.Z)((null===f||void 0===f?void 0:f.dr_iq_gender_id)||[]))})})]}),"dr-iq"==h.name&&(0,_e.jsxs)(m.Z,{sx:{display:"flex",gap:2,width:"100%"},children:[(0,_e.jsx)(m.Z,{sx:{width:"50%"},children:(0,_e.jsx)(Hr,{disabled:x,value:(null===(i=h.gender.find((function(e){return e.isSelected})))||void 0===i||null===(a=i.id)||void 0===a?void 0:a.toString())||"",placeholder:"Gender",onChange:function(e){e?null===v||void 0===v||v.setGender(h.id,parseInt(e)):null===v||void 0===v||v.setGender(h.id,null)},children:h.gender.map((function(e){return(0,_e.jsx)("option",{label:e.name,value:e.id,children:e.name},e.id)}))})}),(0,_e.jsx)(m.Z,{sx:{width:"50%"},children:(0,_e.jsx)(Hr,{disabled:!(null!==g&&void 0!==g&&g.id)||x,value:(null===g||void 0===g||null===(l=g.sub_roles)||void 0===l||null===(o=l.find((function(e){return e.isSelected})))||void 0===o||null===(s=o.id)||void 0===s?void 0:s.toString())||"",placeholder:"Sub Role",onChange:function(e){e?null===v||void 0===v||v.setSubrole(h.id,parseInt(e)):null===v||void 0===v||v.setSubrole(h.id,null)},children:g?null===g||void 0===g||null===(d=g.sub_roles)||void 0===d?void 0:d.map((function(e){return(0,_e.jsx)("option",{label:e.name,value:e.id,children:e.name},e.id)})):null})}),(0,_e.jsx)(m.Z,{width:20})]})]})]})},Ct=function(e){var n,r,t,a,l,s,d,u,p,h,f,x,v,g,j,b=e.editMode,y=(0,o.s0)(),w=xt(),k=null!==w&&void 0!==w&&w.appDataLoading?(0,_e.jsx)(m.Z,{width:"100%",display:"flex",flexDirection:"column",children:new Array(6).fill(0).map((function(e,n){return(0,_e.jsx)(Ae.Z,{height:100,sx:{margin:-2}},n)}))}):null===w||void 0===w||null===(n=w.appData)||void 0===n?void 0:n.map((function(e,n){var r,t;return(0,_e.jsx)(kt,{app:e,index:n,Logo:e.sp_app_image,selected:e.selected,disabled:!e.selected||(null===w||void 0===w?void 0:w.disableAll),errors:null===w||void 0===w||null===(r=w.errors)||void 0===r||null===(t=r.apps)||void 0===t?void 0:t[n]},e.id)}));return(0,_e.jsx)(i.Z,{maxWidth:"md",fixed:!0,children:(0,_e.jsxs)(me.Z,{sx:{maxWidth:781},children:[(0,_e.jsx)(wr.Z,{disableTypography:!0,title:(0,_e.jsx)(Z.Z,{variant:"body1",color:"primary",fontWeight:"bold",children:b?"Edit User":"Add New User"})}),(0,_e.jsx)(vn.Z,{}),null!==w&&void 0!==w&&w.dataLoadError?(0,_e.jsx)(kn,{}):(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)(Pr,{children:[(0,_e.jsxs)(Ar,(0,c.Z)((0,c.Z)({},(null===w||void 0===w||null===(r=w.errors)||void 0===r?void 0:r.firstname)&&{bgcolor:"error.A100"}),{},{children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"First Name"}),(0,_e.jsx)(Me.Z,{sx:{flex:4},fullWidth:!0,placeholder:"First Name",value:null===w||void 0===w||null===(t=w.userInfo)||void 0===t?void 0:t.firstname,onChange:function(e){return null===w||void 0===w?void 0:w.setUserInfo((0,c.Z)((0,c.Z)({},null===w||void 0===w?void 0:w.userInfo),{},{firstname:e.target.value}))},disabled:null===w||void 0===w?void 0:w.disableAll}),(null===w||void 0===w||null===(a=w.errors)||void 0===a?void 0:a.firstname)&&(0,_e.jsx)(wt,{messages:null===w||void 0===w||null===(l=w.errors)||void 0===l?void 0:l.firstname})]})),(0,_e.jsxs)(Ar,(0,c.Z)((0,c.Z)({},(null===w||void 0===w||null===(s=w.errors)||void 0===s?void 0:s.lastname)&&{bgcolor:"error.A100"}),{},{children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"Last Name"}),(0,_e.jsx)(Me.Z,{sx:{flex:4},fullWidth:!0,placeholder:"Last Name",value:null===w||void 0===w||null===(d=w.userInfo)||void 0===d?void 0:d.lastname,onChange:function(e){return null===w||void 0===w?void 0:w.setUserInfo((0,c.Z)((0,c.Z)({},null===w||void 0===w?void 0:w.userInfo),{},{lastname:e.target.value}))},disabled:null===w||void 0===w?void 0:w.disableAll}),(null===w||void 0===w||null===(u=w.errors)||void 0===u?void 0:u.lastname)&&(0,_e.jsx)(wt,{messages:null===w||void 0===w||null===(p=w.errors)||void 0===p?void 0:p.lastname})]})),(0,_e.jsxs)(Ar,(0,c.Z)((0,c.Z)({},(null===w||void 0===w||null===(h=w.errors)||void 0===h?void 0:h.email)&&{bgcolor:"error.A100"}),{},{children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"Email Address"}),(0,_e.jsx)(Me.Z,{sx:{flex:4},fullWidth:!0,placeholder:"username@email.com",value:null===w||void 0===w||null===(f=w.userInfo)||void 0===f?void 0:f.email,onChange:function(e){return null===w||void 0===w?void 0:w.setUserInfo((0,c.Z)((0,c.Z)({},null===w||void 0===w?void 0:w.userInfo),{},{email:e.target.value}))},disabled:(null===w||void 0===w?void 0:w.disableAll)||b}),(null===w||void 0===w||null===(x=w.errors)||void 0===x?void 0:x.email)&&(0,_e.jsx)(wt,{messages:null===w||void 0===w||null===(v=w.errors)||void 0===v?void 0:v.email})]})),b&&(0,_e.jsxs)(Ar,(0,c.Z)((0,c.Z)({},(null===w||void 0===w||null===(g=w.errors)||void 0===g?void 0:g.is_active)&&{bgcolor:"error.A100"}),{},{children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"Status"}),(0,_e.jsxs)(an.Z,{direction:"row",spacing:1,alignItems:"center",flex:4,children:[(0,_e.jsx)(Z.Z,{variant:"caption",children:"Inactive"}),(0,_e.jsx)(kr.Z,{checked:null===w||void 0===w||null===(j=w.userInfo)||void 0===j?void 0:j.is_active,onChange:function(e,n){return null===w||void 0===w?void 0:w.setUserInfo((0,c.Z)((0,c.Z)({},null===w||void 0===w?void 0:w.userInfo),{},{is_active:n}))},inputProps:{"aria-label":"user status"},disabled:null===w||void 0===w?void 0:w.disableAll}),(0,_e.jsx)(Z.Z,{variant:"caption",children:"Active"})]})]})),(0,_e.jsxs)(m.Z,{display:"flex",children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"Products"}),(0,_e.jsxs)(Ar,{display:"flex",flexDirection:"column",flex:4,children:[(0,_e.jsxs)(m.Z,{display:"flex",width:"100%",gap:2,children:[(0,_e.jsx)(m.Z,{component:Z.Z,sx:{width:"25%"},color:"text.mute",children:"Select Product"}),(0,_e.jsx)(m.Z,{component:Z.Z,sx:{width:"50%"},color:"text.mute",children:"Select Practice"}),(0,_e.jsx)(m.Z,{component:Z.Z,sx:{width:"30%"},color:"text.mute",children:"Select Role"})]}),(0,_e.jsx)(m.Z,{width:"100%",display:"flex",flexDirection:"column",mt:1,gap:.8,children:k})]})]})]}),(0,_e.jsx)(vn.Z,{}),(0,_e.jsxs)(Er,{children:[(0,_e.jsx)(He.Z,{variant:"outlined",onClick:function(){return y("/user-management")},children:"Cancel"}),!(null!==w&&void 0!==w&&w.disableAll)&&(0,_e.jsx)(He.Z,{variant:"contained",onClick:null===w||void 0===w?void 0:w.addUser,disabled:null===w||void 0===w?void 0:w.appDataLoading,children:"Save"}),(null===w||void 0===w?void 0:w.disableAll)&&!w.appDataLoading&&(0,_e.jsx)(He.Z,{variant:"contained",onClick:null===w||void 0===w?void 0:w.addNew,children:"Add Another"})]})]}),(null===w||void 0===w?void 0:w.isCreatingUser)&&(0,_e.jsx)(he.Z,{})]})})},St=["label","endAdornment"];var Pt=function(e){var n=e.label,r=e.endAdornment,t=(0,ue.Z)(e,St);return(0,_e.jsxs)(m.Z,{children:[n&&(0,_e.jsx)(Dr,{children:n}),(0,_e.jsx)(Wr,(0,c.Z)((0,c.Z)({},t),{},{endAdornment:r}))]})},At=(r(16072),r(13967)),Et=r(66179),It=r(25502),_t=r(92373),Lt=["label","onChange"],Rt=Et.Z.RangePicker,Wt=((0,xe.ZP)(un.Z)((function(e){return{"& .ant-picker-cell-in-view.ant-picker-cell-today .ant-picker-cell-inner::before":{backgroundColor:"black",borderRadius:"50%"}}})),(0,xe.ZP)(un.Z)((function(e){var n=e.theme,r=n.palette,t=n.shape;return{width:"100%",height:50,display:"flex",alignItems:"center",justifyContent:"space-between",padding:(0,n.spacing)(1),position:"absolute",bottom:-42,left:0,background:r.background.default,boxShadow:"0 2px 3px 0 rgba(0, 0, 0, 0.28)",borderBottomLeftRadius:2*parseInt("".concat(t.borderRadius)),borderBottomRightRadius:2*parseInt("".concat(t.borderRadius))}}))),Dt=function(){return(0,_e.jsxs)(Wt,{children:[(0,_e.jsx)(He.Z,{size:"small",children:"Cancel"}),(0,_e.jsxs)(un.Z,{display:"flex",alignItems:"center",children:[(0,_e.jsxs)(un.Z,{display:"flex",mr:2,children:[(0,_e.jsx)(Z.Z,{variant:"body1",sx:{color:function(e){return e.palette.text.mute}},children:"Selected:\xa0"}),(0,_e.jsx)(Z.Z,{variant:"body1",children:"21 days"})]}),(0,_e.jsx)(He.Z,{variant:"contained",size:"small",children:"Done"})]})]})},zt=function(e){var n=(0,At.Z)(),r=e.label,t=e.onChange,i=(0,ue.Z)(e,Lt),a=(0,C.useMemo)((function(){return{".ant-picker-range-wrapper .ant-picker-panel-container":{display:"flex",borderTopLeftRadius:2*parseInt("".concat(n.shape.borderRadius)),borderTopRightRadius:2*parseInt("".concat(n.shape.borderRadius)),fontFamily:n.typography.fontFamily},".ant-picker-range-wrapper .ant-picker-footer":{width:"150px",borderLeft:"solid 1px ".concat(n.palette.divider),borderBottom:"solid 1px ".concat(n.palette.divider)},".ant-picker-range-wrapper .ant-picker-footer .ant-picker-ranges":{display:"grid",gridTemplateColumns:"1fr",paddingTop:n.spacing(6),"&::before":{content:'"Predefined periods:"',color:n.palette.grey.A400,fontSize:"0.98em"}},".ant-picker-range-wrapper .ant-picker-footer .ant-picker-ranges .ant-picker-preset .ant-tag":{color:n.palette.text.primary,background:"transparent",border:"none",padding:0,"&:hover":{color:n.palette.text.secondary}},"td.ant-picker-cell":{padding:n.spacing(.8)},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-today .ant-picker-cell-inner::before":{borderColor:n.palette.primary.main,borderRadius:"50%"},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner,     .ant-picker-cell-in-view.ant-picker-cell-range-start .ant-picker-cell-inner,     .ant-picker-cell-in-view.ant-picker-cell-range-end .ant-picker-cell-inner":{background:n.palette.primary.main,borderRadius:"50%"},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-range-end:not(.ant-picker-cell-range-start):is(.ant-picker-cell-range-end) .ant-picker-cell-inner,     .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-selected.ant-picker-cell-range-start:not(.ant-picker-cell-range-end) .ant-picker-cell-inner,     .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-range-start:not(.ant-picker-cell-range-end):is(.ant-picker-cell-range-start) .ant-picker-cell-inner":{background:n.palette.primary.main,borderRadius:"50%"},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-in-range::before":{background:"#E6F2FF"},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-range-start:not(.ant-picker-cell-range-start-single)::before,     .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-range-end:not(.ant-picker-cell-range-end-single)::before":{background:"#E6F2FF"},".ant-picker-body .ant-picker-content th":{color:n.palette.grey.A400},".ant-picker-content tbody tr td:first-of-type::before":{borderTopLeftRadius:2*parseInt("".concat(n.shape.borderRadius)),borderBottomLeftRadius:2*parseInt("".concat(n.shape.borderRadius))},".ant-picker-content tbody tr td:last-of-type::before":{borderTopRightRadius:2*parseInt("".concat(n.shape.borderRadius)),borderBottomRightRadius:2*parseInt("".concat(n.shape.borderRadius))},".ant-picker.ant-picker-range.ant-picker-large":{height:45,padding:n.spacing(2,1.5),borderRadius:0},".ant-picker.ant-picker-range.ant-picker-large.ant-picker-focused":{borderColor:n.palette.primary.main,boxShadow:"0 0 0 1px ".concat(n.palette.primary.main),paddingLeft:-1,paddingRight:-1},".ant-picker.ant-picker-range .ant-picker-clear":{right:42},".ant-picker.ant-picker-range .ant-picker-suffix":{color:n.palette.action.active}}}),[n]);return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(It.Z,{styles:a}),(0,_e.jsxs)(un.Z,{children:[(0,_e.jsx)(Dr,{children:r}),(0,_e.jsx)(Rt,(0,c.Z)({size:"large",placeholder:["Date",""],ranges:{Yesterday:[Un()().subtract(1,"days"),Un()().subtract(1,"days")],"Last week":[Un()().subtract(1,"weeks"),Un()()],"Last month":[Un()().subtract(1,"months"),Un()()],"Last year":[Un()().subtract(1,"years"),Un()()]},separator:null,suffixIcon:(0,_e.jsx)(_t.Z,{fontSize:"large"}),renderExtraFooter:function(){return(0,_e.jsx)(Dt,{})},onChange:t},i))]})]})},Ot=r(82167);var Tt=function(e){var n=(0,C.useState)({direction:Hn.Forward,cursor:null}),r=(0,p.Z)(n,2),t=r[0],i=r[1],a=(0,C.useState)(t),l=(0,p.Z)(a,2),o=l[0],s=l[1],d=(0,C.useDeferredValue)(t),u=function(e,n){return(0,de.useQuery)(void 0===e?["AuditTrails"]:["AuditTrails",e],Vn("\n    query AuditTrails($actionLevel: ActionLevelEnum, $cursor: String, $direction: DirectionEnum, $endDateTime: String, $first: Int, $roleName: RoleEnum, $search: String, $startDateTime: String) {\n  userActions(\n    actionLevel: $actionLevel\n    cursor: $cursor\n    direction: $direction\n    endDateTime: $endDateTime\n    first: $first\n    roleName: $roleName\n    search: $search\n    startDateTime: $startDateTime\n  ) {\n    edges {\n      node {\n        actionDate\n        actionId\n        actionLabel\n        actionName\n        appName\n        actionLevel\n        id\n        idpUserEmail\n        idpUserName\n        idpUserId\n        roleName\n        status\n      }\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n      hasPreviousPage\n      pageCount\n      perPage\n      startCursor\n      totalRecords\n    }\n  }\n}\n    ",e),n)}(o,{keepPreviousData:!0,refetchOnWindowFocus:!1,select:(0,C.useCallback)((function(e){var n,r,t,i,a;return{actions:(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.userActions)||void 0===r||null===(t=r.edges)||void 0===t?void 0:t.map((function(e){return e.node})))||[],pageInfo:null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.userActions)||void 0===a?void 0:a.pageInfo}}),[])}),h=u.data,f=u.isLoading,x=u.isFetching,m=u.isError,v=u.refetch,g=h||{},Z=g.actions,j=g.pageInfo;(0,C.useEffect)((function(){v()}),[d.direction,d.cursor]);var b=[{Header:"User",accessor:"idpUserName"},{Header:"Role",accessor:"roleName",Cell:function(e){var n=e.value;return n?String(n):"External user"}},{Header:"Action",accessor:"actionName"},{Header:"Type",accessor:"actionLevel"},{Header:"Status",accessor:"status"},{Header:"Time",accessor:"actionDate",filter:function(e,n,r){return r&&(r[0]||r[1])?e.filter((function(e){return n.some((function(n){var t=e.values[n];return Un()(t).isBetween(r[0],r[1])}))})):e},Cell:function(e){var n=e.row,r=Un()(n.values.actionDate).format("DD/MM/YY");return(0,_e.jsx)(wn.Z,{children:r})}}];return m?(0,_e.jsx)(kn,{}):(f&&un.Z,(0,_e.jsxs)(un.Z,{children:[(0,_e.jsxs)(un.Z,{mb:2,display:"flex",justifyContent:"space-between",alignItems:"flex-end",children:[(0,_e.jsxs)(an.Z,{direction:"row",alignItems:"center",spacing:3.5,children:[(0,_e.jsx)(Pt,{label:"Search User",value:t.search,onChange:function(e){i((0,c.Z)((0,c.Z)({},t),{},{search:e.target.value}))},endAdornment:(0,_e.jsx)(Ot.Z,{fontSize:"large",color:"action"})}),(0,_e.jsxs)(Hr,{label:"Select Role",value:t.roleName,onChange:function(e){i((0,c.Z)((0,c.Z)({},t),{},{roleName:e||null}))},children:[(0,_e.jsx)("option",{label:"Super Admin",value:Bn.SuperAdmin,children:"Super Admin"}),(0,_e.jsx)("option",{label:"Sub Admin",value:Bn.SubAdmin,children:"Sub Admin"}),(0,_e.jsx)("option",{label:"Practice Admin",value:Bn.PracticeAdmin,children:"Practice Admin"})]}),(0,_e.jsx)(zt,{label:"Select Date",onChange:function(e,n){e&&e[0]&&e[1]?i((0,c.Z)((0,c.Z)({},t),{},{startDateTime:e[0].format("YYYY-MM-DD"),endDateTime:e[1].format("YYYY-MM-DD")})):i((0,c.Z)((0,c.Z)({},t),{},{startDateTime:null,endDateTime:null}))}})]}),(0,_e.jsx)(un.Z,{pl:2,justifySelf:"flex-end",children:(0,_e.jsx)(He.Z,{variant:"contained",onClick:function(){s((0,c.Z)((0,c.Z)({},t),{},{cursor:null,direction:Hn.Forward}))},children:"Search"})})]}),(0,_e.jsx)(fr,{columns:b,data:Z||[],paginationType:"cursor",rowsPerPage:(null===j||void 0===j?void 0:j.perPage)||0,setPage:function(e,n){n&&s((0,c.Z)((0,c.Z)({},o),{},{direction:n,cursor:n==Hn.Backward?null===j||void 0===j?void 0:j.startCursor:null===j||void 0===j?void 0:j.endCursor}))},metaData:{hasNextPage:null===j||void 0===j?void 0:j.hasNextPage,hasPreviousPage:null===j||void 0===j?void 0:j.hasPreviousPage,total_records:null===j||void 0===j?void 0:j.totalRecords},disabled:f||x,dataLoading:f||x})]}))};var Mt=r.p+"static/media/BG.f29457303e0f9a68bd257a3b303c2e69.svg",Ft={display:"grid",placeItems:"center",height:"100vh",backgroundImage:"url(".concat(Mt,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},Ut=[{name:"FAQs",link:"/faqs"},{name:"Privacy",link:"/privacy"},{name:"Terms",link:"/terms"}],qt=function(e){var n=e.loading,r=void 0!==n&&n,t=e.children;return(0,_e.jsx)(m.Z,{sx:Ft,children:(0,_e.jsxs)(me.Z,{sx:{width:"clamp(300px,70%,430px)",minHeight:438,display:"flex",flexDirection:"column",borderRadius:2.5},elevation:11,variant:"elevation",raised:!0,children:[r&&(0,_e.jsx)(he.Z,{}),(0,_e.jsx)(wr.Z,{sx:{mx:2},avatar:(0,_e.jsx)(_,{})}),(0,_e.jsx)(Cr.Z,{sx:{flex:"1 0 0",mx:2},children:t}),(0,_e.jsx)(Sr.Z,{sx:{backgroundColor:"#f4f4f4",height:"80px"},children:(0,_e.jsx)(an.Z,{direction:"row",spacing:4,sx:{margin:"auto"},children:Ut.map((function(e){var n=e.name,r=e.link;return(0,_e.jsx)(k.Z,{component:oe.rU,color:"inherit",underline:"none",variant:"subtitle2",to:r,fontWeight:"bold",children:n},r)}))})})]})})},Nt=["handleSubmit","setError","reset"];function Ht(e){var n=e.email;return(0,ce.v_)("change-password",{email:n})}var Bt=Se.Ry({email:Se.Z_().email().required()}).required(),Vt=function(){(0,o.s0)();var e=(0,et.b)(),n=(0,fe.cI)({defaultValues:{email:""},resolver:(0,Ce.X)(Bt)}),r=n.handleSubmit,t=n.setError,i=n.reset,a=(0,ue.Z)(n,Nt),l=(0,c.Z)({handleSubmit:r,setError:t,reset:i},a),s=(0,de.useMutation)(Ht,{onSuccess:function(n){console.log("DATA:",n);var r=n.data.message;null===e||void 0===e||e.setAlert({show:!0,message:r,status:"success"}),i()},onError:function(e){var n=e.response;if(n){var r=n.data.message;t("email",{type:"server",message:r})}}}),d=s.mutate,u=s.isLoading;return(0,_e.jsx)(fe.RV,(0,c.Z)((0,c.Z)({},l),{},{children:(0,_e.jsx)("form",{onSubmit:r((function(e){var n=null===e||void 0===e?void 0:e.email;n&&d({email:n})})),children:(0,_e.jsx)(qt,{children:(0,_e.jsxs)(an.Z,{spacing:1,children:[(0,_e.jsx)(Z.Z,{variant:"h5",fontWeight:600,children:"Forgot password"}),(0,_e.jsxs)(gn,{spacing:4,children:[(0,_e.jsxs)(Z.Z,{variant:"body1",children:["Enter your registered email address"," "]}),(0,_e.jsx)(Ne,{placeholder:"Enter registered email",type:"email",fullWidth:!0,variant:"outlined",name:"email"}),(0,_e.jsx)(Zn,{children:(0,_e.jsx)($e,{disabled:u,type:"submit",sx:{ml:"auto"},variant:"contained",children:"Send"})})]})]})})})}))},$t=r(85523),Gt=(0,xe.ZP)(kr.Z)((function(e){var n=e.theme;return{width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:"dark"===n.palette.mode?"#2ECA45":"#65C466",opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:"light"===n.palette.mode?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:13,backgroundColor:"light"===n.palette.mode?"#E9E9EA":"#39393D",opacity:1,transition:n.transitions.create(["background-color"],{duration:500})}}})),Qt=function(e){return(0,_e.jsx)("div",{children:(0,_e.jsx)(Gt,(0,c.Z)({},e))})},Yt=function(e){var n=e.spacing,r=void 0===n?1:n,t=e.children;return(0,_e.jsx)(gn,{direction:"column",alignItems:"flex-start",spacing:r,children:t})},Xt=function(){return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Z.Z,{variant:"h5",fontWeight:600,children:"Sign in"}),(0,_e.jsxs)(Yt,{spacing:2,children:[(0,_e.jsx)(Z.Z,{variant:"body1",children:"Continue to Ez Login"}),(0,_e.jsx)(Ne,{placeholder:"Email",type:"email",fullWidth:!0,variant:"outlined",name:"email"})]})]})},Jt=r(29569),Kt=r(3710),ei=(0,O.Z)(Me.Z)((function(e){return{"& .MuiFilledInput-root":{backgroundColor:e.theme.palette.secondary[500],border:"none",borderBottomRightRadius:"4px",borderBottomLeftRadius:"4px","& input":{padding:"16.5px 14px"},"&::before":{border:"none"},"&::after":{border:"none"},"&:hover:not(.Mui-disabled):before":{border:"none"}}}})),ni=function(){var e=(0,fe.Gc)().register,n=(0,C.useState)(!1),r=(0,p.Z)(n,2),t=r[0],i=r[1];return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Z.Z,{variant:"h5",fontWeight:600,children:"Welcome"}),(0,_e.jsxs)(Yt,{spacing:2,children:[(0,_e.jsx)(ei,(0,c.Z)((0,c.Z)({},e("email")),{},{placeholder:"Email",type:"email",fullWidth:!0,variant:"filled"})),(0,_e.jsx)(Ne,{name:"password",variant:"outlined",type:t?"text":"password",placeholder:"Password",fullWidth:!0,InputProps:{endAdornment:(0,_e.jsx)(Te.Z,{position:"end",children:(0,_e.jsx)(v.Z,{onClick:function(){i(!t)},"aria-label":"toggle password visibility",edge:"end",children:t?(0,_e.jsx)(Jt.Z,{}):(0,_e.jsx)(Kt.Z,{})})})}})]})]})},ri=Se.Ry({email:Se.Z_().email("Invalid email").required("Email required"),password:Se.Z_().when("$step",(function(e,n){return"login"===e?n.min(4).required():n}))}).required(),ti=function(e){e.redirect_url;var n=e.saml_response,r=e.formRef,t=(0,C.useState)(10),i=(0,p.Z)(t,2),a=i[0],l=i[1];return(0,C.useEffect)((function(){var e=setTimeout((function(){var e;console.log("Timer: ",r.current),null===(e=r.current)||void 0===e||e.submit()}),1e4),n=setInterval((function(){l((function(e){return 0===e&&clearTimeout(n),e-1}))}),1e3);return function(){clearInterval(n),clearTimeout(e)}}),[]),(0,_e.jsx)(m.Z,{width:"100%",textAlign:"center",children:(0,_e.jsxs)(Yt,{spacing:2,children:[(0,_e.jsx)(m.Z,{}),(0,_e.jsx)(Z.Z,{variant:"body1",children:"You are being redirected, please wait..."}),(0,_e.jsx)(m.Z,{}),(0,_e.jsxs)(Z.Z,{children:["If you haven't been redirected in ",a," seconds please"]}),(0,_e.jsx)(Z.Z,{children:"click continue"}),(0,_e.jsx)(m.Z,{}),(0,_e.jsx)(m.Z,{}),(0,_e.jsx)("input",{type:"hidden",name:"SAMLResponse",value:n}),(0,_e.jsx)("input",{type:"hidden",name:"RelayState",value:"/whoami"})]})})},ii=["register","handleSubmit","control","formState","setError"],ai=function(){var e=(0,C.useState)("email-verifier"),n=(0,p.Z)(e,2),r=n[0],t=n[1],i=(0,C.useState)({redirect_url:"",saml_response:""}),a=(0,p.Z)(i,2),l=a[0],s=a[1],d=(0,o.s0)(),u=(0,se.E)(),h=(0,C.useRef)(null),f=(0,$n.Z)("access_token").setLocalStorage,x=(0,$n.Z)("refresh_token").setLocalStorage,v=(0,fe.cI)({defaultValues:{email:"",password:""},context:{step:r},resolver:(0,Ce.X)(ri)}),g=v.register,Z=v.handleSubmit,j=v.control,b=v.formState,y=v.setError,w=(0,ue.Z)(v,ii),S=(0,c.Z)({register:g,control:j,handleSubmit:Z,setError:y,formState:b},w);var P=(0,de.useMutation)((function(e){return(0,ce.v_)("email-verifier",e,{withCredentials:!0})}),{onSuccess:function(e){var n=e.data,r=e.status,i=n.message,a=n.verification;200===r&&a&&"success"===i&&t("login")},onError:function(e){var n=e.response;if(n){var r=n.data.message;y("email",{type:"server",message:r})}}}),A=P.mutate,E=P.isLoading,I=(0,de.useMutation)((function(e){return(0,ce.v_)("login",e,{withCredentials:!0})}),{onSuccess:function(e){var n=e.data,r=n.access_token,t=n.refresh_token;200===n.statuscode&&(null===u||void 0===u||u.signIn(),f(r),x(t),d("/"))},onError:function(e){var n=e.response;if(n){var r=n.data;if(307===n.status&&"redirect_url"in r&&"saml_response"in r){var i=r.redirect_url,a=r.saml_response,l=r.access_token,o=r.refresh_token;s({redirect_url:i,saml_response:a}),f(l),x(o),t("redirect"),y("password",{type:"server",message:r.message})}else 401===n.status&&y("password",{type:"server",message:r.message})}}}),_=I.mutate,L=(I.isError,I.data,I.error,I.isLoading),R=(I.status,Z((function(e){var n=e.email,t=e.password;"email-verifier"===r&&A({email:n}),"login"===r&&_({email:n,password:t})})));return null!==u&&void 0!==u&&u.authed?(0,_e.jsx)(o.Fg,{to:"/"}):(0,_e.jsxs)(fe.RV,(0,c.Z)((0,c.Z)({},S),{},{children:[(0,_e.jsx)(pe.DevTool,{control:j}),(0,_e.jsx)("form",(0,c.Z)((0,c.Z)((0,c.Z)({ref:h},(null===l||void 0===l?void 0:l.redirect_url)&&{action:null===l||void 0===l?void 0:l.redirect_url,method:"POST"}),"redirect"!==r&&{onSubmit:R}),{},{children:(0,_e.jsx)(qt,{loading:E||L,children:(0,_e.jsxs)(an.Z,{spacing:2,children:["email-verifier"===r&&(0,_e.jsx)(Xt,{}),"login"==r&&(0,_e.jsx)(ni,{}),"redirect"==r&&(0,_e.jsx)(ti,{redirect_url:l.redirect_url,saml_response:l.saml_response,formRef:h}),(0,_e.jsxs)(m.Z,{sx:{display:"flex",width:"100%"},children:["login"==r&&(0,_e.jsx)(m.Z,{sx:{marginRight:"auto",display:"flex",alignItems:"center"},children:(0,_e.jsx)($t.Z,{sx:{marginLeft:0,gap:"0.5rem"},control:(0,_e.jsx)(Qt,{defaultChecked:!0}),label:"Stay signed in"})}),(0,_e.jsx)($e,{type:"submit",disabled:E||L,sx:{marginLeft:"auto"},variant:"contained",children:"accounts"!=r?"Continue":"Verify"})]}),"login"===r&&(0,_e.jsx)(k.Z,{component:oe.rU,color:"primary",underline:"none",variant:"body1",to:"/forgot-password",children:"Forgot password?"})]})})}))]}))},li=["handleSubmit","setError","reset"];function oi(e){var n=e.password;return(0,ce.v_)("set-password",{password:n},{withCredentials:!0})}var si=Se.Ry({password:Se.Z_().required("Please enter new password").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,"Must contain 8 characters, uppercase, lowercase, number and special case character"),confirmPassword:Se.Z_().required("Please confirm new password").oneOf([Se.iH("password")],"Passwords must match")}).required(),di=function(){var e=(0,et.b)(),n=(0,o.s0)(),r=(0,fe.cI)({defaultValues:{password:"",confirmPassword:""},resolver:(0,Ce.X)(si)}),t=r.handleSubmit,i=r.setError,a=r.reset,l=(0,ue.Z)(r,li),s=(0,c.Z)({handleSubmit:t,setError:i,reset:a},l),d=(0,de.useMutation)(oi,{onSuccess:function(r){var t=r.data.message;null===e||void 0===e||e.setAlert({show:!0,message:t,status:"success"}),a(),n("sign-in")},onError:function(e){var n=e.response;if(n){var r=n.data.message;i("password",{type:"server",message:r})}}}),u=d.mutate,p=d.isLoading;return(0,_e.jsx)(fe.RV,(0,c.Z)((0,c.Z)({},s),{},{children:(0,_e.jsx)("form",{onSubmit:t((function(e){var n=null===e||void 0===e?void 0:e.password;n&&u({password:n})})),children:(0,_e.jsx)(qt,{children:(0,_e.jsxs)(an.Z,{spacing:1,children:[(0,_e.jsx)(Z.Z,{variant:"h5",fontWeight:600,children:"Reset your password"}),(0,_e.jsx)(Z.Z,{variant:"body1",children:"Enter new password"}),(0,_e.jsxs)(gn,{spacing:4,children:[(0,_e.jsx)(Ne,{placeholder:"New Password",type:"password",fullWidth:!0,variant:"outlined",name:"password"}),(0,_e.jsx)(Ne,{placeholder:"Confirm password",type:"password",fullWidth:!0,variant:"outlined",name:"confirmPassword"}),(0,_e.jsx)(Zn,{children:(0,_e.jsx)($e,{disabled:p,type:"submit",sx:{ml:"auto"},variant:"contained",children:"Reset"})})]})]})})})}))},ci=r(81918),ui=r(5289),pi=r(65661),hi=r(39157),fi=r(498),xi=r(68087),mi=r(99259),vi=["title","titleId"];function gi(){return gi=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},gi.apply(this,arguments)}function Zi(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ji(e,n){var r=e.title,t=e.titleId,i=Zi(e,vi);return C.createElement("svg",gi({xmlns:"http://www.w3.org/2000/svg",width:36.007,height:36.007,viewBox:"0 0 36.007 36.007",ref:n,"aria-labelledby":t},i),r?C.createElement("title",{id:t},r):null,C.createElement("g",{"data-name":"Icon feather-edit"},C.createElement("path",{"data-name":"Path 2961",d:"M18.211 6H6.38A3.38 3.38 0 0 0 3 9.38v23.661a3.38 3.38 0 0 0 3.38 3.38h23.661a3.38 3.38 0 0 0 3.38-3.38v-11.83",transform:"translate(-2 -1.415)",style:{fill:"none",stroke:"#a1a1a1",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}}),C.createElement("path",{"data-name":"Path 2962",d:"M29.746 3.868a3.585 3.585 0 1 1 5.07 5.07L18.76 24.994 12 26.684l1.69-6.76z",transform:"translate(-.86 -1.818)",style:{fill:"none",stroke:"#a1a1a1",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}})))}var bi=C.forwardRef(ji),yi=(r.p,["title","titleId"]);function wi(){return wi=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},wi.apply(this,arguments)}function ki(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ci(e,n){var r=e.title,t=e.titleId,i=ki(e,yi);return C.createElement("svg",wi({xmlns:"http://www.w3.org/2000/svg",width:32.544,height:35.938,viewBox:"0 0 32.544 35.938",ref:n,"aria-labelledby":t},i),r?C.createElement("title",{id:t},r):null,C.createElement("g",{"data-name":"Icon feather-trash-2"},C.createElement("path",{"data-name":"Path 2963",d:"M4.5 9h30.544",transform:"translate(-3.5 -1.212)",style:{fill:"none",stroke:"#cc3a3a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}}),C.createElement("path",{"data-name":"Path 2964",d:"M31.257 9.788v23.756a3.394 3.394 0 0 1-3.394 3.394H10.894A3.394 3.394 0 0 1 7.5 33.544V9.788m5.091 0V6.394A3.394 3.394 0 0 1 15.985 3h6.788a3.394 3.394 0 0 1 3.394 3.394v3.394",transform:"translate(-3.106 -2)",style:{fill:"none",stroke:"#cc3a3a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}}),C.createElement("path",{"data-name":"Path 2965",d:"M15 16.5v10.181",transform:"translate(-2.122 -.228)",style:{fill:"none",stroke:"#cc3a3a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}}),C.createElement("path",{"data-name":"Path 2966",d:"M21 16.5v10.181",transform:"translate(-1.334 -.228)",style:{fill:"none",stroke:"#cc3a3a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}})))}var Si=C.forwardRef(Ci),Pi=(r.p,function(e){return(0,_e.jsx)(v.Z,(0,c.Z)((0,c.Z)({},e),{},{children:(0,_e.jsx)(mi.Z,{viewBox:"-2 0 38 38",fontSize:e.size,children:(0,_e.jsx)(bi,{})})}))}),Ai=function(e){return(0,_e.jsx)(v.Z,(0,c.Z)((0,c.Z)({},e),{},{children:(0,_e.jsx)(mi.Z,{viewBox:"-2 0 38 38",fontSize:e.size,children:(0,_e.jsx)(Si,{})})}))},Ei=["value"];function Ii(e){return(0,ce.Od)("user/".concat(e.userId))}function _i(e){var n,r,t=(0,C.useState)(!1),i=(0,p.Z)(t,2),a=i[0],l=i[1],s=(0,C.useState)(null),d=(0,p.Z)(s,2),c=d[0],u=d[1],h=(0,C.useState)({products:[]}),f=(0,p.Z)(h,2),x=f[0],m=(f[1],(0,C.useState)(["id"])),v=(0,p.Z)(m,1)[0],g=(0,C.useDeferredValue)(x),j=(0,o.s0)(),b=(0,C.useState)(""),y=(0,p.Z)(b,2),w=y[0],S=y[1],P=(0,C.useState)(10),A=(0,p.Z)(P,2),E=A[0],I=A[1],_=(0,C.useState)(1),L=(0,p.Z)(_,2),R=L[0],W=L[1],D=(0,de.useQueryClient)(),z=(0,de.useQuery)(["users",E,R],(function(){return function(e,n){return(0,ce.U2)("users/",{params:{limit:e,offset:n}}).then((function(e){return e.data}))}(E,R)}),{keepPreviousData:!0}),O=(0,de.useMutation)(Ii,{onSuccess:function(e){D.invalidateQueries("users"),l(!1),u(null)}}),T=O.mutate,M=O.isLoading,F=(null===(n=z.data)||void 0===n?void 0:n._metadata)||{},U=null===(r=z.data)||void 0===r?void 0:r.users_data,q=(0,C.useState)([{Header:"#",Cell:function(e){var n=e.row,r=e.state;return(0,_e.jsx)(Z.Z,{children:n.index+1+r.pageIndex*r.pageSize})}},{Header:"First Name",accessor:"first_name"},{Header:"Last Name",accessor:"last_name"},{Header:"Products",accessor:"products",Cell:function(e){var n=e.value;(0,ue.Z)(e,Ei);return n.length<=0?(0,_e.jsx)(Z.Z,{children:"No assigned product"}):(0,_e.jsx)(an.Z,{spacing:1,direction:"row",children:n.map((function(e){return(0,_e.jsx)(ci.Z,{label:e})}))})}},{Header:"Action",disableSortBy:!0,Cell:function(e){var n=e.cell.row.original.id;return(0,_e.jsxs)(an.Z,{direction:"row",spacing:1,justifyContent:"center",children:[(0,_e.jsx)(Pi,{size:"medium",onClick:function(){j("/create-user/".concat(n))}}),(0,_e.jsx)(Ai,{size:"medium",onClick:function(){l(!0),u(n)}})]})}}]),N=(0,p.Z)(q,1)[0],H=function(){u(null),l(!1)};return z.isError?(0,_e.jsx)(_e.Fragment,{children:"Error fetching records"}):(0,_e.jsxs)(un.Z,{children:[(0,_e.jsxs)(un.Z,{display:"flex",alignItems:"center",mb:2,children:[(0,_e.jsx)(k.Z,{component:oe.rU,to:"/",sx:{display:"flex"},children:(0,_e.jsx)(fi.Z,{})}),"\xa0",(0,_e.jsx)(Z.Z,{color:"primary",variant:"h4",fontWeight:"bold",children:"User Management"})]}),(0,_e.jsx)(un.Z,{mb:2,display:"flex",justifyContent:"space-between",alignItems:"flex-end",children:(0,_e.jsx)(un.Z,{pl:2,justifySelf:"flex-end",children:(0,_e.jsx)(He.Z,{variant:"contained",onClick:function(){return j("/create-user")},startIcon:(0,_e.jsx)(xi.Z,{}),children:"Add User"})})}),(0,_e.jsx)(vn.Z,{variant:"fullWidth"}),(0,_e.jsxs)(un.Z,{my:2,display:"flex",justifyContent:"space-between",alignItems:"flex-end",children:[(0,_e.jsxs)(an.Z,{direction:"row",alignItems:"flex-end",spacing:3.5,children:[(0,_e.jsx)(Pt,{label:null,value:w,onChange:function(e){S(e.target.value)},placeholder:"Search",endAdornment:(0,_e.jsx)(Ot.Z,{})}),(0,_e.jsx)(He.Z,{variant:"contained",onClick:function(){return j("/audit-trail")},children:"Audit Logs"})]}),(0,_e.jsxs)(an.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,_e.jsx)(Z.Z,{variant:"body1",children:"Show"}),(0,_e.jsx)(Hr,{label:null,suffix:"entries",onChange:function(e){I(e?parseInt(e):E),W(1)},defaultValue:E.toString(),sx:{width:150},value:String(E),children:[5,10,15,20,25].map((function(e){return(0,_e.jsx)("option",{label:"".concat(e),value:e},e)}))})]})]}),(0,_e.jsx)(fr,{columns:N,data:U||[],filters:g,rowsPerPage:E,useSorting:!0,hiddenColumns:v,metaData:F,setPage:function(e){e&&W(e)},page:R,dataLoading:z.isLoading||z.isFetching,paginationType:"paged"}),(0,_e.jsxs)(ui.Z,{open:a,maxWidth:"xs",fullWidth:!0,onClose:H,children:[(0,_e.jsx)(pi.Z,{children:"Delete User"}),(0,_e.jsx)(hi.Z,{dividers:!0,children:(0,_e.jsxs)(un.Z,{display:"flex",alignItems:"center",flexDirection:"column",children:[(0,_e.jsx)(Z.Z,{children:"Are you sure you want to delete this user"}),(0,_e.jsxs)(an.Z,{py:4,mx:"auto",direction:"row",spacing:1,children:[(0,_e.jsx)($e,{variant:"outlined",onClick:H,children:"Cancel"}),(0,_e.jsx)($e,{variant:"contained",onClick:function(){"number"==typeof c&&T({userId:c})},children:M?"Deleting...":"Delete"})]})]})})]})]})}var Li=function(e){var n=e.children,r=(0,se.E)();return null!==r&&void 0!==r&&r.authed?n:(0,_e.jsx)(o.Fg,{to:"sign-in",replace:!0})},Ri=function(e){var n=(0,C.useState)(),r=(0,p.Z)(n,2),t=r[0],i=r[1];return(0,_e.jsxs)("div",{children:[(0,_e.jsx)("button",{onClick:function(){i(void 0),(0,ce.U2)("test-token").then((function(e){i("success")}))},children:"REQUEST"}),t&&(0,_e.jsx)("p",{children:t})]})},Wi=en,Di=(0,xe.ZP)(Cr.Z)((function(e){var n=e.theme.spacing;return{display:"flex",flexDirection:"column",gap:n(2),paddingLeft:n(3),paddingRight:n(3)}})),zi=(0,xe.ZP)(m.Z)((function(){return{display:"flex",justifyContent:"space-around",alignItems:"center"}})),Oi=(0,xe.ZP)(Sr.Z)((function(e){return{justifyContent:"flex-end",padding:(0,e.theme.spacing)(3)}})),Ti=((0,O.Z)(m.Z)((function(e){var n=e.theme,r=n.palette,t=n.spacing;return{display:"inline-flex",justifyContent:"space-between",alignItems:"center",height:45,width:250,maxWidth:300,backgroundColor:r.background.default,borderStyle:"solid",borderWidth:1,borderColor:r.grey[300],borderRadius:0,paddingRight:t(1.75),"&:hover":{borderColor:r.grey[600]},"&:active":{borderWidth:2,borderColor:r.primary[500]}}})),(0,O.Z)(m.Z)((function(e){var n=e.theme;n.palette;return{padding:(0,n.spacing)(1.5,3)}}))),Mi=(0,O.Z)(an.Z)((function(e){var n=e.theme;n.palette,n.spacing;return{overflow:"auto","-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}}})),Fi=(0,O.Z)(ci.Z)((function(e){e.theme.palette;return{height:20,borderRadius:0}})),Ui=C.forwardRef((function(e,n){var r=e.InputComponent,t=(e.children,(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Ti,{width:"90%",children:(0,_e.jsx)(Mi,{direction:"row",spacing:.2,children:e.value.length?e.value.map((function(e){return(0,_e.jsx)(Fi,{label:e,size:"small"})})):(0,_e.jsx)(Br.ZP,{disabled:!0})})}),(0,_e.jsx)(zr.Z,{})]}));return(0,_e.jsx)(_e.Fragment,{children:r?C.cloneElement(r,(0,c.Z)({ref:n},e),t):(0,_e.jsx)(vt,(0,c.Z)((0,c.Z)({ref:n},e),{},{children:t}))})})),qi=["label","children","onChange","value","InputComponent","sx"],Ni=function(e){var n,r=e.label,t=e.children,i=e.onChange,a=e.value,l=e.InputComponent,o=e.sx,s=((0,ue.Z)(e,qi),(0,C.useRef)()),d=(0,C.useState)(!1),u=(0,p.Z)(d,2),h=u[0],f=u[1],m=(0,C.useMemo)((function(){return C.Children.map(t,(function(e){return e.props.value&&e.props.label?{label:e.props.label,value:e.props.value.toString()}:null})).filter((function(e){return e}))}),[t]);console.log("Multi Options: ",m);var v=(0,_r.Z)((0,c.Z)({multiple:!0,options:m,open:h,onChange:i,defaultValue:[]},a?{value:a}:{})),Z=v.getButtonProps,j=v.getListboxProps,b=v.getOptionProps,w=v.value,k=v.open;return(0,_e.jsx)(x.Z,{onClickAway:function(){return f(!1)},children:(0,_e.jsxs)(un.Z,{sx:o,children:[r&&(0,_e.jsx)(Dr,{children:r}),l?C.cloneElement(l,{value:w,onClick:function(){return f(!0)},ref:s}):(0,_e.jsx)(Ui,(0,c.Z)((0,c.Z)({},Z()),{},{value:w,onClick:function(){return f(!0)},ref:s})),(0,_e.jsx)(g.Z,{open:k,anchorEl:s.current,placement:"left-end",children:(0,_e.jsx)(Tr,(0,c.Z)((0,c.Z)({},j()),{},{style:{width:null===s||void 0===s||null===(n=s.current)||void 0===n?void 0:n.clientWidth},children:m.map((function(e){return e.value&&e.label?(0,_e.jsx)(y.Z,(0,c.Z)((0,c.Z)({},b(e)),{},{children:e.label}),e.value):null}))}))})]})})},Hi=(0,O.Z)(m.Z)((function(e){var n=e.theme,r=n.palette,t=n.spacing,i=n.shape;return{display:"inline-flex",justifyContent:"space-between",alignItems:"center",height:45,width:250,maxWidth:300,backgroundColor:r.background.default,borderStyle:"solid",borderWidth:1,borderColor:r.grey[300],borderRadius:i.borderRadius,paddingRight:t(1.75),"&:hover":{borderColor:r.grey[600]},"&:active":{borderWidth:2,borderColor:r.primary[500]}}})),Bi=C.forwardRef((function(e,n){return(0,_e.jsx)(Hi,(0,c.Z)((0,c.Z)({ref:n},e),{},{children:e.children}))})),Vi=function(){var e=(0,C.useState)(null),n=(0,p.Z)(e,2);n[0],n[1],xt();return(0,_e.jsx)(i.Z,{maxWidth:"md",fixed:!0,children:(0,_e.jsxs)(me.Z,{sx:{maxWidth:781},children:[(0,_e.jsx)(wr.Z,{disableTypography:!0,title:(0,_e.jsx)(Z.Z,{variant:"body1",color:"primary",fontWeight:"bold",children:"Add New Internal User"})}),(0,_e.jsx)(vn.Z,{}),(0,_e.jsxs)(Di,{children:[(0,_e.jsxs)(zi,{children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"First Name"}),(0,_e.jsx)(Me.Z,{sx:{flex:3},fullWidth:!0,placeholder:"John"})]}),(0,_e.jsxs)(zi,{children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"Last Name"}),(0,_e.jsx)(Me.Z,{sx:{flex:3},fullWidth:!0,placeholder:"Doe"})]}),(0,_e.jsxs)(zi,{children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"User Role"}),(0,_e.jsxs)(Hr,{sx:{flex:3},onChange:function(e){},value:"",InputComponent:(0,_e.jsx)(Rr.Z,{fullWidth:!0}),children:[(0,_e.jsx)("option",{label:"Admin",value:"Admin",children:"Admin"}),(0,_e.jsx)("option",{label:"User",value:"user",children:"User"}),(0,_e.jsx)("option",{label:"SuperAdmin",value:"superadmin",children:"SuperAdmin"})]})]}),(0,_e.jsxs)(zi,{children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"Surgeries Allowed"}),(0,_e.jsxs)(Ni,{value:[],onChange:function(){},InputComponent:(0,_e.jsx)(Bi,{sx:{width:"100%",maxWidth:"unset",height:56}}),sx:{flex:3,width:"100%"},children:[(0,_e.jsx)("option",{label:"Admin",value:"Admin",children:"Admin"}),(0,_e.jsx)("option",{label:"User",value:"user",children:"User"}),(0,_e.jsx)("option",{label:"SuperAdmin",value:"superadmin",children:"SuperAdmin"})]})]}),(0,_e.jsxs)(zi,{children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"Email Address"}),(0,_e.jsx)(Me.Z,{sx:{flex:3},fullWidth:!0,placeholder:"username@email.com"})]}),(0,_e.jsxs)(m.Z,{display:"flex",children:[(0,_e.jsx)(Z.Z,{sx:{flex:1},children:"Products"}),(0,_e.jsxs)(zi,{display:"flex",flexDirection:"column",flex:3,children:[(0,_e.jsxs)(m.Z,{display:"flex",width:"100%",gap:2,children:[(0,_e.jsx)(m.Z,{component:Z.Z,sx:{width:"20%"},color:"text.mute",children:"Select Product"}),(0,_e.jsx)(m.Z,{component:Z.Z,sx:{width:"40%"},color:"text.mute",children:"Select Practice"}),(0,_e.jsx)(m.Z,{component:Z.Z,sx:{width:"40%"},color:"text.mute",children:"Select Role"})]}),(0,_e.jsx)(m.Z,{display:"flex",flexDirection:"column",mt:1,gap:1,children:new Array(6).fill(!0).map((function(e,n){return(0,_e.jsxs)(m.Z,{display:"flex",width:"100%",gap:2,children:[(0,_e.jsx)(m.Z,{sx:{width:"20%",margin:"auto"},children:(0,_e.jsx)(hn,{isActive:!0,children:(0,_e.jsx)(cn,{})})}),(0,_e.jsx)(m.Z,{sx:{width:"40%"},children:(0,_e.jsxs)(Hr,{onChange:function(){console.log("Select")},children:[(0,_e.jsx)("option",{label:"Admin",value:"Admin",children:"Admin"}),(0,_e.jsx)("option",{label:"User",value:"user",children:"User"}),(0,_e.jsx)("option",{label:"SuperAdmin",value:"superadmin",children:"SuperAdmin"})]})}),(0,_e.jsx)(m.Z,{sx:{width:"40%"},children:(0,_e.jsxs)(Hr,{onChange:function(){console.log("Select")},children:[(0,_e.jsx)("option",{label:"Admin",value:"Admin",children:"Admin"}),(0,_e.jsx)("option",{label:"User",value:"user",children:"User"}),(0,_e.jsx)("option",{label:"SuperAdmin",value:"superadmin",children:"SuperAdmin"})]})})]})}))})]})]})]}),(0,_e.jsx)(vn.Z,{}),(0,_e.jsxs)(Oi,{children:[(0,_e.jsx)(He.Z,{variant:"outlined",children:"Cancel"}),(0,_e.jsx)(He.Z,{variant:"contained",children:"Save"})]})]})})};var $i=function(){var e=(0,et.b)();return(0,_e.jsxs)(i.Z,{maxWidth:!1,disableGutters:!0,children:[(0,_e.jsxs)(o.Z5,{children:[(0,_e.jsx)(o.AW,{path:"sign-in",element:(0,_e.jsx)(ai,{})}),(0,_e.jsx)(o.AW,{path:"forgot-password",element:(0,_e.jsx)(Vt,{})}),(0,_e.jsx)(o.AW,{path:"reset-password",element:(0,_e.jsx)(di,{})}),(0,_e.jsxs)(o.AW,{path:"/",element:(0,_e.jsx)(Li,{children:(0,_e.jsx)(on,{})}),children:[(0,_e.jsx)(o.AW,{index:!0,element:(0,_e.jsx)(br,{})}),(0,_e.jsx)(o.AW,{path:"user-management",element:(0,_e.jsx)(_i,{})}),(0,_e.jsx)(o.AW,{path:"audit-trail",element:(0,_e.jsx)(Tt,{})}),(0,_e.jsx)(o.AW,{path:"account-access",element:(0,_e.jsx)(yr,{})}),(0,_e.jsx)(o.AW,{path:"create-user",element:(0,_e.jsx)(ft,{children:(0,_e.jsx)(Ct,{editMode:!1})})}),(0,_e.jsx)(o.AW,{path:"create-user/:id",element:(0,_e.jsx)(ft,{children:(0,_e.jsx)(Ct,{editMode:!0})})}),(0,_e.jsx)(o.AW,{path:"profile",element:(0,_e.jsx)(Wi,{})}),"//TODO: need to decide how to utilize this",(0,_e.jsx)(o.AW,{path:"account-access-2",element:(0,_e.jsx)(yr,{})}),(0,_e.jsx)(o.AW,{path:"refresh-test-route",element:(0,_e.jsx)(Ri,{})}),(0,_e.jsx)(o.AW,{path:"internal-user",element:(0,_e.jsx)(ft,{children:(0,_e.jsx)(Vi,{})})})]}),(0,_e.jsx)(o.AW,{path:"*",element:(0,_e.jsx)(o.Fg,{to:"/sign-in"})})]}),(0,_e.jsx)(a.Z,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:null===e||void 0===e?void 0:e.alert.show,autoHideDuration:3e3,onClose:null===e||void 0===e?void 0:e.closeAlert,children:(0,_e.jsx)(l.Z,{severity:null===e||void 0===e?void 0:e.alert.status,children:null===e||void 0===e?void 0:e.alert.message})},"top center")]})}}}]);
//# sourceMappingURL=90.e379d2e3.chunk.js.map