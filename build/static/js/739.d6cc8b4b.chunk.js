"use strict";(self.webpackChunksso_frontend=self.webpackChunksso_frontend||[]).push([[739,560],{77739:function(e,n,t){t.r(n),t.d(n,{default:function(){return zi}});var r,a=t(54440),i=t(19658),l=t(47317),o=t(20890),s=t(16871),d=t(1992),c=t(26445),u=t(33032),p=t(23430),h=t(84322),m=t.n(h),f=t(61889),v=t(67414),g=t(13400),x=t(20068),Z=t(93044),b=t(68870),j=t(93517),y=t(23060),w=t(72791),k=t(71535),P=t(36222),C=t(66934),_=t(84395),E=t(34663),S=t(65117),I=["title","titleId"];function A(){return A=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},A.apply(this,arguments)}function R(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function L(e,n){var t=e.title,a=e.titleId,i=R(e,I);return w.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",width:162.892,height:57.264,viewBox:"0 0 162.892 57.264",ref:n,"aria-labelledby":a},i),t?w.createElement("title",{id:a},t):null,r||(r=w.createElement("g",{id:"Logo_2","data-name":"Logo 2",transform:"translate(740.254 -933.895)"},w.createElement("g",{id:"Group_8634","data-name":"Group 8634",transform:"translate(-740.254 933.895)"},w.createElement("g",{id:"Group_8628","data-name":"Group 8628",transform:"translate(11.942 8.557)"},w.createElement("path",{id:"Path_3348","data-name":"Path 3348",d:"M-608.989,974.427a9.445,9.445,0,0,0-9.362,8.2h3.022a6.47,6.47,0,0,1,6.34-5.215,6.469,6.469,0,0,1,6.463,6.461,6.469,6.469,0,0,1-6.463,6.462,6.48,6.48,0,0,1-5.625-3.28h-3.269c.087.246.185.486.291.722a9.448,9.448,0,0,0,8.6,5.541,9.445,9.445,0,0,0,9.445-9.444A9.445,9.445,0,0,0-608.989,974.427Z",transform:"translate(618.351 -974.427)",fill:"#515aae"})),w.createElement("g",{id:"Group_8629","data-name":"Group 8629",transform:"translate(6.984)"},w.createElement("path",{id:"Path_3349","data-name":"Path 3349",d:"M-636.972,917.58a14.322,14.322,0,0,0-14.32,14.1h2.983a11.354,11.354,0,0,1,11.338-11.122,11.354,11.354,0,0,1,11.339,11.122h2.983A14.322,14.322,0,0,0-636.972,917.58Z",transform:"translate(651.292 -917.58)",fill:"#8246af"})),w.createElement("g",{id:"Group_8630","data-name":"Group 8630",transform:"translate(19.813 26.93)"},w.createElement("rect",{id:"Rectangle_3217","data-name":"Rectangle 3217",width:2.983,height:30.334,fill:"#515aae"})),w.createElement("g",{id:"Group_8631","data-name":"Group 8631",transform:"translate(19.813 54.281)"},w.createElement("rect",{id:"Rectangle_3218","data-name":"Rectangle 3218",width:7.967,height:2.983,fill:"#515aae"})),w.createElement("g",{id:"Group_8632","data-name":"Group 8632",transform:"translate(19.813 48.185)"},w.createElement("rect",{id:"Rectangle_3219","data-name":"Rectangle 3219",width:5.826,height:2.983,fill:"#515aae"})),w.createElement("g",{id:"Group_8633","data-name":"Group 8633",transform:"translate(0 16.327)"},w.createElement("path",{id:"Path_3350","data-name":"Path 3350",d:"M-663.25,1026.051h-3.157a10.177,10.177,0,0,1,.138,1.674,10.28,10.28,0,0,1-.083,1.309h3.1a5.19,5.19,0,0,1,5.184,5.184v18.508a5.184,5.184,0,0,1-5.184,5.184H-668.3a1.491,1.491,0,0,0-1.491,1.491h0a1.491,1.491,0,0,0,1.491,1.491h5.051a8.166,8.166,0,0,0,8.166-8.167v-18.508A8.166,8.166,0,0,0-663.25,1026.051Zm-34.443,8.166v18.508a8.166,8.166,0,0,0,8.166,8.167h11.647v-2.983h-11.647a5.184,5.184,0,0,1-5.184-5.184v-18.508a5.184,5.184,0,0,1,5.184-5.184h12.735a1.491,1.491,0,0,0,1.491-1.491h0a1.491,1.491,0,0,0-1.491-1.491h-12.735A8.166,8.166,0,0,0-697.693,1034.217Z",transform:"translate(697.693 -1026.051)",fill:"#8246af"}))),w.createElement("g",{id:"Group_8637","data-name":"Group 8637",transform:"translate(-679.917 953.376)"},w.createElement("g",{id:"Group_8635","data-name":"Group 8635",transform:"translate(0 0)"},w.createElement("path",{id:"Path_3351","data-name":"Path 3351",d:"M-784.917,1344.6h8.308v2.835h-5.432v2.752h5.432v2.783h-5.432v4h5.432v2.845h-8.308Z",transform:"translate(784.917 -1344.221)",fill:"#363636"}),w.createElement("path",{id:"Path_3352","data-name":"Path 3352",d:"M-734.151,1344.6h9.208l-5.419,12.436h5.067v2.783h-9.3l5.394-12.354h-4.949Z",transform:"translate(746.048 -1344.221)",fill:"#363636"}),w.createElement("path",{id:"Path_3353","data-name":"Path 3353",d:"M-641.592,1344.6h2.9v12.457h4.221v2.763h-7.118Z",transform:"translate(674.209 -1344.221)",fill:"#363636"}),w.createElement("path",{id:"Path_3354","data-name":"Path 3354",d:"M-588.558,1342.921a7.559,7.559,0,0,1,5.554,2.338,7.781,7.781,0,0,1,2.325,5.7,7.694,7.694,0,0,1-2.294,5.639,7.553,7.553,0,0,1-5.564,2.307,7.551,7.551,0,0,1-5.694-2.37,7.862,7.862,0,0,1-2.267-5.628,7.9,7.9,0,0,1,1.056-4.015,7.82,7.82,0,0,1,2.9-2.9A7.808,7.808,0,0,1-588.558,1342.921Zm-.031,2.835a4.778,4.778,0,0,0-3.552,1.469,5.115,5.115,0,0,0-1.44,3.735,4.867,4.867,0,0,0,1.813,3.994,4.967,4.967,0,0,0,3.231,1.148,4.718,4.718,0,0,0,3.511-1.49,5.062,5.062,0,0,0,1.45-3.673,5.082,5.082,0,0,0-1.461-3.678A4.761,4.761,0,0,0-588.589,1345.756Z",transform:"translate(639.378 -1342.921)",fill:"#363636"}),w.createElement("path",{id:"Path_3355","data-name":"Path 3355",d:"M-495.8,1345.787l-2.04,2.017a6.032,6.032,0,0,0-4.515-2.049,5.16,5.16,0,0,0-3.764,1.49,4.885,4.885,0,0,0-1.517,3.621,5.012,5.012,0,0,0,1.574,3.735,5.355,5.355,0,0,0,3.884,1.531,4.768,4.768,0,0,0,2.532-.631,4.444,4.444,0,0,0,1.662-1.976h-4.408v-2.721h7.656l.02.641a7.453,7.453,0,0,1-1.034,3.787,7.235,7.235,0,0,1-2.68,2.731,7.637,7.637,0,0,1-3.859.942,8.57,8.57,0,0,1-4.227-1.03,7.526,7.526,0,0,1-2.938-2.933,8.179,8.179,0,0,1-1.081-4.107,7.633,7.633,0,0,1,2-5.256,7.872,7.872,0,0,1,6.166-2.659,9.4,9.4,0,0,1,3.714.734A8.52,8.52,0,0,1-495.8,1345.787Z",transform:"translate(572.975 -1342.921)",fill:"#363636"}),w.createElement("path",{id:"Path_3356","data-name":"Path 3356",d:"M-422.8,1344.6h2.876v15.219H-422.8Z",transform:"translate(505.205 -1344.221)",fill:"#363636"}),w.createElement("path",{id:"Path_3357","data-name":"Path 3357",d:"M-388.341,1344.6h2.779l6.512,10.015V1344.6h2.9v15.219h-2.787l-6.5-9.984v9.984h-2.9Z",transform:"translate(478.591 -1344.221)",fill:"#363636"})),w.createElement("g",{id:"Group_8636","data-name":"Group 8636",transform:"translate(0.159 19.396)"},w.createElement("path",{id:"Path_3358","data-name":"Path 3358",d:"M-782,1428.646l2.084,4.469h-.482l-.7-1.47h-1.925l-.7,1.47h-.5l2.111-4.469Zm-.056.949-.766,1.617h1.528Z",transform:"translate(784.219 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3359","data-name":"Path 3359",d:"M-752.347,1431.9l.38-.228q.4.738.927.738a.889.889,0,0,0,.422-.1.74.74,0,0,0,.3-.281.726.726,0,0,0,.1-.373.758.758,0,0,0-.152-.441,3.633,3.633,0,0,0-.766-.717,3.9,3.9,0,0,1-.7-.611,1.116,1.116,0,0,1-.237-.683,1.039,1.039,0,0,1,.14-.532,1,1,0,0,1,.393-.378,1.133,1.133,0,0,1,.551-.138,1.175,1.175,0,0,1,.591.156,2.026,2.026,0,0,1,.582.576l-.365.276a1.748,1.748,0,0,0-.43-.44.739.739,0,0,0-.387-.106.613.613,0,0,0-.442.164.536.536,0,0,0-.172.4.687.687,0,0,0,.061.282,1.035,1.035,0,0,0,.222.3q.088.085.577.447a3.252,3.252,0,0,1,.8.763,1.227,1.227,0,0,1,.216.671,1.14,1.14,0,0,1-.369.845,1.242,1.242,0,0,1-.9.358,1.318,1.318,0,0,1-.738-.217A1.985,1.985,0,0,1-752.347,1431.9Z",transform:"translate(759.6 -1428.152)",fill:"#363636"}),w.createElement("path",{id:"Path_3360","data-name":"Path 3360",d:"M-735.409,1433.115l.64-4.469h.073l1.817,3.667,1.8-3.667h.072l.643,4.469h-.438l-.442-3.2-1.58,3.2h-.114l-1.6-3.22-.439,3.22Z",transform:"translate(746.517 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3361","data-name":"Path 3361",d:"M-706.719,1428.646l2.084,4.469h-.482l-.7-1.47h-1.925l-.7,1.47h-.5l2.111-4.469Zm-.056.949-.766,1.617h1.527Z",transform:"translate(726.071 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3362","data-name":"Path 3362",d:"M-684.688,1428.646h.89a5.392,5.392,0,0,1,1.009.061,1.15,1.15,0,0,1,.647.391,1.116,1.116,0,0,1,.249.738,1.192,1.192,0,0,1-.172.642,1.07,1.07,0,0,1-.491.418,2.258,2.258,0,0,1-.881.145l1.607,2.075h-.553l-1.607-2.075h-.253v2.075h-.446Zm.446.438v1.519l.77.006a1.909,1.909,0,0,0,.662-.085.69.69,0,0,0,.335-.272.756.756,0,0,0,.12-.418.723.723,0,0,0-.122-.409.676.676,0,0,0-.319-.263,1.94,1.94,0,0,0-.657-.079Z",transform:"translate(707.339 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3363","data-name":"Path 3363",d:"M-667.964,1429.083v-.437h2.448v.438h-1v4.031h-.456v-4.031Z",transform:"translate(694.42 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3364","data-name":"Path 3364",d:"M-642.431,1428.646h.456v1.677l1.786-1.677h.6l-2.146,2.005,2.314,2.464h-.595l-1.958-2.082v2.082h-.456Z",transform:"translate(674.698 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3365","data-name":"Path 3365",d:"M-624.079,1428.646h2.561v.438h-2.114v1.4h2.1v.438h-2.1v1.756h2.1v.437h-2.543Z",transform:"translate(660.522 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3366","data-name":"Path 3366",d:"M-608.8,1428.646h.514l1.143,1.843,1.126-1.843h.516l-1.416,2.333v2.136h-.44v-2.136Z",transform:"translate(648.718 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3367","data-name":"Path 3367",d:"M-581.075,1429.083v-.437h2.448v.438h-1v4.031h-.456v-4.031Z",transform:"translate(627.305 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3368","data-name":"Path 3368",d:"M-563.841,1428.152a2.319,2.319,0,0,1,1.7.677,2.256,2.256,0,0,1,.684,1.668,2.267,2.267,0,0,1-.682,1.665,2.262,2.262,0,0,1-1.664.684,2.287,2.287,0,0,1-1.678-.68,2.237,2.237,0,0,1-.684-1.647,2.383,2.383,0,0,1,.312-1.194,2.268,2.268,0,0,1,.85-.861A2.284,2.284,0,0,1-563.841,1428.152Zm.02.434a1.842,1.842,0,0,0-.94.258,1.862,1.862,0,0,0-.694.7,1.938,1.938,0,0,0-.249.976,1.824,1.824,0,0,0,.552,1.346,1.82,1.82,0,0,0,1.331.549,1.91,1.91,0,0,0,.963-.252,1.805,1.805,0,0,0,.691-.69,1.937,1.937,0,0,0,.248-.973,1.891,1.891,0,0,0-.248-.963,1.853,1.853,0,0,0-.7-.689A1.89,1.89,0,0,0-563.822,1428.586Z",transform:"translate(615.79 -1428.152)",fill:"#363636"}),w.createElement("path",{id:"Path_3369","data-name":"Path 3369",d:"M-529.582,1428.646h2.561v.438h-2.114v1.4h2.1v.438h-2.1v1.756h2.1v.437h-2.543Z",transform:"translate(587.531 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3370","data-name":"Path 3370",d:"M-514.193,1429.077v-.431h2.357l-1.867,4.031h1.773v.437h-2.464l1.883-4.037Z",transform:"translate(575.799 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3371","data-name":"Path 3371",d:"M-487.7,1428.646h.89a5.149,5.149,0,0,1,1.033.067,1.149,1.149,0,0,1,.626.387,1.115,1.115,0,0,1,.243.737,1.126,1.126,0,0,1-.237.737,1.167,1.167,0,0,1-.653.39,5.783,5.783,0,0,1-1.136.073h-.319v2.078h-.447Zm.447.438v1.516l.756.009a1.976,1.976,0,0,0,.671-.083.689.689,0,0,0,.334-.27.749.749,0,0,0,.121-.417.739.739,0,0,0-.121-.411.672.672,0,0,0-.32-.265,1.924,1.924,0,0,0-.652-.079Z",transform:"translate(555.179 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3372","data-name":"Path 3372",d:"M-469.214,1428.646h.89a5.392,5.392,0,0,1,1.009.061,1.15,1.15,0,0,1,.647.391,1.116,1.116,0,0,1,.249.738,1.194,1.194,0,0,1-.172.642,1.069,1.069,0,0,1-.491.418,2.258,2.258,0,0,1-.881.145l1.607,2.075h-.553l-1.607-2.075h-.252v2.075h-.447Zm.447.438v1.519l.77.006a1.909,1.909,0,0,0,.662-.085.688.688,0,0,0,.335-.272.756.756,0,0,0,.12-.418.723.723,0,0,0-.122-.409.678.678,0,0,0-.319-.263,1.94,1.94,0,0,0-.657-.079Z",transform:"translate(540.901 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3373","data-name":"Path 3373",d:"M-449.082,1428.152a2.319,2.319,0,0,1,1.7.677,2.256,2.256,0,0,1,.684,1.668,2.267,2.267,0,0,1-.682,1.665,2.262,2.262,0,0,1-1.664.684,2.287,2.287,0,0,1-1.678-.68,2.237,2.237,0,0,1-.684-1.647,2.384,2.384,0,0,1,.312-1.194,2.269,2.269,0,0,1,.85-.861A2.285,2.285,0,0,1-449.082,1428.152Zm.02.434a1.841,1.841,0,0,0-.94.258,1.86,1.86,0,0,0-.694.7,1.933,1.933,0,0,0-.25.976,1.824,1.824,0,0,0,.552,1.346,1.82,1.82,0,0,0,1.331.549,1.911,1.911,0,0,0,.963-.252,1.806,1.806,0,0,0,.691-.69,1.937,1.937,0,0,0,.248-.973,1.891,1.891,0,0,0-.248-.963,1.855,1.855,0,0,0-.7-.689A1.891,1.891,0,0,0-449.063,1428.586Z",transform:"translate(527.147 -1428.152)",fill:"#363636"}),w.createElement("path",{id:"Path_3374","data-name":"Path 3374",d:"M-424.592,1433.115v-4.469h.926a4.727,4.727,0,0,1,1.455.161,1.943,1.943,0,0,1,1.016.79,2.4,2.4,0,0,1,.366,1.339,2.351,2.351,0,0,1-.29,1.182,1.861,1.861,0,0,1-.753.753,2.836,2.836,0,0,1-1.3.243Zm.428-.422h.517a4.806,4.806,0,0,0,1.285-.115,1.48,1.48,0,0,0,.793-.59,1.819,1.819,0,0,0,.289-1.043,1.912,1.912,0,0,0-.313-1.1,1.573,1.573,0,0,0-.872-.628,5.263,5.263,0,0,0-1.382-.127h-.316Z",transform:"translate(506.433 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3375","data-name":"Path 3375",d:"M-401.995,1428.646h.447v2.7a5.555,5.555,0,0,0,.018.6.991.991,0,0,0,.155.442.91.91,0,0,0,.373.3,1.168,1.168,0,0,0,.507.12,1,1,0,0,0,.425-.094.949.949,0,0,0,.34-.261,1.07,1.07,0,0,0,.2-.4,3.355,3.355,0,0,0,.046-.7v-2.7h.446v2.7a3.288,3.288,0,0,1-.117.968,1.317,1.317,0,0,1-.468.643,1.34,1.34,0,0,1-.849.273,1.628,1.628,0,0,1-.926-.258,1.246,1.246,0,0,1-.517-.684,3.621,3.621,0,0,1-.082-.942Z",transform:"translate(488.979 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3376","data-name":"Path 3376",d:"M-378.514,1429.094l-.352.27a1.926,1.926,0,0,0-.7-.576,2.047,2.047,0,0,0-.9-.2,1.982,1.982,0,0,0-.99.257,1.842,1.842,0,0,0-.706.69,1.907,1.907,0,0,0-.251.974,1.828,1.828,0,0,0,.561,1.364,1.941,1.941,0,0,0,1.414.547,1.989,1.989,0,0,0,1.571-.735l.352.267a2.25,2.25,0,0,1-.834.657,2.613,2.613,0,0,1-1.116.233,2.323,2.323,0,0,1-1.85-.781,2.356,2.356,0,0,1-.568-1.592,2.213,2.213,0,0,1,.688-1.651,2.372,2.372,0,0,1,1.724-.67,2.529,2.529,0,0,1,1.13.248A2.194,2.194,0,0,1-378.514,1429.094Z",transform:"translate(474.215 -1428.152)",fill:"#363636"}),w.createElement("path",{id:"Path_3377","data-name":"Path 3377",d:"M-359.51,1429.083v-.437h2.448v.438h-1v4.031h-.456v-4.031Z",transform:"translate(456.162 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3378","data-name":"Path 3378",d:"M-345.763,1431.9l.38-.228q.4.738.927.738a.888.888,0,0,0,.422-.1.74.74,0,0,0,.3-.281.726.726,0,0,0,.1-.373.756.756,0,0,0-.152-.441,3.629,3.629,0,0,0-.765-.717,3.892,3.892,0,0,1-.7-.611,1.115,1.115,0,0,1-.237-.683,1.038,1.038,0,0,1,.14-.532,1,1,0,0,1,.393-.378,1.134,1.134,0,0,1,.551-.138,1.175,1.175,0,0,1,.591.156,2.026,2.026,0,0,1,.582.576l-.365.276a1.743,1.743,0,0,0-.43-.44.739.739,0,0,0-.387-.106.613.613,0,0,0-.442.164.536.536,0,0,0-.172.4.691.691,0,0,0,.061.282,1.044,1.044,0,0,0,.222.3q.088.085.577.447a3.251,3.251,0,0,1,.8.763,1.227,1.227,0,0,1,.216.671,1.139,1.139,0,0,1-.369.845,1.241,1.241,0,0,1-.9.358,1.317,1.317,0,0,1-.738-.217A1.983,1.983,0,0,1-345.763,1431.9Z",transform:"translate(445.544 -1428.152)",fill:"#363636"}))))))}var W=w.forwardRef(L),D=(t.p,(0,C.ZP)(c.Z)((function(e){var n,t,r=e.theme,a=r.palette,i=r.spacing;return{background:null===(n=(t=a.background).backgroundGradientMulti)||void 0===n?void 0:n.call(t),backgroundColor:"transparent",padding:i(2.5,3)}}))),M=(0,C.ZP)(_.Z)((function(e){var n=e.theme;n.palette;return{backgroundColor:"transparent",padding:(0,n.spacing)(1,5)}})),T=(0,C.ZP)(E.Z)((function(e){var n=e.theme;return(0,P.Z)({display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",columnGap:n.spacing(2)},n.breakpoints.down("sm"),{justifyContent:"center"})})),O=(0,C.ZP)(b.Z)((function(e){return{alignItems:"center",gap:(0,e.theme.spacing)(1.5)}})),z=((0,C.ZP)(S.Z)((function(e){e.theme.spacing;return{"& .MuiPaper-root":{minWidth:"200px"}}})),(0,C.ZP)(W)((function(){return{"&:hover":{cursor:"pointer"}}}))),F=t(29388),G=t(87749),N=t(67394),U=t(18384),q=t(87122),H=t(40501),B=t(41286),V=t(5403),$=t(95857),Q=t(89885);t.p;var Y,K={"user-management":[{label:"Home",link:"/"},{label:"User Management"}],profile:[{label:"Home",link:"/"},{label:"Profile"}],"audit-trail":[{label:"Home",link:"/"},{label:"User Management",link:"user-management"},{label:"Audit Trail"}],"create-user":[{label:"Home",link:"/"},{label:"User Management",link:"user-management"},{label:"Create User"}],"create-user/:id":[{label:"Home",link:"/"},{label:"User Management",link:"user-management"},{label:"Edit User"}],"account-access":[{label:"Home",link:"/"},{label:"Account Access"}]},X=t(43504),J=t(94858),ee=t(91933),ne=t(5462),te=t(18489),re=t(83738),ae=t(68596),ie=t(57482),le=t(80258),oe=t(61134),se=t(57621),de=t(57602),ce=t(86653),ue=t(17746),pe=t(46675),he=t(99594),me=(0,C.ZP)(b.Z)((function(){return{mt:"auto",display:"grid",placeItems:"center"}})),fe=(0,C.ZP)(b.Z)((function(e){var n=e.theme;return(0,P.Z)({width:"100%",display:"flex",borderRadius:8*parseInt("".concat(n.shape.borderRadius))},n.breakpoints.down("sm"),{flexDirection:"column"})})),ve=(0,C.ZP)(se.Z)((function(e){var n=e.theme;return{width:"100%",display:"flex",flexDirection:"column",maxWidth:"940px",borderRadius:8*parseInt("".concat(n.shape.borderRadius)),overflow:"hidden",margin:"auto"}})),ge=(0,C.ZP)(b.Z)((function(e){var n,t,r,a=e.theme;return r={width:"300px",background:null===(n=(t=a.palette.background).backgroundGradientMulti)||void 0===n?void 0:n.call(t,"50deg"),display:"flex",flexDirection:"column",padding:"1rem",gap:"2rem"},(0,P.Z)(r,a.breakpoints.down("md"),{width:230}),(0,P.Z)(r,a.breakpoints.down("sm"),{width:"100%"}),r})),xe=(0,C.ZP)(b.Z)((function(){return{display:"grid",placeItems:"center",marginTop:"2rem",gap:"0.5rem"}})),Ze=(0,C.ZP)(b.Z)((function(){return{display:"flex",justifyContent:"center",alignItems:"center",width:105,height:105,backgroundColor:"white",borderRadius:"50%"}})),be=(0,C.ZP)(b.Z)((function(e){var n=e.theme;return(0,P.Z)({display:"flex",flexDirection:"column",gap:"1rem",marginTop:n.spacing(2)},n.breakpoints.down("sm"),{display:"grid",gridAutoFlow:"column",gridAutoColumns:"1fr",justifyContent:"space-around"})})),je=((0,C.ZP)(b.Z)((function(e){var n=e.theme;return(0,P.Z)({display:"flex",alignItems:"center",gap:"1rem"},n.breakpoints.down("sm"),{fontSize:"0.85em",flexDirection:"column"})})),(0,C.ZP)(b.Z)((function(){return{height:"2px"}}))),ye=(0,C.ZP)(de.Z)((function(e){var n=e.theme;return"\n\tfont-family: ".concat(n.typography.fontFamily,";\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: bold;\n  background-color: transparent;\n  width: 100%;\n  padding: ").concat(n.spacing(1),";\n  padding-left: ").concat(n.spacing(2.5),";\n  margin: 6px 6px;\n  border: none;\n  display: flex;\n  justify-content: flex-start;\n  gap: ").concat(n.spacing(2),";\n  color: ").concat(n.palette.text.primary,";\n\n  & svg {\n\tcolor: ").concat(n.palette.grey[400],";\n  }\n\n  ").concat([n.breakpoints.down("sm")]," {\n\tfont-size: 0.85em;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding-left: ").concat(n.spacing(1),";\n  }\n\n  &:focus {\n\tbackground-color: ").concat(n.palette.action.hover,";\n\toutline: none;\n  }\n\n  &.").concat(ce.Z.selected," {\n    color: ").concat(n.palette.primary.main,";\n\t& svg {\n\t\tcolor: ").concat(n.palette.primary.main,";\n\t};\n  }\n\n  &.").concat(ue.Z.disabled," {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  &:hover {\n\tcolor: ").concat(n.palette.primary[900],"\n  }\n\n")})),we=(0,C.ZP)(pe.Z)((function(e){var n=e.theme;return"\n  background-color: transparent;\n  border-radius: 12px;\n  margin-bottom: 16px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  align-content: space-between;\n  ".concat([n.breakpoints.down("sm")]," {\n\tflex-direction: row;\n  }\n  ")})),ke=(0,C.ZP)(he.Z)((function(e){e.theme;return""}));!function(e){e.ACCOUNT="account",e.PERMISSION="permissions"}(Y||(Y={}));var Pe=t(61265),Ce=t(66982),_e=Ce.Ry({first_name:Ce.Z_().trim().required("First name should not be empty."),last_name:Ce.Z_().trim().required("Last name should not be empty."),contact_no:Ce.Z_().matches(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/,"Phone number is not valid").required("Contact no should not be empty."),address:Ce.Z_().required("Address should not be empty.")}).required(),Ee=t(47047),Se=t(82422),Ie=t(71554),Ae=t(45008),Re=t(22840),Le=t(80184),We=["isLoading"],De=[{icon:q.Z,value:Y.ACCOUNT,label:"Account Settings",to:"/account",isActive:!0},{icon:H.Z,value:Y.PERMISSION,label:"Personal Information",to:"/permissions",isActive:!1}];function Me(e){var n=new FormData;return n.append("image",e.image),(0,ne.gz)("user/profile-image",n)}var Te=function(e){var n=e.profileImage,t=e.fullName,r=e.isLoading,a=(0,Ae.b)(),i=(0,ee.useQueryClient)(),l=(0,ee.useMutation)(Me,{onSuccess:function(e){var n=e.data.message;i.invalidateQueries("profile"),null===a||void 0===a||a.setAlert({show:!0,message:n,status:"success"})},onError:function(e){var n,t,r=null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message;r&&(null===a||void 0===a||a.setAlert({show:!0,message:r,status:"error"}))}}),s=(l.data,l.mutate),d=l.isLoading,c=function(){var e=(0,u.Z)(m().mark((function e(n){var t,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==n&&void 0!==n&&n.target&&(r=null===(t=n.target.files)||void 0===t?void 0:t[0])&&s({image:r});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Le.jsxs)(ge,{children:[(0,Le.jsxs)(xe,{children:[(0,Le.jsxs)(Ze,{children:[r&&(0,Le.jsx)(b.Z,{children:(0,Le.jsx)(Ee.Z,{animation:"wave",variant:"circular",width:100,height:100})}),!r&&(0,Le.jsx)(Se.Z,{overlap:"circular",anchorOrigin:{horizontal:"right",vertical:"top"},badgeContent:(0,Le.jsxs)(g.Z,{size:"small",color:"primary",component:"label",htmlFor:"upload-photo-handler",tabIndex:-1,children:[(0,Le.jsx)("input",{id:"upload-photo-handler",accept:".png, .jpg, .jpeg, .webp",type:"file",onChange:c,style:{height:0,width:0},tabIndex:0,"aria-label":"Select picture to upload"}),(0,Le.jsx)(Re.Z,{width:28,height:28})]}),children:(0,Le.jsx)(Oe,{isLoading:d,children:(0,Le.jsx)(Z.Z,{sx:{width:100,height:100},src:"".concat("http://dev-sso-app.attech-ltd.com/api/v1","/user/profile-image/").concat(n)||0})})})]}),(0,Le.jsx)(o.Z,{color:"primary",variant:"subtitle1",fontWeight:"bold",children:r?(0,Le.jsx)(Ee.Z,{animation:"wave",width:100}):t})]}),(0,Le.jsx)(be,{role:"tablist",children:(0,Le.jsx)(we,{children:De.map((function(e,n){var t,r=e.icon,a=e.label,i=e.value;e.to,e.isActive;return(0,Le.jsxs)(ye,(0,te.Z)((0,te.Z)({value:i},{id:"vertical-tab-".concat(t=0),"aria-controls":"vertical-tabpanel-".concat(t)}),{},{children:[(0,Le.jsx)(r,{color:"inherit"})," ",a]}),i)}))})})]})};function Oe(e){var n=e.isLoading,t=(0,re.Z)(e,We);return(0,Le.jsxs)(b.Z,{sx:{position:"relative",display:"flex",alignItems:"center"},children:[(0,Le.jsx)(Ie.Z,(0,te.Z)({thickness:1,size:110,variant:"indeterminate",style:{visibility:n?"visible":"hidden"}},t)),(0,Le.jsx)(b.Z,{sx:{top:0,left:5,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center"},children:t.children})]})}var ze=function(e){var n=e.children;(0,s.s0)();return(0,Le.jsx)(b.Z,{sx:{flex:1,padding:"2rem",pt:"3rem"},children:n})},Fe=t(94925),Ge=t(63466),Ne=t(85523),Ue=t(94454),qe=t(15947),He=t(93457),Be=(0,He.Z)(b.Z)((function(){return{display:"flex",alignItems:"center",gap:"0.5rem"}})),Ve=function(e){var n=e.text,t=e.icon,r=void 0===t?(0,Le.jsx)(F.Z,{}):t;return(0,Le.jsxs)(Be,{component:"span",children:[r,n]})},$e=["name"],Qe=function(e){var n=e.name,t=(0,re.Z)(e,$e),r=(0,oe.Gc)().control;return(0,Le.jsx)(oe.Qr,{control:r,name:n,render:function(e){var r,a=e.field,i=(e.fieldState,e.fieldState.error),l=(e.formState,e.formState.errors);return"checkbox"==t.type?(0,Le.jsx)(Ne.Z,{disabled:t.disabled,control:(0,Le.jsx)(Ue.Z,(0,te.Z)((0,te.Z)({},a),{},{disableRipple:!0,size:"medium"})),label:t.label}):(0,Le.jsx)(qe.Z,(0,te.Z)((0,te.Z)((0,te.Z)({},t),a),{},{error:!!i,helperText:(null===l||void 0===l?void 0:l[n])&&(0,Le.jsx)(Ve,{text:null===l||void 0===l||null===(r=l[n])||void 0===r?void 0:r.message})}))}})},Ye=t(5849),Ke=(0,C.ZP)(Ye.Z)((function(){return{paddingLeft:"2.5rem",paddingRight:"2.5rem"}})),Xe=["children"],Je=function(e){var n=e.children,t=(0,re.Z)(e,Xe);return(0,Le.jsx)(Ke,(0,te.Z)((0,te.Z)({},t),{},{children:n}))},en=function(e){var n=e.mutationLoading,t=e.isLoading,r=(0,s.s0)();return(0,Le.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,Le.jsx)(o.Z,{variant:"h6",component:"h1",fontWeight:"bold",color:"primary",children:t?(0,Le.jsx)(Ee.Z,{animation:"wave"}):"Account Settings"}),(0,Le.jsxs)(b.Z,{sx:function(e){return(0,P.Z)({display:"grid",gridTemplateColumns:"repeat(2,1fr)",mt:"1rem",gap:"1rem"},e.breakpoints.down("md"),{gridTemplateColumns:"1fr"})},children:[(0,Le.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,Le.jsx)(Fe.Z,{variant:"standard",htmlFor:"first_name",children:(0,Le.jsx)(o.Z,{color:"#444444",children:"First Name"})}),t?(0,Le.jsx)(Ee.Z,{animation:"wave",height:60}):(0,Le.jsx)(Qe,{id:"first_name",label:!1,InputLabelProps:{shrink:!1},inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,placeholder:"First Name",size:"medium",name:"first_name",variant:"outlined",type:"text"})]}),(0,Le.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,Le.jsx)(Fe.Z,{variant:"standard",htmlFor:"last_name",children:(0,Le.jsx)(o.Z,{color:"#444444",children:"Last Name"})}),t?(0,Le.jsx)(Ee.Z,{animation:"wave",height:60}):(0,Le.jsx)(Qe,{id:"last_name",label:!1,InputLabelProps:{shrink:!1},inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,placeholder:"Last Name",size:"medium",name:"last_name",variant:"outlined"})]}),(0,Le.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,Le.jsx)(Fe.Z,{variant:"standard",htmlFor:"email_input",children:(0,Le.jsx)(o.Z,{color:"#444444",children:"Email"})}),t?(0,Le.jsx)(Ee.Z,{animation:"wave",height:60}):(0,Le.jsx)(Qe,{id:"email_input",label:!1,InputLabelProps:{shrink:!1},disabled:!0,"aria-disabled":!0,inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,placeholder:"example@gmail.com",size:"medium",name:"email",variant:"outlined",InputProps:{endAdornment:(0,Le.jsx)(Ge.Z,{position:"start",children:(0,Le.jsx)(B.Z,{fontSize:"small"})})}})]}),(0,Le.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,Le.jsx)(Fe.Z,{variant:"standard",htmlFor:"contact_no",children:(0,Le.jsx)(o.Z,{color:"#444444",children:"Phone number"})}),t?(0,Le.jsx)(Ee.Z,{animation:"wave",height:60}):(0,Le.jsx)(Qe,{id:"contact_no",label:!1,InputLabelProps:{shrink:!1},inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,placeholder:"xxxx xxxx xxxx",size:"medium",name:"contact_no",type:"tel",variant:"outlined",InputProps:{endAdornment:(0,Le.jsx)(Ge.Z,{position:"start",children:(0,Le.jsx)(B.Z,{fontSize:"small"})})}})]}),(0,Le.jsx)(b.Z,{}),(0,Le.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"column",gap:"0.75rem",gridColumn:"1/-1"},children:[(0,Le.jsx)(Fe.Z,{variant:"standard",htmlFor:"address_input",children:(0,Le.jsx)(o.Z,{color:"#444444",children:"Address"})}),t?(0,Le.jsx)(Ee.Z,{animation:"wave",height:60}):(0,Le.jsx)(Qe,{id:"address_input",label:!1,InputLabelProps:{shrink:!1},inputProps:{style:{height:"1.6875rem"}},fullWidth:!0,multiline:!0,minRows:4,placeholder:"Address",size:"medium",name:"address",variant:"outlined"})]})]}),(0,Le.jsxs)(b.Z,{marginLeft:"auto",mt:"2rem",display:"flex",justifyContent:"center",gap:"1rem",flexWrap:"wrap",children:[(0,Le.jsx)(Je,{variant:"outlined",onClick:function(){return r("/")},role:"link",sx:{flexGrow:1},children:"Cancel"}),(0,Le.jsx)(Je,{disabled:n,type:"submit",variant:"contained",sx:{flexGrow:1},children:"Save"})]})]})},nn=t(81918),tn=t(24442),rn=t(52791),an=t(91143),ln=(0,C.ZP)(w.forwardRef((function(e,n){return(0,Le.jsx)(Ye.Z,(0,te.Z)((0,te.Z)({variant:"outlined"},e),{},{ref:n}))})))((function(e){var n,t=e.theme;return n={width:"100%",maxWidth:"100%",height:45,justifyContent:"space-between",backgroundColor:null===t||void 0===t?void 0:t.palette.background.default},(0,P.Z)(n,"& .MuiTypography-root",{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left"}),(0,P.Z)(n,"& .".concat(an.Z.endIcon),{width:20}),(0,P.Z)(n,"&:hover",{borderWidth:2}),(0,P.Z)(n,"padding",null===t||void 0===t?void 0:t.spacing(1.5,3)),(0,P.Z)(n,"borderWidth",2),(0,P.Z)(n,"borderColor",null===t||void 0===t?void 0:t.palette.grey[300]),(0,P.Z)(n,"borderRadius",null===t||void 0===t?void 0:t.shape.borderRadius),(0,P.Z)(n,"color",null===t||void 0===t?void 0:t.palette.action.active),n})),on=(0,He.Z)(Fe.Z)((function(e){return{fontSize:"0.8em",fontWeight:"bold",color:"#575757",marginBottom:(0,e.theme.spacing)(.8)}})),sn=t(1235),dn=t(23786),cn=t(25028),un=(0,He.Z)(cn.Z)((function(e){var n,t=e.theme;return"\n  box-sizing: border-box;\n  padding: 5px;\n  list-style: none;\n  height: auto;\n  transition: opacity 0.1s ease;\n  width: 100%;\n  box-shadow: ".concat(Array.isArray(t.shadows)?null===(n=t.shadows)||void 0===n?void 0:n[1]:"",";\n  background: ").concat("dark"===t.palette.mode?t.palette.grey[900]:"#fff",";\n  border: 1px solid ").concat("dark"===t.palette.mode?t.palette.grey[800]:t.palette.grey[200],";\n  z-index: 1;\n  outline: 0px;\n  overflow: auto;\n  ")})),pn=t(64721),hn=t(57064),mn=t(49900),fn=(0,C.ZP)((function(e){return(0,Le.jsxs)(dn.Z,(0,te.Z)((0,te.Z)({},e),{},{children:[(0,Le.jsx)(hn.Z,{children:(0,Le.jsx)(pn.Z,{})}),(0,Le.jsx)(mn.Z,{children:"Clear"})]}))}))((function(e){var n=e.theme.palette;return{border:"1px solid ".concat(n.secondary[800])}})),vn=t(50391),gn=t(95892),xn=t(53767),Zn=function(e){var n=e.id,t=e.open,r=e.anchorEl,a=e.setAnchorEl,i=e.children,l=e.isLoading,o=e.WrapperComponent;return(0,Le.jsx)(gn.Z,{id:n,open:t,anchorEl:r,onKeyDown:function(e){"Escape"===e.code&&(null===r||void 0===r||r.focus(),a(null))},placement:"bottom-start",children:(0,Le.jsx)(xn.Z,{onClickAway:function(){return a(null)},children:(0,Le.jsx)(b.Z,{children:(0,Le.jsx)(vn.Z,{open:t,children:(0,Le.jsx)(b.Z,{children:(0,Le.jsxs)(o,{children:[l&&(0,Le.jsx)(ie.Z,{}),i]})})})})})})};Zn.defaultProps={WrapperComponent:b.Z};var bn=Zn,jn=["ref"],yn=function(e){var n=e.name,t=e.defaultValue,r=(0,oe.Gc)(),a=r.control,i=(r.setValue,r.formState.errors,(0,oe.bc)({name:n,control:a,defaultValue:t||""}).field),l=(i.ref,(0,re.Z)(i,jn));return(0,Le.jsx)(wn,(0,te.Z)((0,te.Z)({},e),{},{value:l.value,onChange:l.onChange}))};function wn(e){var n,t=e.label,r=e.children,a=e.onChange,i=e.suffix,l=e.defaultValue,s=e.sx,d=e.value,c=e.InputComponent,u=e.placeholder,h=e.disabled,m=e.buttonProps,f=e.isLoading,v=(0,w.useRef)(null),g=((0,w.useRef)(null),(0,w.useState)(null)),Z=(0,p.Z)(g,2),b=Z[0],j=Z[1],y=(0,w.useState)(""),k=(0,p.Z)(y,2),P=k[0],C=k[1],_=(0,w.useId)(),E=(0,w.useMemo)((function(){return!r||w.Children.count(r)<=0?[]:w.Children.map(r,(function(e){return e.props.value&&e.props.label?{label:e.props.label,value:e.props.value.toString()}:null})).filter((function(e){return e}))}),[r]),S=function(e,n){"Enter"===e.code&&(n(e),j(null))},I=(0,tn.Z)((0,te.Z)({options:E,open:Boolean(b),onChange:a,defaultValue:l},""!==d||void 0!==d?{value:d}:{value:""})),A=I.getButtonProps,R=I.getListboxProps,L=I.getOptionProps,W=I.open;(0,w.useEffect)((function(){var e;C((null===(e=E.find((function(e){return e.value==d})))||void 0===e?void 0:e.label)||""),j(null)}),[d]);var D=i?" ".concat(i):"",M=L({value:"",label:""});return(0,Le.jsx)(rn.Z,{display:"flex",sx:s,minWidth:180,children:(0,Le.jsxs)(rn.Z,{width:"100%",position:"relative",children:[t&&(0,Le.jsx)(on,{htmlFor:_,children:t}),c?(0,Le.jsx)(Le.Fragment,{}):(0,Le.jsx)(x.Z,{title:P||"",children:(0,Le.jsx)(ln,(0,te.Z)((0,te.Z)((0,te.Z)({id:_,color:"primary"},A()),{},{onClick:function(){return j(v.current)},endIcon:(0,Le.jsx)(sn.Z,{}),disabled:h,ref:v,role:"listbox"},m),{},{children:(0,Le.jsx)(o.Z,{variant:"body1",children:"".concat(P?"".concat(P).concat(D):u||"")})}))}),(0,Le.jsx)(bn,{open:W,anchorEl:v.current,setAnchorEl:j,children:(0,Le.jsxs)(un,(0,te.Z)((0,te.Z)({},R()),{},{style:{width:null===v||void 0===v||null===(n=v.current)||void 0===n?void 0:n.clientWidth},children:[(0,Le.jsx)(fn,(0,te.Z)((0,te.Z)({},M),{},{onKeyUp:function(e){return S(e,M.onClick)}})),r&&w.Children.map(r,(function(e){var n=L({value:e.props.value.toString(),label:e.props.label});return e.props.value&&e.props.label?(0,Le.jsx)(dn.Z,(0,te.Z)((0,te.Z)({onKeyUp:function(e){return S(e,n.onClick)},className:n["aria-selected"]?"Mui-selected":""},n),{},{children:(0,Le.jsx)(x.Z,{title:e.props.label,placement:"right-end",children:w.cloneElement(e,{style:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left"}})})}),e.props.value):null}))]}))}),f&&(0,Le.jsx)(ie.Z,{sx:{position:"absolute",bottom:0,left:0,width:"100%"}})]})})}wn.defaultProps={disabled:!1};var kn=wn,Pn=["visible","children"],Cn=function(e){var n=e.visible,t=e.children,r=(0,re.Z)(e,Pn);return n?(0,Le.jsx)(Ee.Z,(0,te.Z)((0,te.Z)({},r),{},{children:t})):(0,Le.jsx)(Le.Fragment,{children:t})},_n=t(1920),En=t(3695),Sn=function(e){return(0,Le.jsxs)(b.Z,{textAlign:"center",p:4,children:[(0,Le.jsx)(_n.Z,{fontSize:"large"}),(0,Le.jsx)(En.Z,{children:"There was an error loading data"}),(0,Le.jsx)(En.Z,{children:"Refresh to try again"})]})},In=t(97226),An=t(56059),Rn=t(77196),Ln=(0,C.ZP)(w.forwardRef((function(e,n){return(0,Le.jsx)(Rn.Z,(0,te.Z)((0,te.Z)({margin:"none"},e),{},{label:"none",notched:!1,ref:n}))})))((function(e){var n,t=e.theme;return n={height:45,backgroundColor:null===t||void 0===t?void 0:t.palette.background.default,borderRadius:null===t||void 0===t?void 0:t.shape.borderRadius},(0,P.Z)(n,"& .".concat(An.Z.input),{padding:null===t||void 0===t?void 0:t.spacing(1.5,3)}),(0,P.Z)(n,"& .".concat(An.Z.notchedOutline),{borderColor:null===t||void 0===t?void 0:t.palette.grey[300],borderWidth:2,"&:hover":{borderColor:null===t||void 0===t?void 0:t.palette.primary.main}}),n})),Wn=["label","endAdornment"];var Dn=function(e){var n=e.label,t=e.endAdornment,r=(0,re.Z)(e,Wn),a=(0,w.useId)();return(0,Le.jsxs)(b.Z,{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",children:[n&&(0,Le.jsx)(on,{htmlFor:a,children:n}),(0,Le.jsx)(Ln,(0,te.Z)((0,te.Z)({id:a},r),{},{endAdornment:t}))]})},Mn=function(e){var n,t,r=e.permissions,a=e.isLoading,i=e.isError,l=(0,oe.Gc)(),s=l.getValues,d=l.setValue,c=l.control,u=(0,oe.qo)({control:c,name:"product"}),p=(0,oe.qo)({control:c,name:"practice"}),h=r.find((function(e){return e.name===s("product")})),m=(0,w.useMemo)((function(){var e;return null===h||void 0===h||null===(e=h.practices)||void 0===e?void 0:e.find((function(e){return e.id==s("practice")}))}),[u,p]),f=null===h||void 0===h?void 0:h.role;return(0,w.useEffect)((function(){var e,n,t;d("role",(null===h||void 0===h||null===(e=h.role)||void 0===e?void 0:e.id)||""),d("sub_role",(null===h||void 0===h||null===(n=h.role)||void 0===n||null===(t=n.sub_role)||void 0===t?void 0:t.id)||""),d("practice",null)}),[u]),i?(0,Le.jsx)(Sn,{}):(0,Le.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,Le.jsx)(o.Z,{variant:"h6",component:"h1",fontWeight:"bold",color:"primary",children:"Roles And Practices"}),(0,Le.jsx)(Cn,{visible:a,sx:{minWidth:"100%"},children:(0,Le.jsx)(yn,{name:"product",label:"Product",children:r.map((function(e){return(0,Le.jsx)("option",{label:e.sp_app_name,value:e.name})}))})}),(0,Le.jsxs)(v.Z,{direction:{sm:"column",md:"row"},gap:2,justifyItems:"stretch",justifyContent:"center",children:[(0,Le.jsx)(Cn,{visible:a,sx:{flex:1},children:(0,Le.jsx)(Dn,{label:"Role",value:(null===f||void 0===f?void 0:f.name)||"",disabled:!0})}),(0,Le.jsx)(Cn,{visible:a,sx:{flex:1},children:(0,Le.jsx)(Dn,{label:"Sub Role",value:(null===f||void 0===f||null===(n=f.sub_role)||void 0===n?void 0:n.name)||"",disabled:!0})})]}),(0,Le.jsx)(Cn,{visible:a,sx:{minWidth:"100%"},children:(0,Le.jsx)(yn,{name:"practice",label:"Practice",children:null===h||void 0===h?void 0:h.practices.map((function(e){return(0,Le.jsx)("option",{label:e.name,value:e.id})}))})}),(0,Le.jsxs)(v.Z,{direction:"column",spacing:2,children:[(0,Le.jsx)(on,{children:"Sub Practices"}),(0,Le.jsx)(Cn,{visible:a,sx:{minWidth:"100%"},children:(0,Le.jsx)(v.Z,{direction:"row",flexWrap:"wrap",gap:2,width:"100%",height:300,overflow:"auto",alignContent:"flex-start",bgcolor:"grey.100",p:2,borderRadius:1,children:null!==m&&void 0!==m&&m.practices?null===m||void 0===m||null===(t=m.practices)||void 0===t?void 0:t.map((function(e){return(0,Le.jsx)(nn.Z,{label:e.name})})):(0,Le.jsxs)(b.Z,{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",gap:2,children:[(0,Le.jsx)(In.Z,{}),(0,Le.jsx)(o.Z,{variant:"caption",color:"GrayText",children:"No Practices"})]})})})]})]})},Tn=["handleSubmit","reset"],On={address:"",first_name:"",last_name:"",email:"",contact_no:"",profile_image:""};function zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.charAt(0).toUpperCase()+e.slice(1)}function Fn(){return(0,ne.U2)("user")}function Gn(){return(0,ne.U2)("user/selected/apps/practices/roles")}function Nn(e){return(0,ne.gz)("user",e)}var Un=function(){var e,n,t=(0,ee.useQueryClient)(),r=(0,s.TH)(),a=(0,s.UO)().tab,i=(0,w.useState)(a||Y.ACCOUNT),l=(0,p.Z)(i,2),o=l[0],d=l[1],c=(0,ee.useQuery)("practicesAndRoles",Gn,{refetchOnWindowFocus:!1}),u=c.data,h=c.isLoading,m=c.isError,f=(0,ee.useQuery)("profile",Fn,{refetchOnWindowFocus:!1}),v=f.data,g=f.isLoading,x=f.isError,Z=f.error,j=f.isSuccess,y=(f.isRefetching,(0,ee.useMutation)(Nn,{onSuccess:function(){t.invalidateQueries("profile")}})),k=y.mutate,P=y.isLoading,C=(y.isError,y.error,null===v||void 0===v||null===(e=v.data)||void 0===e?void 0:e.user_info),_=null===u||void 0===u||null===(n=u.data)||void 0===n?void 0:n.sp_practice_roles,E=null===C||void 0===C?void 0:C.first_name,S=null===C||void 0===C?void 0:C.last_name,I=(null===C||void 0===C?void 0:C.profile_image)||"",A=(0,oe.cI)({defaultValues:On,resolver:(0,Pe.X)(_e)}),R=(0,oe.cI)({defaultValues:{role:"",sub_role:""}}),L=A.handleSubmit,W=A.reset,D=((0,re.Z)(A,Tn),R.control),M="".concat(zn(E),"  ").concat(zn(S))||"";(0,w.useEffect)((function(){j&&W(C)}),[j,W]);var T=L((function(e){var n=e.first_name,t=e.last_name,r=e.contact_no,a=e.address;k({first_name:n,last_name:t,contact_no:r,address:a})}));return x?(0,Le.jsx)(b.Z,{children:Z.message}):(0,Le.jsxs)(me,{children:[(0,Le.jsx)(le.Z,{orientation:"vertical",value:o,onChange:function(e,n){var t=r.pathname;a&&(t=t.slice(0,t.indexOf(a)-1)),window.history.replaceState(null,"","".concat(t,"/").concat(n)),d(n)},"aria-label":"Vertical tabs example",style:{width:"100%"},children:(0,Le.jsxs)(ve,{children:[(0,Le.jsx)(je,{children:(g||P)&&(0,Le.jsx)(ie.Z,{})}),(0,Le.jsxs)(fe,{children:[(0,Le.jsx)(Te,{fullName:M,isLoading:g,profileImage:I}),(0,Le.jsxs)(ze,{children:[(0,Le.jsx)(ke,{value:Y.ACCOUNT,children:(0,Le.jsx)(oe.RV,(0,te.Z)((0,te.Z)({},A),{},{children:(0,Le.jsx)("form",{onSubmit:T,children:(0,Le.jsx)(en,{mutationLoading:P,isLoading:g})})}))}),(0,Le.jsx)(ke,{value:Y.PERMISSION,children:(0,Le.jsx)(oe.RV,(0,te.Z)((0,te.Z)({},R),{},{children:(0,Le.jsx)(Mn,{permissions:_||[],isLoading:h,isError:m})}))})]})]})]})}),(0,Le.jsx)(ae.DevTool,{control:D})]})},qn=t(90493),Hn=t(15021),Bn=t(20653),Vn=t(10703),$n=(0,C.ZP)(Vn.Z)((function(e){var n=e.theme,t=(n.spacing,n.shape),r=n.palette,a=n.breakpoints;return(0,P.Z)({position:"relative",borderRadius:7*+t.borderRadius,border:"1px solid ".concat(r.secondary.A200),overflow:"hidden"},a.between("xs","sm"),{maxWidth:320})})),Qn=((0,C.ZP)(Vn.Z)((function(e){var n=e.theme;return(0,P.Z)({position:"relative",overflow:"hidden",width:"100%",border:"1px solid ".concat(n.palette.divider),borderRadius:7*+n.shape.borderRadius,padding:n.spacing(0,4),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingBottom:n.spacing(9)},n.breakpoints.between("xs","sm"),{maxWidth:320})})),(0,C.ZP)(b.Z)((function(e){var n,t,r=e.theme;return{border:"none",width:"100%",display:"flex",justifyContent:"center",background:null===(n=(t=r.palette.background).backgroundGradientSingle)||void 0===n?void 0:n.call(t,"45deg"),marginTop:r.spacing(2),paddingTop:r.spacing(1.5),paddingBottom:r.spacing(1.5),color:r.palette.text.primary}}))),Yn=[{title:"Sed do eiusmod tempor incididunt et dolore magna aliqua."},{title:"Lorem ipsum dolor sit amet?"},{title:"Sed do eiusmod tempor incididunt et dolore magna aliqua."}],Kn=(0,C.ZP)(b.Z)((function(e){return{width:"100%",padding:e.theme.spacing(0,4),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})),Xn=function(e){var n=e.open,t=e.anchorEl,r=e.setAnchorEl,a=(0,w.useState)(),i=(0,p.Z)(a,2),l=i[0],s=i[1];return(0,Le.jsx)(bn,{open:n,anchorEl:t,setAnchorEl:r,WrapperComponent:$n,children:(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsxs)(Kn,{sx:{minWidth:300,maxWidth:400},children:[(0,Le.jsx)(o.Z,{component:"h1",variant:"h6",textAlign:"center",mt:4,mb:2,children:"Help"}),(0,Le.jsx)(Dn,{value:l,onChange:function(e){var n=e.target.value;s(n)},fullWidth:!0,startAdornment:(0,Le.jsx)(V.Z,{color:"action"}),sx:function(e){return{backgroundColor:e.palette.grey.A700}}}),(0,Le.jsxs)(b.Z,{children:[(0,Le.jsx)(o.Z,{component:"h2",variant:"h6",mt:3,mb:2,children:"Help Resources"}),Yn.map((function(e,n){return(0,Le.jsx)(qn.Z,{children:(0,Le.jsxs)(Hn.ZP,{disablePadding:!0,disableGutters:!0,children:[(0,Le.jsx)(Bn.Z,{children:(0,Le.jsx)(b.Z,{sx:function(e){return{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,backgroundColor:e.palette.grey.A700,border:"1px solid ".concat(e.palette.divider),borderRadius:"50%"}},children:(0,Le.jsx)(Q.Z,{color:"primary"})})}),(0,Le.jsx)(mn.Z,{children:(0,Le.jsx)(y.Z,{underline:"hover",href:"#",sx:function(e){return{color:e.palette.text.primary}},children:e.title})})]})},n)}))]})]}),(0,Le.jsx)(Qn,{children:(0,Le.jsx)(y.Z,{target:"_blank",href:"/support",variant:"body1",underline:"none",sx:function(e){return{color:e.palette.text.primary}},children:"Support"})})]})})},Jn=(0,C.ZP)(b.Z)((function(e){var n=e.theme,t=n.spacing;n.palette;return{maxWidth:340,minWidth:300,height:"auto",padding:t(2),display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2}})),et=(0,C.ZP)(y.Z)((function(e){var n=e.theme,t=n.spacing,r=n.palette,a=n.breakpoints;return(0,P.Z)({width:"100px",minHeight:"100px",borderRadius:t(4),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",cursor:"pointer",padding:t(1),"&:hover, &:focus":{backgroundColor:r.grey.A700,"& span":{whiteSpace:"normal",wordWrap:"break-word"}}},a.down("sm"),{width:"85px",minHeight:"85px"})})),nt=function(e){var n=e.anchorEl,t=e.setAnchorEl,r=e.open,a=e.isLoading,i=e.apps,l=r?"apps-menu":void 0;return(0,Le.jsx)(bn,{id:l,open:r,anchorEl:n,setAnchorEl:t,isLoading:a,WrapperComponent:$n,children:(0,Le.jsx)(Le.Fragment,{children:(0,Le.jsx)(Jn,{children:null===i||void 0===i?void 0:i.map((function(e){e.id;var n=e.name,t=e.display_name,r=(e.is_accessible,e.image),a=e.host_url;return(0,Le.jsxs)(et,{target:"_blank",href:"http://".concat(a),underline:"none",tabIndex:0,children:[(0,Le.jsx)("img",{style:{maxWidth:"40%",flex:1},src:"".concat("http://dev-sso-app.attech-ltd.com/api/v1","/").concat(r),alt:n,"aria-hidden":!0}),(0,Le.jsx)(o.Z,{sx:{maxWidth:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"center",color:"gray"},color:"inherit",variant:"caption",fontWeight:900,children:t})]},n)}))})})})},tt=(0,C.ZP)(b.Z)((function(e){var n=e.theme,t=n.spacing;n.palette;return{maxWidth:320,minWidth:300,height:"auto",padding:t(5,5,2,5)}})),rt=(0,C.ZP)(b.Z)((function(e){return{display:"flex",flexDirection:"column",gap:(0,e.theme.spacing)(.75),alignItems:"center"}})),at=(0,C.ZP)(b.Z)((function(e){var n=e.theme.spacing;return{display:"flex",flexDirection:"column",gap:n(1),marginTop:n(3),cursor:"pointer"}})),it=function(e){var n=e.allowedRoles,t=e.children,r=(0,J.E)(),a=null===r||void 0===r?void 0:r.rolesInfo.roles;return((null===a||void 0===a?void 0:a.filter((function(e){return n.includes(e)})))||[]).length?t:null},lt=function(e){var n=(0,s.s0)(),t=e.anchorEl,r=e.setAnchorEl,a=e.open,i=e.isLoading,l=e.userInfo,d=e.logout,c=l.fullName,p=l.email,h=l.image,f=a?"profile":void 0,v=function(){var e=(0,u.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="Profile"===e.t0?3:"Home"===e.t0?5:"User Management"===e.t0?7:"Audit Trail"===e.t0?9:"Logout"===e.t0?11:13;break;case 3:return n("/profile"),e.abrupt("break",13);case 5:return n("/"),e.abrupt("break",13);case 7:return n("/user-management"),e.abrupt("break",13);case 9:return n("audit-trail"),e.abrupt("break",13);case 11:return d(),e.abrupt("break",13);case 13:r(null);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Le.jsx)(bn,{id:f,open:a,anchorEl:t,setAnchorEl:r,isLoading:i,WrapperComponent:$n,PopperProps:{placement:"bottom-start"},children:(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsxs)(tt,{children:[(0,Le.jsxs)(rt,{children:[(0,Le.jsx)(Z.Z,{sx:{width:"111px",height:"111px"},src:"".concat("http://dev-sso-app.attech-ltd.com/api/v1","/user/profile-image/").concat(h)}),(0,Le.jsx)(o.Z,{variant:"subtitle1",children:c}),(0,Le.jsx)(o.Z,{color:"text.mute",children:p}),(0,Le.jsx)(nn.Z,{sx:function(e){return{px:(0,e.spacing)(2),fontWeight:"medium"}},size:"small",onClick:function(){n("profile"),r(null)},label:"Edit Profile",variant:"outlined"})]}),(0,Le.jsxs)(at,{children:[(0,Le.jsx)(it,{allowedRoles:["super-admin","sub-admin","practice-administrator"],children:(0,Le.jsx)(y.Z,{tabIndex:0,fontWeight:"medium",component:"button",underline:"none",color:"grey.700",textAlign:"left",onClick:function(){return v("User Management")},children:"User Management"},1)}),(0,Le.jsx)(it,{allowedRoles:["super-admin","sub-admin"],children:(0,Le.jsx)(y.Z,{tabIndex:0,fontWeight:"medium",component:"button",underline:"none",color:"grey.700",textAlign:"left",onClick:function(){return v("Audit Trail")},children:"Audit Trail"},2)})]})]}),(0,Le.jsx)(Qn,{children:(0,Le.jsx)(y.Z,{component:"button",underline:"none",onClick:function(){return v("Logout")},sx:function(e){return{color:e.palette.text.primary}},children:"Sign out"})})]})})},ot=lt;function st(){return(0,ne.U2)("service-providers")}var dt=function(){var e,n,t,r,a,i=(0,ee.useQueryClient)(),l=w.useState(null),d=(0,p.Z)(l,2),h=(d[0],d[1],w.useState(null)),P=(0,p.Z)(h,2),C=P[0],_=P[1],E=w.useState(null),S=(0,p.Z)(E,2),I=S[0],A=S[1],R=w.useState(null),L=(0,p.Z)(R,2),W=L[0],D=L[1],F=((0,s.TH)(),(0,s.s0)()),G=(0,J.E)(),N=(Boolean(I),Boolean(C)),U=(0,ee.useQuery)("splist",st,{refetchOnWindowFocus:!1}),q=U.data,H=U.isLoading,B=(U.isError,U.error,(0,ee.useQuery)("profile",Fn,{refetchOnWindowFocus:!1})),V=B.data,Q=B.isLoading,Y=(B.isFetching,B.isError,B.error,null===V||void 0===V||null===(e=V.data.user_info)||void 0===e?void 0:e.profile_image),ne=null===V||void 0===V||null===(n=V.data.user_info)||void 0===n?void 0:n.first_name,te=null===V||void 0===V||null===(t=V.data.user_info)||void 0===t?void 0:t.last_name,re=null===V||void 0===V||null===(r=V.data.user_info)||void 0===r?void 0:r.email,ae=". .";(ne||te)&&(ae="".concat(ne," ").concat(te));var ie=null===q||void 0===q||null===(a=q.data)||void 0===a?void 0:a.serviceproviders,le=function(){var e=(0,u.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=5;break}return e.next=3,G.logOut();case 3:200==e.sent.status&&i.removeQueries();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e="";return Object.keys(K).forEach((function(n){var t=(0,s.bS)(n);t&&(e=t.pattern.path)})),K[e]||[]}();return(0,Le.jsxs)(f.ZP,{item:!0,children:[(0,Le.jsx)(M,{position:"static",color:"inherit",elevation:0,children:(0,Le.jsxs)(T,{disableGutters:!0,children:[(0,Le.jsx)(z,{onClick:function(){return F("/")}}),(0,Le.jsx)(O,{display:"flex",children:(0,Le.jsxs)(v.Z,{direction:"row",spacing:2,children:[(0,Le.jsx)(g.Z,{"aria-label":"Help Menu","aria-expanded":!!W,onClick:function(e){var n;D(W?null:e.currentTarget),null===(n=e.currentTarget)||void 0===n||n.focus()},children:(0,Le.jsx)($.Z,{fontSize:"large",color:"action"})}),(0,Le.jsx)(g.Z,{"aria-label":"Apps Menu","aria-expanded":!!I,onClick:function(e){var n;A(I?null:e.currentTarget),null===(n=e.currentTarget)||void 0===n||n.focus()},children:(0,Le.jsx)(k.Z,{fontSize:"large",color:"action"})}),(0,Le.jsx)(x.Z,{title:"Open settings",children:(0,Le.jsx)(g.Z,{onClick:function(e){_(e.currentTarget)},children:Y?(0,Le.jsx)(Z.Z,{src:"".concat("http://dev-sso-app.attech-ltd.com/api/v1","/user/profile-image/").concat(Y)}):(0,Le.jsx)(Z.Z,{})})})]})})]})}),oe.length>0&&(0,Le.jsx)(b.Z,{width:"100%",pl:2.5,sx:function(e){return{bgcolor:e.palette.grey.A700}},children:(0,Le.jsx)(c.Z,{maxWidth:"xl",children:(0,Le.jsx)(j.Z,{"aria-label":"breadcrumb",children:oe.map((function(e,n){return e.link?(0,Le.jsx)(y.Z,{component:X.rU,to:e.link,underline:"hover",color:"primary",children:e.label},n):(0,Le.jsx)(o.Z,{color:"text.primary",children:e.label},n)}))})})}),(0,Le.jsx)(Xn,{open:!!W,anchorEl:W,setAnchorEl:D}),(0,Le.jsx)(nt,{apps:ie,open:!!I,anchorEl:I,setAnchorEl:A,isLoading:H}),(0,Le.jsx)(ot,{open:N,anchorEl:C,setAnchorEl:_,isLoading:Q,userInfo:{fullName:ae,email:re,image:Y},logout:le})]})},ct=function(){return(0,Le.jsx)(D,{maxWidth:!1,children:(0,Le.jsx)(c.Z,{maxWidth:"lg",children:(0,Le.jsxs)(v.Z,{direction:"row",spacing:{xs:2,sm:4,md:10},gap:2,flexWrap:"wrap",sx:function(e){return(0,P.Z)({},e.breakpoints.down("sm"),{justifyContent:"space-around"})},children:[[{name:"FAQs",link:"/faqs"},{name:"Privacy",link:"/privacy"},{name:"Terms",link:"/terms"}].map((function(e){var n=e.name,t=e.link;return(0,Le.jsx)(y.Z,{component:X.rU,underline:"none",variant:"subtitle2",to:t,fontWeight:"bold",sx:function(e){return{color:e.palette.text.primary}},children:n},t)})),(0,Le.jsxs)(o.Z,{flexGrow:1,fontWeight:"bold",sx:function(e){return(0,P.Z)({textAlign:"end"},e.breakpoints.down("sm"),{textAlign:"center",marginLeft:"0 !important"})},children:["\xa9 ",(new Date).getFullYear()," Ez Login"]})]})})})},ut=t(4560),pt=function(e){(0,d.Z)(e);var n=(0,J.E)();return null!==n&&void 0!==n&&n.authed?null!==n&&void 0!==n&&n.isLoggingOut?(0,Le.jsx)(ut.default,{}):(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(dt,{}),(0,Le.jsx)(b.Z,{width:"100%",py:4,bgcolor:"background.default",flex:1,children:(0,Le.jsx)(c.Z,{maxWidth:"xl",children:(0,Le.jsx)(s.j3,{})})}),(0,Le.jsx)(ct,{})]}):(0,Le.jsx)(s.Fg,{to:"/sign-in"})},ht=t(35146),mt=(0,C.ZP)(b.Z)((function(e){var n=e.theme,t=n.palette;n.breakpoints;return{"& .auth-container":{width:"100%",display:"flex",alignItems:"center",gap:"0.25rem"},"& .auth-input":{width:"100%",border:"1px solid ".concat(t.secondary[900]),borderRadius:"4px",padding:0,fontSize:"2rem",textAlign:"center",background:"white",fontFamily:"lato",backgroundClip:"padding-box"}}})),ft=function(e){e.email;var n=e.icon,t=e.productName;return(0,Le.jsxs)(b.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,Le.jsxs)(b.Z,{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1,children:[(0,Le.jsx)("img",{alt:"Dr iq",width:"40px",height:"40px",src:n}),(0,Le.jsx)(o.Z,{fontWeight:"bold",variant:"body2",children:t})]}),(0,Le.jsxs)(b.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1,children:[(0,Le.jsx)(qe.Z,{label:!1,InputLabelProps:{shrink:!1},type:"email",variant:"outlined",name:"email",fullWidth:!0,value:"abc@gmail.com",disabled:!0}),(0,Le.jsx)(Ye.Z,{sx:{height:"3rem"},variant:"contained",size:"large",children:"Send OTP"})]}),(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(b.Z,{children:(0,Le.jsx)(o.Z,{fontWeight:"bold",children:"Enter the OTP we just sent to"})}),(0,Le.jsx)(b.Z,{children:(0,Le.jsx)(o.Z,{color:"primary",children:"username2@mail.com"})}),(0,Le.jsx)(b.Z,{children:(0,Le.jsx)(mt,{children:(0,Le.jsx)(ht.Z,{isPassword:!0,ariaLabel:"please enter the otp",autoFocus:!0,length:6,onChange:function(e){console.log(e)},containerClassName:"auth-container",inputClassName:"auth-input"})})}),(0,Le.jsxs)(b.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",children:[(0,Le.jsx)(Ve,{icon:(0,Le.jsx)(U.Z,{fontSize:"small",color:"success"}),text:(0,Le.jsx)(o.Z,{fontWeight:"bold",color:"success.main",children:"Verified"})}),(0,Le.jsxs)(b.Z,{component:o.Z,display:"flex",alignItems:"center",flexWrap:"wrap",color:"text.mute",children:["Didn't receive the OTP? \xa0",(0,Le.jsx)(y.Z,{color:"primary",children:"Resend OTP"})]})]})]})]})},vt=(0,C.ZP)(b.Z)((function(e){var n,t=e.theme,r=t.spacing,a=t.breakpoints;return n={display:"grid",gridTemplateColumns:"repeat(2,1fr)"},(0,P.Z)(n,a.down("md"),{gridTemplateColumns:"1fr"}),(0,P.Z)(n,"marginTop",r(1)),(0,P.Z)(n,"rowGap",r(5)),(0,P.Z)(n,"columnGap",r(9)),n})),gt=function(){return(0,Le.jsxs)(c.Z,{maxWidth:"lg",children:[(0,Le.jsx)(o.Z,{children:"Please enter your previous email and password to verify"}),(0,Le.jsxs)(vt,{children:[(0,Le.jsx)(ft,{icon:"http://dev-sso-app.attech-ltd.com/api/v1/image/EZLOGO.svg",productName:"EZ-Login",email:"email@gmail.com"}),(0,Le.jsx)(ft,{icon:"http://dev-sso-app.attech-ltd.com/api/v1/image/EZLOGO.svg",productName:"EZ-Login",email:"email@gmail.com"}),(0,Le.jsx)(ft,{icon:"http://dev-sso-app.attech-ltd.com/api/v1/image/EZLOGO.svg",productName:"EZ-Login",email:"email@gmail.com"}),(0,Le.jsx)(ft,{icon:"http://dev-sso-app.attech-ltd.com/api/v1/image/EZLOGO.svg",productName:"EZ-Login",email:"email@gmail.com"})]}),(0,Le.jsx)(b.Z,{display:"flex",mt:5,children:(0,Le.jsx)(Je,{sx:{ml:"auto"},variant:"contained",children:"Request Access"})})]})},xt=t(9955),Zt=t(72363),bt=(0,C.ZP)(b.Z)((function(e){return{display:"flex",flexDirection:"column",gap:(0,e.theme.spacing)(2)}})),jt=(0,C.ZP)(b.Z)((function(e){e.theme.spacing;return{display:"flex",justifyContent:"space-around",alignItems:"center"}})),yt=((0,C.ZP)(Zt.Z)((function(e){return{justifyContent:"flex-end",padding:(0,e.theme.spacing)(3)}})),t(35531)),wt=t(56125),kt=t(4834),Pt=t(76278),Ct=t(91478),_t=(0,C.ZP)(Hn.ZP)((function(e){var n=e.theme,t=e.level;return{position:"relative","&::before":{content:1==t?"none":"' '",position:"absolute",left:n.spacing(1.5*t),height:"100%",borderLeft:"2px solid lightgray",zIndex:100}}})),Et=function(e){var n=e.id,t=e.name,r=e.expandable,a=e.expanded,i=e.onClick,l=e.checked,o=e.labelId,s=e.level,d=e.onCheck,c=e.indeterminate;return(0,Le.jsx)(_t,(0,te.Z)((0,te.Z)({dense:!0,secondaryAction:r?(0,Le.jsx)(Ct.Z,{sx:{fontSize:"0.9rem",transform:a?"rotate(90deg)":"none",pointerEvents:"inherit"}}):null,disablePadding:!0,level:s,role:"option",tabIndex:-1},r?{"aria-expanded":a}:{}),{},{"aria-level":s,"aria-checked":l,children:(0,Le.jsxs)(Pt.Z,(0,te.Z)((0,te.Z)({disableRipple:!r,role:void 0,onClick:i,onKeyUp:function(e){"Space"===e.code&&d(e)},dense:!0,sx:{pl:2*s,cursor:r?"pointer":"default"},tabIndex:-1,id:n},r?{"aria-expanded":a}:{}),{},{"aria-level":s,"aria-checked":l,children:[(0,Le.jsx)(hn.Z,{children:(0,Le.jsx)(Ue.Z,{edge:"start",checked:l,indeterminate:c,onChange:function(e){e.stopPropagation(),d(e)},onClick:function(e){e.stopPropagation()},tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":o}})}),(0,Le.jsx)(mn.Z,{id:o,primary:t})]}))}))};function St(e){var n,t,r=e.option,a=e.onCheck,i=e.index,l=e.expanded,o=e.search,s=e.id,d=w.useState(l),c=(0,p.Z)(d,2),u=c[0],h=c[1];(0,w.useEffect)((function(){return h(l)}),[l]);var m=function(e,n){a(e,n)};return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(Et,(0,te.Z)((0,te.Z)({id:s,name:r.name,expandable:!(null===r||void 0===r||null===(n=r.practices)||void 0===n||!n.length),expanded:u,onClick:function(e){h(!u)}},r.isChecked?{}:{indeterminate:!!r.isIndeterminate}),{},{checked:!!r.isChecked,onCheck:function(){return m(r,(0,yt.Z)(i))},level:i.length,labelId:"checklistitem-".concat(i.join("-"))})),u&&(null===r||void 0===r?void 0:r.practices)&&(0,Le.jsx)(Le.Fragment,{children:null===r||void 0===r||null===(t=r.practices)||void 0===t?void 0:t.map((function(e,n){return(0,Le.jsx)(St,{id:"".concat(s,"-").concat(n),index:[].concat((0,yt.Z)(i),[e.id]),option:e,onCheck:a,expanded:!!o&&!e.name.includes(o)},n)}))})]})}function It(e,n,t){return t[e]?(n&&(t[e]=n),t[e]):n?(t[e]=n,t[e]):(t[e]=(0,te.Z)({},t[e]),t[e])}var At=function(e,n,t){var r=e.split(".");r.forEach((function(e,a){var i=e.indexOf("[");t=-1!==i?function(e,n,t){t[e]||(t[e]=[]);return t[e][n]||(t[e][n]={}),t[e][n]}(e.split("[")[0],e[i+1],t):a===r.length-1?It(e,n,t):It(e,null,t)}))},Rt=(0,Ce.Ry)({firstname:(0,Ce.Z_)().defined("First name is required").trim().required("First name must be defined"),lastname:(0,Ce.Z_)().defined("Last name is required").trim().required("Last name is required"),email:(0,Ce.Z_)().defined("Email is required").required("Email is required").email(),type_of_user:(new Ce.gx).required("User type required"),dr_iq_gender_id:(0,Ce.Rx)().nullable().when("$selectedApps",(function(e,n){return!!e.find((function(e){return"dr-iq"==e.name}))?n.required("Gender required"):n})),apps:(0,Ce.IX)().of((0,Ce.Ry)({id:(0,Ce.Rx)().required("ID is required"),practices:(0,Ce.IX)().of((0,Ce.Ry)({id:Ce.Rx().required("ID is required")})).test("min1","Must have atleast one practice",(function(e,n){var t,r,a,i=n.parent,l=n.options,o=null===l||void 0===l||null===(t=l.context)||void 0===t||null===(r=t.selectedApps)||void 0===r||null===(a=r.find((function(e){return"ez-login"==e.name})))||void 0===a?void 0:a.id;return!(i.id!==o&&Array.isArray(e)&&e.length<1)})),role:(0,Ce.Ry)({id:(0,Ce.Rx)().nullable().required("Role is required"),sub_role:(0,Ce.Rx)().nullable()})}).nullable()).required().min(1,"Atleast one app should be selected").test("atleast-one-app-selected","Atleast one app should be selected",(function(e){var n;return!!(e&&(null===e||void 0===e||null===(n=e.filter((function(e){return e})))||void 0===n?void 0:n.length)>0)}))});function Lt(e,n){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(m().mark((function e(n,t){var r,a,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,Rt.validate(n,{abortEarly:!1,recursive:!0,context:{selectedApps:null===t||void 0===t?void 0:t.filter((function(e){return e.selected}))}});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),null===e.t0||void 0===e.t0||null===(a=e.t0.inner)||void 0===a||a.forEach((function(e){At(e.path,e.errors,r)})),r.dr_iq_gender_id&&void 0!==(i=null===t||void 0===t?void 0:t.findIndex((function(e){return"dr-iq"===e.name})))&&isFinite(i)&&(r.apps||(r.apps=[]),r.apps[i]=(0,te.Z)({},r.apps[i]||{}),r.apps[i].dr_iq_gender_id=r.dr_iq_gender_id);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function Dt(e,n){return e?e.map((function(e){return e.id==n?(0,te.Z)((0,te.Z)({},e),{},{isSelected:!0}):(0,te.Z)((0,te.Z)({},e),{},{isSelected:!1})})):void 0}function Mt(e,n){null!==e&&void 0!==e&&e.practices&&e.practices.forEach((function(e){(e.isChecked||e.isIndeterminate)&&n.push({id:e.id}),Mt(e,n)}))}function Tt(e){var n=null,t="external",r=[];return null===e||void 0===e||e.forEach((function(e){if(e.selected){var a,i,l=[],o={};"ez-login"==e.name&&(t="internal"),Mt(e,l),null===e||void 0===e||null===(a=e.gender)||void 0===a||a.forEach((function(e){e.isSelected&&(n=e.id)})),e.roles.forEach((function(e){var n,t;e.isSelected&&(i={id:e.id,sub_role:(null===e||void 0===e||null===(n=e.sub_roles)||void 0===n||null===(t=n.find((function(e){return e.isSelected})))||void 0===t?void 0:t.id)||null})})),o.id=e.id,o.practices=l,o.role=i||{id:null,sub_role:null},r.push(o)}else r.push(null)})),{type_of_user:t,dr_iq_gender_id:n,apps:r}}var Ot={firstname:"",lastname:"",email:""},zt=(0,w.createContext)(null),Ft=function(){return(0,ne.U2)("user/service-providers/practices/roles")};function Gt(e){return(0,ne.v_)("user",e)}var Nt=function(){var e=(0,w.useState)(),n=(0,p.Z)(e,2),t=n[0],r=n[1],a=(0,w.useState)(Ot),i=(0,p.Z)(a,2),l=i[0],o=i[1],d=(0,w.useState)(),c=(0,p.Z)(d,2),h=c[0],f=c[1],v=(0,w.useState)(!0),g=(0,p.Z)(v,2),x=g[0],Z=g[1],b=(0,ee.useQueryClient)(),j=(0,Ae.b)(),y=(0,s.UO)().id,k=y?"User updated successfully":"User added successfully",P=(0,ee.useQuery)("practicesAndRoles",y?function(){return function(e){return(0,ne.U2)("user/".concat(e,"/service-providers/practices/roles"))}(parseInt(y))}:Ft,{onSuccess:function(e){y&&o({firstname:e.data.firstname,lastname:e.data.lastname,email:e.data.email,is_active:e.data.is_active||!1}),Z(!1),r(e.data.sp_practice_roles)},refetchOnWindowFocus:!1}),C=P.isLoading,_=P.isError,E=P.data,S=(0,ee.useMutation)(y?function(e){return function(e,n){return(0,ne.gz)("user/".concat(n,"/service-providers/practices/roles"),e)}(e,parseInt(y))}:Gt,{onSuccess:function(e){null===j||void 0===j||j.setAlert({show:!0,message:k,status:"success"}),b.invalidateQueries(["users"]),y||Z(!0)},onError:function(e){var n,t,r=null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message;null===j||void 0===j||j.setAlert({show:!0,message:null!==r&&void 0!==r?r:"User add request failed",status:"error"})}}),I=S.mutate,A=S.isLoading,R=function(){var e=(0,u.Z)(m().mark((function e(){var n,r,a,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tt(t),r=(0,te.Z)((0,te.Z)({},l),n),e.next=4,Lt(r,t);case 4:a=e.sent,f(a),Object.keys(a).length<1&&(r.apps=null===(i=r.apps)||void 0===i?void 0:i.filter((function(e){return e})),I(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{appData:t,setAppData:r,dataLoadError:_,appDataLoading:C,isCreatingUser:A,setSelected:function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.id==e?(0,te.Z)((0,te.Z)({},n),{},{selected:!n.selected}):n}));r(n)},setRole:function(e,n){var a=null===t||void 0===t?void 0:t.map((function(t){if(t.id==e){var r=Dt(t.roles,n);return(0,te.Z)((0,te.Z)({},t),{},{roles:r})}return t}));r(a)},setSubrole:function(e,n){var a=null===t||void 0===t?void 0:t.map((function(t){if(t.id==e){var r,a=t.roles.findIndex((function(e){return e.isSelected})),i=Dt(null===(r=t.roles[a])||void 0===r?void 0:r.sub_roles,n),l=(0,te.Z)({},t);return l.roles=(0,yt.Z)(l.roles),l.roles[a]=(0,te.Z)((0,te.Z)({},l.roles[a]),{},{sub_roles:i}),l}return t}));r(a)},setGender:function(e,n){var a=null===t||void 0===t?void 0:t.map((function(t){if(t.id==e){var r=Dt(t.gender,n);return(0,te.Z)((0,te.Z)({},t),{},{gender:r})}return t}));r(a)},addUser:R,setUserInfo:o,userInfo:l,errors:h,disableAll:x,addNew:function(){var e;o(Ot),r(null===E||void 0===E||null===(e=E.data)||void 0===e?void 0:e.sp_practice_roles),Z(!1)}}},Ut=function(e){var n=e.children,t=Nt();return(0,Le.jsx)(zt.Provider,{value:t,children:n})},qt=function(){return(0,w.useContext)(zt)},Ht=t(92546),Bt=function(e,n){var t=(0,w.useState)(e),r=(0,p.Z)(t,2),a=r[0],i=r[1];return(0,w.useEffect)((function(){var t=setTimeout((function(){i(e)}),n);return function(){clearTimeout(t)}}),[e,n]),a},Vt=(0,He.Z)(kt.ZP)((function(e){return{padding:e.theme.spacing(1,2)}}));function $t(e){var n,t,r=e.app,a=e.appIndex,i=e.setApp,l=e.disabled,s=(0,w.useState)(""),d=(0,p.Z)(s,2),c=d[0],u=d[1],h=Bt(c,700),m=w.useState(r),f=(0,p.Z)(m,2),v=f[0],g=f[1],x=w.useState(r),Z=(0,p.Z)(x,2),j=Z[0],y=Z[1],k=w.useState(null),P=(0,p.Z)(k,2),C=P[0],_=P[1],E=w.useRef(null),S=w.useRef(0),I=qt();(0,w.useEffect)((function(){g(r)}),[r]),(0,w.useEffect)((function(){var e=z();y(e)}),[v]),(0,w.useEffect)((function(){if(h){var e=z();y(e)}else y(v)}),[h]);var A=function(e){"Escape"===e.code&&(null===C||void 0===C||C.focus(),_(null))},R=function(e){"code"in e?"Enter"===(null===e||void 0===e?void 0:e.code)&&_(C?null:e.currentTarget):_(C?null:e.currentTarget),A(e)},L=function e(n,t){null!==n&&void 0!==n&&n.prev&&(null!==n&&void 0!==n&&n.checkedLength&&null!==n&&void 0!==n&&n.practices&&((null===n||void 0===n?void 0:n.checkedLength)-1>0||t)?n.isIndeterminate=!0:n.isIndeterminate=!1,n.isChecked=!1,e(n.prev,n.isIndeterminate))},W=function e(n){var t;null!==n&&void 0!==n&&n.prev&&(n.hasOwnProperty("checkedLength")&&isFinite(n.checkedLength)&&null!==n&&void 0!==n&&n.practices&&n.checkedLength+1>=(null===n||void 0===n||null===(t=n.practices)||void 0===t?void 0:t.length)?(n.isIndeterminate=!1,n.isChecked=!0):n.isIndeterminate=!0,e(n.prev))},D=function e(n){null!==n&&void 0!==n&&n.practices&&(n.isIndeterminate=!1,n.practices.forEach((function(t){n.isChecked?t.isChecked=!0:(t.isChecked=!1,t.isIndeterminate=!1),e(t)})))};function M(e){if(!e.practices)return(0,te.Z)({},e);var n=e.practices.map((function(e){return M((0,te.Z)({},e))}));return(0,te.Z)((0,te.Z)({},e),{},{practices:n})}var T=function(e,n){var t=v.practices.findIndex((function(e){return e.id===n[0]})),r=M(v.practices[t]),a=(0,te.Z)({},v);a.practices=(0,yt.Z)(a.practices),a.practices[t]=r;var i=a;n.forEach((function(e,t){var r,a,l,o=i;(o.checkedLength=(null===o||void 0===o||null===(r=o.practices)||void 0===r||null===(a=r.filter((function(e){return e.isChecked||e.isIndeterminate})))||void 0===a?void 0:a.length)||0,(i=i.practices.find((function(n){return n.id===e}))).prev=o,t===n.length-1)&&(i.isChecked?(i.isChecked=!1,L(i,!1)):(i.isChecked=!0,W(i)),null!==(l=i.practices)&&void 0!==l&&l.length&&D(i))})),g(a)},O=function e(n){if(delete n.prev,!n.practices||(null===n||void 0===n?void 0:n.practices.length)<1)return n.name.includes(h);var t=(0,Ht.Vk)(n.practices),r=n.practices.filter((function(n){return e(n)}));return n.name.includes(h)?n.practices=t:n.practices=r,!!r.length||n.name.includes(h)};function z(){return h?(0,Ht.ZP)(v,(function(e){O(e)})):v}var F="".concat(r.sp_app_name,"-po-");var G=function(){i(v,a),null===C||void 0===C||C.focus(),_(null)},N=function(){g(r),null===C||void 0===C||C.focus(),_(null)},U=Boolean(C),q=r.practices.filter((function(e){return e.isChecked||e.isIndeterminate})).length||0;return null!==I&&void 0!==I&&I.appDataLoading?(0,Le.jsx)(o.Z,{children:"Loading..."}):(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(ln,{onClick:R,onKeyDown:R,endIcon:(0,Le.jsx)(sn.Z,{}),id:"".concat(r.sp_app_name,"-practicedd"),disabled:l,role:"tree","aria-expanded":U,"aria-haspopup":"tree","aria-label":q?"".concat(q," Practices Selected"):"Practices",children:(0,Le.jsx)(o.Z,{variant:"body1",children:q?"".concat(q," Practices Selected"):"Practices"})}),(0,Le.jsx)(gn.Z,{id:"dropdown",open:U,anchorEl:C,sx:function(e){var n=e.palette,t=e.shadows;return{backgroundColor:n.background.default,boxShadow:t[2]}},children:(0,Le.jsx)(xn.Z,{onClickAway:G,mouseEvent:"onMouseDown",children:(0,Le.jsxs)(b.Z,{onKeyDown:A,children:[(0,Le.jsxs)(b.Z,{children:[(0,Le.jsx)(Vt,{value:c,onChange:function(e){return u(e.currentTarget.value)},placeholder:"Search",autoFocus:!0,fullWidth:!0,onKeyDown:function(e){"Tab"===e.code&&e.shiftKey&&N()},inputProps:{"aria-label":"Search Practices"}}),(0,Le.jsx)(b.Z,{component:"ul",pl:0,maxHeight:400,width:null===C||void 0===C?void 0:C.clientWidth,overflow:"auto",tabIndex:0,ref:E,onKeyDown:function(e){"Tab"!==e.code&&function(e){if(e.preventDefault(),E){var n,t,r,a=(null===(n=E.current)||void 0===n?void 0:n.childElementCount)||0,i=null===(t=E.current)||void 0===t?void 0:t.children,l=null===i||void 0===i?void 0:i[S.current];if("ArrowDown"===e.code||"ArrowUp"===e.code){if("ArrowDown"===e.code?(S.current++,S.current>a-1&&(S.current=0),r=null===i||void 0===i?void 0:i[S.current-1],l=null===i||void 0===i?void 0:i[S.current]):(S.current--,S.current<0&&(S.current=a-1),r=null===i||void 0===i?void 0:i[S.current+1],l=null===i||void 0===i?void 0:i[S.current]),r&&r.classList.remove("Mui-focusVisible"),l){l.classList.add("Mui-focusVisible");var o=l.firstChild;null===o||void 0===o||o.focus()}}else if("ArrowLeft"===e.code){for(var s=0,d=l;d&&"true"!==d.getAttribute("aria-expanded");){var c;d=null===(c=d)||void 0===c?void 0:c.previousSibling,s++}if(d){var u,p;S.current=S.current-s;var h=null===(u=d)||void 0===u?void 0:u.firstChild;h.focus(),null===h||void 0===h||null===(p=h.click)||void 0===p||p.call(h)}}else if("ArrowRight"===e.code){var m,f,v=null===(m=l)||void 0===m?void 0:m.firstChild;v.focus(),null===v||void 0===v||null===(f=v.click)||void 0===f||f.call(v)}}}(e)},children:j&&(null===j||void 0===j||null===(n=j.practices)||void 0===n?void 0:n.length)>0?null===j||void 0===j||null===(t=j.practices)||void 0===t?void 0:t.map((function(e,n){return(0,Le.jsx)(St,{id:"".concat(F,"-").concat(n),index:[e.id],option:e,onCheck:T,search:h,expanded:!!c&&!e.name.includes(h)},n)})):(0,Le.jsx)(Hn.ZP,{children:(0,Le.jsx)(o.Z,{variant:"body1",children:"No Options..."})})})]}),(0,Le.jsxs)(b.Z,{sx:function(e){var n=e.palette,t=e.spacing;return{width:"100%",backgroundColor:n.background.default,padding:t(1),borderTop:"1px solid ".concat(n.divider),display:"flex",justifyContent:"flex-end","& :not(:last-child)":{marginRight:t(1)}}},children:[(0,Le.jsx)(Ye.Z,{variant:"contained",color:"secondary",size:"small",onClick:N,children:"Cancel"}),(0,Le.jsx)(Ye.Z,{id:"save-btn",variant:"contained",color:"primary",size:"small",onClick:G,onKeyDown:function(e){"Tab"!==e.code||e.shiftKey||N()},children:"Save"})]})]})})})]})}var Qt=t(83091),Yt=["messages","show"],Kt=function(e){var n=e.messages,t=e.show,r=(0,re.Z)(e,Yt);return(0,Le.jsx)(x.Z,{title:(0,Le.jsx)(Le.Fragment,{children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,Le.jsx)(b.Z,{children:e},n)}))}),children:(0,Le.jsx)(Qt.Z,(0,te.Z)({fontSize:"inherit",color:"error",sx:{visibility:t?"visible":"hidden"}},r))})},Xt={"ez-login":"EZ Login","ez-doc":"EZ Doc","ez-nav":"EZ Nav","dr-iq":"Dr. iQ","ez-analytics":"EZ Analytics","ez-path":"EZ Path","ez-web":"EZ Web"},Jt=(0,C.ZP)(v.Z)((function(e){var n=e.expanded,t=e.theme;return{width:n?"100%":180,transition:"width 0.3s",transitionDelay:"0.1s",alignItems:"flex-start",borderRadius:t.shape.borderRadius,border:"solid 1px ".concat(t.palette.divider),padding:t.spacing(1.2)}})),er=(0,C.ZP)(b.Z)((function(e){var n=e.expanded,t=e.theme;return(0,P.Z)({width:n?"100%":0,transition:"width 0.3s",display:"grid",gridTemplateColumns:"1fr 1fr",gap:t.spacing(2),marginTop:t.spacing(2)},t.breakpoints.down("sm"),{gridTemplateColumns:"1fr"})})),nr=function(e){var n,t,r,a,i,l,s,d,c,u=(0,w.useId)(),p=e.index,h=e.Logo,m=e.selected,f=e.app,g=e.errors,j=e.disabled,y=qt(),k=f.roles.find((function(e){return e.isSelected}));return(0,Le.jsxs)(Jt,{direction:"column",expanded:!!m,children:[(0,Le.jsxs)(v.Z,{direction:"row",width:"100%",alignItems:"center",children:[(0,Le.jsx)(Ue.Z,{id:u,size:"small",name:f.name,checked:!!m,onClick:function(){null===y||void 0===y||y.setSelected(f.id)},onKeyUp:function(e){"Enter"===e.code&&(null===y||void 0===y||y.setSelected(f.id))},sx:function(e){return{padding:e.spacing(.2)}},disabled:j}),(0,Le.jsx)(v.Z,{direction:"column",width:"100%",ml:2,children:(0,Le.jsx)("label",{htmlFor:u,children:(0,Le.jsxs)(v.Z,{direction:"row",spacing:1.5,alignItems:"center",width:"fit-content",sx:{cursor:"pointer"},children:[(0,Le.jsx)(b.Z,{height:"auto",width:25,children:(0,Le.jsx)(x.Z,{title:Xt[f.name],placement:"bottom",children:(0,Le.jsx)(Z.Z,{src:"".concat("http://dev-sso-app.attech-ltd.com/api/v1","/").concat(h),alt:"".concat(f.name," Logo"),sx:{width:"100%",height:"100%",filter:j?"grayscale(100%)":"none"},variant:"square",imgProps:{draggable:!1,sx:{objectFit:"unset"}}})})}),(0,Le.jsx)(o.Z,{variant:"body2",fontWeight:"bolder",whiteSpace:"nowrap",letterSpacing:"0.49px",children:Xt[f.name]})]})})}),(0,Le.jsx)(b.Z,{width:20,display:"flex",alignItems:"center",children:(0,Le.jsx)(Kt,{show:!!g&&!!m,messages:[].concat((0,yt.Z)(Array.isArray(g)?g:[]),(0,yt.Z)((null===g||void 0===g||null===(n=g.role)||void 0===n?void 0:n.id)||[]),(0,yt.Z)((null===g||void 0===g||null===(t=g.role)||void 0===t?void 0:t.sub_role)||[]),(0,yt.Z)((null===g||void 0===g?void 0:g.practices)||[]),(0,yt.Z)((null===g||void 0===g?void 0:g.dr_iq_gender_id)||[])),fontSize:"small"})})]}),(0,Le.jsx)(wt.Z,{in:m,sx:{marginTop:0,width:"100%"},children:(0,Le.jsxs)(v.Z,{direction:"row",width:"100%",alignItems:"flex-start",children:[(0,Le.jsx)(Ue.Z,{size:"small",sx:{visibility:"hidden"},disabled:j}),(0,Le.jsx)(v.Z,{direction:"column",width:"100%",ml:2,children:(0,Le.jsxs)(er,{expanded:!!m,children:["ez-login"!==f.name&&(0,Le.jsx)($t,{app:f,appIndex:p,setApp:function(e,n){var t;null!==y&&void 0!==y&&y.appData&&(null===y||void 0===y||y.setAppData((0,yt.Z)(null===y||void 0===y||null===(t=y.appData)||void 0===t?void 0:t.map((function(t,r){return r==n?e:t})))))},disabled:j}),(0,Le.jsx)(kn,{value:(null===k||void 0===k||null===(r=k.id)||void 0===r?void 0:r.toString())||"",placeholder:"Role",onChange:function(e){null===y||void 0===y||y.setSubrole(f.id,null),e?null===y||void 0===y||y.setRole(f.id,parseInt(e)):null===y||void 0===y||y.setRole(f.id,null)},disabled:j,children:f.roles.map((function(e){return(0,Le.jsx)("option",{label:e.name,value:e.id,children:e.name},e.id)}))}),"dr-iq"==f.name&&(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(kn,{disabled:j,value:(null===(a=f.gender.find((function(e){return e.isSelected})))||void 0===a||null===(i=a.id)||void 0===i?void 0:i.toString())||"",placeholder:"Gender",onChange:function(e){e?null===y||void 0===y||y.setGender(f.id,parseInt(e)):null===y||void 0===y||y.setGender(f.id,null)},children:f.gender.map((function(e){return(0,Le.jsx)("option",{label:e.name,value:e.id,children:e.name},e.id)}))}),(0,Le.jsx)(kn,{disabled:!(null!==k&&void 0!==k&&k.id)||j,value:(null===k||void 0===k||null===(l=k.sub_roles)||void 0===l||null===(s=l.find((function(e){return e.isSelected})))||void 0===s||null===(d=s.id)||void 0===d?void 0:d.toString())||"",placeholder:"Sub Role",onChange:function(e){e?null===y||void 0===y||y.setSubrole(f.id,parseInt(e)):null===y||void 0===y||y.setSubrole(f.id,null)},children:k?null===k||void 0===k||null===(c=k.sub_roles)||void 0===c?void 0:c.map((function(e){return(0,Le.jsx)("option",{label:e.name,value:e.id,children:e.name},e.id)})):null})]})]})})]})})]})},tr=function(e){var n,t,r,a,i,l,d,c,u,p,h,m,f,g,x,Z=e.editMode,j=(0,s.s0)(),y=qt(),w=null!==y&&void 0!==y&&y.appDataLoading?(0,Le.jsx)(b.Z,{width:"100%",display:"flex",flexDirection:"column",children:new Array(6).fill(0).map((function(e,n){return(0,Le.jsx)(Ee.Z,{height:100,sx:{margin:-2}},n)}))}):null===y||void 0===y||null===(n=y.appData)||void 0===n?void 0:n.map((function(e,n){var t,r;return(0,Le.jsx)(nr,{app:e,index:n,Logo:e.sp_app_image,selected:e.selected,disabled:null===y||void 0===y?void 0:y.disableAll,errors:null===y||void 0===y||null===(t=y.errors)||void 0===t||null===(r=t.apps)||void 0===r?void 0:r[n]},e.id)}));return(0,Le.jsxs)(b.Z,{sx:{maxWidth:800,margin:"auto"},children:[(0,Le.jsx)(o.Z,{variant:"h5",component:"h1",color:"primary",fontWeight:"bold",mb:2,children:Z?"Edit User":"Add New User"}),null!==y&&void 0!==y&&y.dataLoadError?(0,Le.jsx)(Sn,{}):(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsxs)(bt,{children:[(0,Le.jsxs)(v.Z,{direction:{xs:"column",sm:"column",md:"row"},spacing:{xs:1,sm:2,md:3},children:[(0,Le.jsx)(Dn,{label:(0,Le.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:1,children:["First Name\xa0\xa0",(0,Le.jsx)(Kt,{show:null===y||void 0===y||null===(t=y.errors)||void 0===t?void 0:t.firstname,messages:null===y||void 0===y||null===(r=y.errors)||void 0===r?void 0:r.firstname,fontSize:"small"})]}),sx:{flex:4},fullWidth:!0,placeholder:"First Name",value:null===y||void 0===y||null===(a=y.userInfo)||void 0===a?void 0:a.firstname,onChange:function(e){return null===y||void 0===y?void 0:y.setUserInfo((0,te.Z)((0,te.Z)({},null===y||void 0===y?void 0:y.userInfo),{},{firstname:e.target.value}))},disabled:null===y||void 0===y?void 0:y.disableAll}),(0,Le.jsx)(Dn,{label:(0,Le.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:1,children:["Last Name\xa0\xa0",(0,Le.jsx)(Kt,{show:null===y||void 0===y||null===(i=y.errors)||void 0===i?void 0:i.lastname,messages:null===y||void 0===y||null===(l=y.errors)||void 0===l?void 0:l.lastname,fontSize:"small"})]}),sx:{flex:4},fullWidth:!0,placeholder:"Last Name",value:null===y||void 0===y||null===(d=y.userInfo)||void 0===d?void 0:d.lastname,onChange:function(e){return null===y||void 0===y?void 0:y.setUserInfo((0,te.Z)((0,te.Z)({},null===y||void 0===y?void 0:y.userInfo),{},{lastname:e.target.value}))},disabled:null===y||void 0===y?void 0:y.disableAll}),(0,Le.jsx)(Dn,{label:(0,Le.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:1,children:["Email\xa0\xa0",(0,Le.jsx)(Kt,{show:null===y||void 0===y||null===(c=y.errors)||void 0===c?void 0:c.email,messages:null===y||void 0===y||null===(u=y.errors)||void 0===u?void 0:u.email,fontSize:"small"})]}),sx:{flex:4},fullWidth:!0,placeholder:"username@email.com",value:null===y||void 0===y||null===(p=y.userInfo)||void 0===p?void 0:p.email,onChange:function(e){return null===y||void 0===y?void 0:y.setUserInfo((0,te.Z)((0,te.Z)({},null===y||void 0===y?void 0:y.userInfo),{},{email:e.target.value}))},disabled:(null===y||void 0===y?void 0:y.disableAll)||Z})]}),Z&&(0,Le.jsxs)(jt,(0,te.Z)((0,te.Z)({},(null===y||void 0===y||null===(h=y.errors)||void 0===h?void 0:h.is_active)&&{bgcolor:"error.A100"}),{},{children:[(0,Le.jsx)(o.Z,{variant:"caption",fontWeight:"bold",sx:{flex:1},children:"Status"}),(0,Le.jsxs)(v.Z,{direction:"row",spacing:1,alignItems:"center",flex:4,children:[(0,Le.jsx)(o.Z,{variant:"caption",children:"Inactive"}),(0,Le.jsx)(xt.Z,{checked:null===y||void 0===y||null===(m=y.userInfo)||void 0===m?void 0:m.is_active,onChange:function(e,n){return null===y||void 0===y?void 0:y.setUserInfo((0,te.Z)((0,te.Z)({},null===y||void 0===y?void 0:y.userInfo),{},{is_active:n}))},inputProps:{"aria-label":"user status"},disabled:null===y||void 0===y?void 0:y.disableAll}),(0,Le.jsx)(o.Z,{variant:"caption",children:"Active"})]})]})),(0,Le.jsxs)(b.Z,{display:"flex",flexDirection:"column",children:[(0,Le.jsxs)(v.Z,{direction:"row",spacing:2,mb:2,sx:{flex:1},children:[(0,Le.jsx)(o.Z,{variant:"body1",component:"h2",fontWeight:"bold",children:"Products"}),(0,Le.jsx)(Kt,{show:"string"===typeof(null===y||void 0===y||null===(f=y.errors)||void 0===f||null===(g=f.apps)||void 0===g?void 0:g[0]),messages:null===y||void 0===y||null===(x=y.errors)||void 0===x?void 0:x.apps,fontSize:"small"})]}),(0,Le.jsx)(v.Z,{direction:"column",spacing:1,justifyContent:"flex-start",children:w})]})]}),(0,Le.jsxs)(v.Z,{direction:"row",spacing:2,mt:5,children:[(0,Le.jsx)(Ye.Z,{variant:"outlined",onClick:function(){return j("/user-management")},children:"Cancel"}),!(null!==y&&void 0!==y&&y.disableAll)&&(0,Le.jsx)(Ye.Z,{variant:"contained",onClick:null===y||void 0===y?void 0:y.addUser,disabled:null===y||void 0===y?void 0:y.appDataLoading,size:"small",children:"Save"}),(null===y||void 0===y?void 0:y.disableAll)&&!y.appDataLoading&&(0,Le.jsx)(Ye.Z,{variant:"contained",onClick:null===y||void 0===y?void 0:y.addNew,size:"small",children:"Add Another"})]})]}),(null===y||void 0===y?void 0:y.isCreatingUser)&&(0,Le.jsx)(b.Z,{mt:2,children:(0,Le.jsx)(ie.Z,{})})]})},rr=(t(16072),t(13967)),ar=t(66179),ir=t(25502),lr=t(72426),or=t.n(lr),sr=t(92373),dr=["label","onChange","startDate","endDate"],cr=ar.Z.RangePicker,ur=((0,C.ZP)(rn.Z)((function(e){return{"& .ant-picker-cell-in-view.ant-picker-cell-today .ant-picker-cell-inner::before":{backgroundColor:"black",borderRadius:"50%"}}})),(0,C.ZP)(rn.Z)((function(e){var n=e.theme,t=n.palette,r=n.shape;return{width:"100%",height:50,display:"flex",alignItems:"center",justifyContent:"space-between",padding:(0,n.spacing)(1),position:"absolute",bottom:-42,left:0,background:t.background.default,boxShadow:"0 2px 3px 0 rgba(0, 0, 0, 0.28)",borderBottomLeftRadius:4*parseInt("".concat(r.borderRadius)),borderBottomRightRadius:4*parseInt("".concat(r.borderRadius))}}))),pr=function(e){var n=e.startDate,t=e.endDate;return(0,Le.jsxs)(ur,{children:[(0,Le.jsx)(Ye.Z,{size:"small",children:"Cancel"}),(0,Le.jsxs)(rn.Z,{display:"flex",alignItems:"center",children:[n&&t&&(0,Le.jsxs)(rn.Z,{display:"flex",mr:2,children:[(0,Le.jsx)(o.Z,{variant:"body2",sx:{color:function(e){return e.palette.text.mute}},children:"Selected:\xa0"}),(0,Le.jsx)(o.Z,{variant:"body2",fontWeight:600,children:or()(t).diff(or()(n),"days")+1})]}),(0,Le.jsx)(Ye.Z,{variant:"contained",size:"small",children:"Done"})]})]})},hr=function(e){var n=(0,rr.Z)(),t=(0,w.useId)(),r=e.label,a=e.onChange,i=e.startDate,l=e.endDate,o=(0,re.Z)(e,dr),s=(0,w.useMemo)((function(){return{".ant-picker.ant-picker-range.ant-picker-large":{height:45,width:"100%",padding:n.spacing(2,1.5),borderRadius:n.shape.borderRadius,borderWidth:2,"&:hover, &:active":{borderColor:n.palette.primary.main}},".ant-picker-range.ant-picker-focused .ant-picker-active-bar":{backgroundColor:n.palette.primary[900],bottom:2},".ant-picker-header-view button:hover":{color:n.palette.primary.main},".ant-picker-range-wrapper .ant-picker-panel-container":{display:"flex",borderTopLeftRadius:4*parseInt("".concat(n.shape.borderRadius)),borderTopRightRadius:4*parseInt("".concat(n.shape.borderRadius)),fontFamily:n.typography.fontFamily},".ant-picker-range-wrapper .ant-picker-footer":{width:"150px",borderLeft:"solid 1px ".concat(n.palette.divider),borderBottom:"solid 1px ".concat(n.palette.divider)},".ant-picker-range-wrapper .ant-picker-footer .ant-picker-ranges":{display:"grid",gridTemplateColumns:"1fr",paddingTop:n.spacing(6),"&::before":{content:'"Predefined periods:"',color:n.palette.grey.A400,fontSize:"0.98em"}},".ant-picker-range-wrapper .ant-picker-footer .ant-picker-ranges .ant-picker-preset .ant-tag":{color:n.palette.text.primary,background:"transparent",border:"none",padding:0,fontWeight:600,"&:hover":{color:n.palette.text.secondary}},"td.ant-picker-cell.ant-picker-cell-in-view":{width:32,height:32,padding:n.spacing(.8)},"td.ant-picker-cell .ant-picker-cell-inner":{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-today .ant-picker-cell-inner::before":{borderColor:n.palette.primary.main,borderRadius:"50%"},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner,     .ant-picker-cell-in-view.ant-picker-cell-range-start .ant-picker-cell-inner,     .ant-picker-cell-in-view.ant-picker-cell-range-end .ant-picker-cell-inner":{background:n.palette.primary.main,borderRadius:"50%"},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-range-end:not(.ant-picker-cell-range-start):is(.ant-picker-cell-range-end) .ant-picker-cell-inner,     .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-selected.ant-picker-cell-range-start:not(.ant-picker-cell-range-end) .ant-picker-cell-inner,     .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-range-start:not(.ant-picker-cell-range-end):is(.ant-picker-cell-range-start) .ant-picker-cell-inner":{background:n.palette.primary.main,borderRadius:"50%"},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-in-range::before":{height:32,background:n.palette.primary[100]},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-in-range.ant-picker-cell-range-hover::before,     .ant-picker-date-panel .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-in-range.ant-picker-cell-range-hover-start .ant-picker-cell-inner::after,     .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-range-hover-end:not(.ant-picker-cell-range-end-single).ant-picker-cell-range-hover-end::before,     .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-in-range.ant-picker-cell-range-hover-start::before,     .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-in-range.ant-picker-cell-range-hover-end::before":{background:n.palette.primary[50]},".ant-picker-panel .ant-picker-cell-in-view.ant-picker-cell-range-hover-start:not(.ant-picker-cell-in-range):not(.ant-picker-cell-range-start):not(.ant-picker-cell-range-end)::after,     .ant-picker-panel .ant-picker-cell-in-view.ant-picker-cell-range-hover-end:not(.ant-picker-cell-in-range):not(.ant-picker-cell-range-start):not(.ant-picker-cell-range-end)::after,     .ant-picker-panel .ant-picker-cell-in-view.ant-picker-cell-range-hover-start.ant-picker-cell-range-start-single::after,     .ant-picker-panel .ant-picker-cell-in-view.ant-picker-cell-range-hover-start.ant-picker-cell-range-start.ant-picker-cell-range-end.ant-picker-cell-range-end-near-hover::after,     .ant-picker-panel .ant-picker-cell-in-view.ant-picker-cell-range-hover-end.ant-picker-cell-range-start.ant-picker-cell-range-end.ant-picker-cell-range-start-near-hover::after,     .ant-picker-panel .ant-picker-cell-in-view.ant-picker-cell-range-hover-end.ant-picker-cell-range-end-single::after,     .ant-picker-panel .ant-picker-cell-in-view.ant-picker-cell-range-hover:not(.ant-picker-cell-in-range)::after":{borderColor:n.palette.primary.main},".ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-range-start:not(.ant-picker-cell-range-start-single)::before,     .ant-picker-cell.ant-picker-cell-in-view.ant-picker-cell-range-end:not(.ant-picker-cell-range-end-single)::before":{height:32,background:n.palette.primary[100]},".ant-picker-body .ant-picker-content th":{color:n.palette.grey.A400,fontWeight:600},".ant-picker-content tbody tr td:first-of-type::before":{borderTopLeftRadius:2*parseInt("".concat(n.shape.borderRadius)),borderBottomLeftRadius:2*parseInt("".concat(n.shape.borderRadius))},".ant-picker-content tbody tr td:last-of-type::before":{borderTopRightRadius:2*parseInt("".concat(n.shape.borderRadius)),borderBottomRightRadius:2*parseInt("".concat(n.shape.borderRadius))},".ant-picker.ant-picker-range.ant-picker-large.ant-picker-focused":{borderColor:n.palette.primary.main,boxShadow:"none",paddingLeft:-1,paddingRight:-1},".ant-picker.ant-picker-range .ant-picker-clear":{fontSize:"1.3em",right:12},".ant-picker.ant-picker-range .ant-picker-suffix":{color:n.palette.action.active},".ant-picker-header .ant-picker-header-view":{fontWeight:900}}}),[n]);return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(ir.Z,{styles:s}),(0,Le.jsxs)(rn.Z,{children:[(0,Le.jsx)(on,{htmlFor:t,children:r}),(0,Le.jsx)(cr,(0,te.Z)({id:t,size:"large",placeholder:["Start Date","End Date"],ranges:{Yesterday:[or()().subtract(1,"days"),or()().subtract(1,"days")],"Last week":[or()().subtract(1,"weeks"),or()()],"Last month":[or()().subtract(1,"months"),or()()],"Last year":[or()().subtract(1,"years"),or()()]},separator:null,suffixIcon:(0,Le.jsx)(sr.Z,{fontSize:"small"}),renderExtraFooter:function(){return(0,Le.jsx)(pr,{startDate:i,endDate:l})},onChange:a},o))]})]})},mr=t(39281),fr=t(56890),vr=t(68745),gr=t(90618),xr=t(35855),Zr=t(53382),br=t(79836),jr=t(81333),yr=t(46563),wr=t(56989),kr=(0,C.ZP)(br.Z)((function(e){var n=e.theme.spacing;return{borderCollapse:"separate",borderSpacing:"0 ".concat(n(1))}})),Pr=(0,C.ZP)(b.Z)((function(e){e.theme;return{}})),Cr=(0,C.ZP)(Zr.Z)((function(){return{}})),_r=(0,C.ZP)(vr.Z)((function(e){e.theme.palette;return(0,P.Z)({border:"none"},"&.".concat(gr.Z.head),{fontWeight:"bold"})})),Er=(0,C.ZP)(xr.Z)((function(e){var n,t,r=e.theme,a=r.palette,i=r.shape;r.spacing;return{background:null===(n=(t=a.background).backgroundGradientMulti)||void 0===n?void 0:n.call(t),border:"1px solid transparent","& th:first-child":{borderTopLeftRadius:8*+i.borderRadius},"& th:last-child":{borderTopRightRadius:8*+i.borderRadius}}})),Sr=(0,C.ZP)(xr.Z,{shouldForwardProp:function(e){return"highlighted"!==e}})((function(e){var n=e.highlighted,t=e.theme,r=t.palette,a=t.shape;t.spacing;return(0,te.Z)({borderRadius:4*+a.borderRadius,border:"1px solid transparent"},n?{backgroundColor:r.secondary[200],"& td:first-child":{borderTopLeftRadius:20,borderBottomLeftRadius:20},"& td:last-child":{borderTopRightRadius:20,borderBottomRightRadius:20}}:{})})),Ir=(0,C.ZP)(b.Z)((function(e){var n=e.theme,t=n.palette,r=n.spacing,a=n.shape;return{position:"sticky",bottom:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",border:"solid 2px ".concat(t.grey[300]),borderRadius:a.borderRadius,marginTop:r(1),padding:r(1.5,4),backgroundColor:t.background.paper,"& > div":{}}})),Ar=(0,C.ZP)(jr.Z)((function(){return{}})),Rr=(0,C.ZP)(yr.Z)((function(e){var n=e.theme,t=n.palette,r=n.shape;return{height:26,minWidth:26,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:parseInt("".concat(r.borderRadius))/2,border:"solid 1px ".concat(t.grey[200])}})),Lr=(0,C.ZP)(wr.Z)((function(){return{transform:"rotate(90deg)"}})),Wr=t(54898),Dr=t(37355),Mr=t(82990),Tr=t(42161),Or=t(71358),zr=w.memo;function Fr(e){var n=e.columns,t=e.data,r=e.filters,a=e.rowsPerPage,i=e.useSorting,l=e.hiddenColumns,s=e.metaData,d=e.setPage,c=e.page,u=e.paginationType,h=e.disabled,m=e.dataLoading,f=e.noHeader,v=e.rowHighlight,g=e.size,x=(0,w.useMemo)((function(){return n}),[]),Z=(0,w.useMemo)((function(){return t}),[t]),b=[Or.useFilters];i&&b.push(Or.useSortBy),b.push(Or.usePagination);var j=Or.useTable.apply(void 0,[{columns:x,data:Z,initialState:{pageSize:a||8,pageIndex:0,hiddenColumns:l},manualPagination:!0,pageCount:"page_count"in s?null===s||void 0===s?void 0:s.page_count:0,autoResetPage:!1}].concat(b)),y=j.getTableProps,k=j.getTableBodyProps,P=j.headerGroups,C=j.prepareRow,_=j.setFilter,E=j.page,S=j.pageCount,I=j.gotoPage,A=j.setPageSize,R=j.canNextPage,L=j.state,W=L.pageIndex,D=L.pageSize;(0,w.useEffect)((function(){r&&Object.entries(r).forEach((function(e){var n=(0,p.Z)(e,2),t=n[0],r=n[1];return _(t,r)}))}),[r]),(0,w.useEffect)((function(){a&&(A(a),I(0))}),[a]);var M="cursor"===u,T=Math.abs(D-E.length),O=W*D+1,z=R?W*D+D:null===s||void 0===s?void 0:s.total_records;return(0,Le.jsxs)(rn.Z,{children:[(0,Le.jsx)(mr.Z,{component:Pr,sx:{width:"100%"},children:(0,Le.jsxs)(kr,(0,te.Z)((0,te.Z)({"aria-label":"customized table"},y()),{},{children:[!f&&(0,Le.jsx)(fr.Z,{children:P.map((function(e){return(0,Le.jsx)(Er,(0,te.Z)((0,te.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,n){return(0,Le.jsx)(_r,(0,te.Z)((0,te.Z)({},e.getHeaderProps(i?e.getSortByToggleProps():void 0)),{},{children:(0,Le.jsx)(rn.Z,{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",children:(0,Le.jsxs)(Le.Fragment,{children:[e.render("Header"),i&&(0,Le.jsx)(rn.Z,{component:"span",children:e.isSorted?e.isSortedDesc?(0,Le.jsx)(Wr.Z,{}):(0,Le.jsx)(Dr.Z,{}):e.canSort?(0,Le.jsx)(Lr,{}):null})]})})}))}))}))}))}),(0,Le.jsxs)(Cr,(0,te.Z)((0,te.Z)({},k()),{},{children:[E.map((function(e){return C(e),(0,Le.jsx)(Sr,(0,te.Z)((0,te.Z)({highlighted:Boolean(v)},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,Le.jsx)(_r,(0,te.Z)((0,te.Z)({},e.getCellProps()),{},{size:g,children:(0,Le.jsx)(o.Z,{variant:"body1",children:m?(0,Le.jsx)(Ee.Z,{variant:"rectangular",width:"100%",animation:"wave",children:(0,Le.jsx)(rn.Z,{sx:{visibility:"hidden"},children:e.render("Cell")})}):(0,Le.jsx)(Le.Fragment,{children:e.render("Cell")})})}))}))}))})),new Array(T).fill(0).map((function(){return(0,Le.jsx)(Sr,{highlighted:!1,sx:function(){return{backgroundColor:"transparent"}},children:(0,Le.jsx)(_r,{colSpan:n.length,children:m?(0,Le.jsx)(Ee.Z,{width:"100%",children:(0,Le.jsx)(o.Z,{children:"\xa0"})}):(0,Le.jsx)(o.Z,{variant:"body1",children:"\xa0"})})})}))]}))]}))}),(0,Le.jsxs)(Ir,{children:[(0,Le.jsx)(rn.Z,{children:(0,Le.jsx)(o.Z,{fontWeight:600,variant:"body2",children:"cursor"===u?"".concat((null===s||void 0===s?void 0:s.total_records)||""," total records"):"Showing ".concat(O," to ").concat(z," of ").concat((null===s||void 0===s?void 0:s.total_records)||"")})}),(0,Le.jsx)(rn.Z,{children:(0,Le.jsx)(Ar,{color:"primary",count:"page_count"in s?(null===s||void 0===s?void 0:s.page_count)||S:0,shape:"rounded",page:c,disabled:h,onChange:function(e,n){I(n-1),null===d||void 0===d||d(n)},renderItem:function(e){var n="next"===e.type?"forward":"backward",t="next"===e.type?!(null!==s&&void 0!==s&&s.hasNextPage):!(null!==s&&void 0!==s&&s.hasPreviousPage);return M&&"page"===e.type?null:"page"===e.type?(0,Le.jsx)(Rr,(0,te.Z)((0,te.Z)({},e),{},{components:{next:Mr.Z,previous:Tr.Z},onClick:function(n){null!==e&&void 0!==e&&e.page&&(I(e.page-1),null===d||void 0===d||d(e.page))}})):(0,Le.jsx)(Rr,(0,te.Z)((0,te.Z)((0,te.Z)({},e),{},{components:{next:Mr.Z,previous:Tr.Z}},M?{disabled:t}:{}),{},{onClick:M?function(){return null===d||void 0===d?void 0:d(null,n)}:e.onClick}))}})})]})]})}Fr.defaultProps={hiddenColumns:[],paginationType:"paged",dataLoading:!1,size:"small",rowHiglight:!1};var Gr,Nr,Ur,qr=zr(Fr),Hr=t(82167),Br=function(e,n,t){return(0,u.Z)(m().mark((function r(){var a,i,l;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,ne.v_)("http://dev-sso-app.attech-ltd.com/graphql",{query:e,variables:n},t);case 3:if(i=r.sent,!((null===(l=null===(a=i.data)||void 0===a?void 0:a.errors)||void 0===l?void 0:l.length)>0)){r.next=7;break}throw new Error(l[0].message);case 7:return r.abrupt("return",i.data);case 10:throw r.prev=10,r.t0=r.catch(0),new Error(r.t0.message);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))};!function(e){e.Application="application",e.User="user"}(Gr||(Gr={})),function(e){e.Backward="backward",e.Forward="forward"}(Nr||(Nr={})),function(e){e.PracticeAdmin="practice_admin",e.SubAdmin="sub_admin",e.SuperAdmin="super_admin"}(Ur||(Ur={}));var Vr,$r=function(e){var n=(0,w.useState)({roleName:null,direction:Nr.Forward,cursor:null,actionLevel:null}),t=(0,p.Z)(n,2),r=t[0],a=t[1],i=(0,w.useState)(r),l=(0,p.Z)(i,2),s=l[0],d=l[1],c=(0,w.useDeferredValue)(r),u=function(e,n){return(0,ee.useQuery)(void 0===e?["AuditTrails"]:["AuditTrails",e],Br("\n    query AuditTrails($actionLevel: ActionLevelEnum, $cursor: String, $direction: DirectionEnum, $endDateTime: String, $first: Int, $roleName: RoleEnum, $search: String, $startDateTime: String) {\n  userActions(\n    actionLevel: $actionLevel\n    cursor: $cursor\n    direction: $direction\n    endDateTime: $endDateTime\n    first: $first\n    roleName: $roleName\n    search: $search\n    startDateTime: $startDateTime\n  ) {\n    edges {\n      node {\n        actionDate\n        actionId\n        actionLabel\n        actionName\n        appName\n        actionLevel\n        id\n        idpUserEmail\n        idpUserName\n        idpUserId\n        roleName\n        status\n      }\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n      hasPreviousPage\n      pageCount\n      perPage\n      startCursor\n      totalRecords\n    }\n  }\n}\n    ",e),n)}(s,{keepPreviousData:!0,refetchOnWindowFocus:!1,select:(0,w.useCallback)((function(e){var n,t,r,a,i;return{actions:(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.userActions)||void 0===t||null===(r=t.edges)||void 0===r?void 0:r.map((function(e){return e.node})))||[],pageInfo:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.userActions)||void 0===i?void 0:i.pageInfo}}),[])}),h=u.data,m=u.isLoading,f=u.isFetching,g=u.isError,x=u.refetch,Z=h||{},b=Z.actions,j=Z.pageInfo;(0,w.useEffect)((function(){x()}),[c.direction,c.cursor]);var y=[{Header:"User",accessor:"idpUserName"},{Header:"Role",accessor:"roleName",Cell:function(e){var n=e.value;return n?String(n):"External user"}},{Header:"Action",accessor:"actionName"},{Header:"Type",accessor:"actionLevel"},{Header:"Status",accessor:"status"},{Header:"Date & Time",accessor:"actionDate",filter:function(e,n,t){return t&&(t[0]||t[1])?e.filter((function(e){return n.some((function(n){var r=e.values[n];return or()(r).isBetween(t[0],t[1])}))})):e},Cell:function(e){var n=e.row,t=or()(n.values.actionDate).format("DD/MM/YY"),r=or()(n.values.actionDate).format("hh:mm:ss");return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(o.Z,{children:t}),(0,Le.jsx)(o.Z,{variant:"caption",color:"text.mute",fontWeight:"bold",children:r})]})}}];return(0,Le.jsxs)(rn.Z,{children:[(0,Le.jsx)(o.Z,{component:"h1",color:"primary",variant:"h6",fontWeight:800,mb:4,children:"AUDIT TRAILS"}),(0,Le.jsxs)(v.Z,{mb:2,direction:{xs:"column",sm:"column",md:"row"},justifyContent:"space-between",gap:3,children:[(0,Le.jsxs)(v.Z,{direction:{xs:"column",sm:"row",md:"row"},alignItems:"center",spacing:{xs:3.5,sm:1,md:3.5},children:[(0,Le.jsx)(rn.Z,{flexGrow:2,width:"100%",children:(0,Le.jsx)(Dn,{label:"Search User",placeholder:"User name",value:r.search,onChange:function(e){a((0,te.Z)((0,te.Z)({},r),{},{search:e.target.value}))},startAdornment:(0,Le.jsx)(Hr.Z,{fontSize:"small",color:"action"}),size:"small",inputProps:{"aria-label":"Search record by user's name"}})}),(0,Le.jsx)(rn.Z,{flexGrow:1,width:"100%",children:(0,Le.jsxs)(kn,{label:"Select Role",placeholder:"Role",value:r.roleName,onChange:function(e){a((0,te.Z)((0,te.Z)({},r),{},{roleName:e||null}))},buttonProps:{"aria-label":"Filter by role, ".concat(r.roleName?"".concat(r.roleName," selected"):"")},children:[(0,Le.jsx)("option",{label:"Super Admin",value:Ur.SuperAdmin,children:"Super Admin"}),(0,Le.jsx)("option",{label:"Sub Admin",value:Ur.SubAdmin,children:"Sub Admin"}),(0,Le.jsx)("option",{label:"Practice Admin",value:Ur.PracticeAdmin,children:"Practice Admin"})]})}),(0,Le.jsx)(rn.Z,{flexGrow:3,width:"100%",children:(0,Le.jsx)(hr,{label:"Select Date",onChange:function(e,n){e&&e[0]&&e[1]?a((0,te.Z)((0,te.Z)({},r),{},{startDateTime:e[0].format("YYYY-MM-DD"),endDateTime:e[1].format("YYYY-MM-DD")})):a((0,te.Z)((0,te.Z)({},r),{},{startDateTime:null,endDateTime:null}))},startDate:r.startDateTime,endDate:r.endDateTime})})]}),(0,Le.jsx)(rn.Z,{alignSelf:"flex-end",justifySelf:"flex-end",children:(0,Le.jsx)(Ye.Z,{variant:"contained",onClick:function(){d((0,te.Z)((0,te.Z)({},r),{},{cursor:null,direction:Nr.Forward}))},"aria-label":"Search with filters",children:"Search"})})]}),g?(0,Le.jsx)(Sn,{}):(0,Le.jsx)(qr,{columns:y,data:b||[],paginationType:"cursor",rowsPerPage:(null===j||void 0===j?void 0:j.perPage)||0,setPage:function(e,n){n&&d((0,te.Z)((0,te.Z)({},s),{},{direction:n,cursor:n==Nr.Backward?null===j||void 0===j?void 0:j.startCursor:null===j||void 0===j?void 0:j.endCursor}))},metaData:{hasNextPage:null===j||void 0===j?void 0:j.hasNextPage,hasPreviousPage:null===j||void 0===j?void 0:j.hasPreviousPage,total_records:null===j||void 0===j?void 0:j.totalRecords},disabled:m||f,dataLoading:m||f})]})},Qr=t(39504),Yr=["title","titleId"];function Kr(){return Kr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Kr.apply(this,arguments)}function Xr(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function Jr(e,n){var t=e.title,r=e.titleId,a=Xr(e,Yr);return w.createElement("svg",Kr({xmlns:"http://www.w3.org/2000/svg",width:102.555,height:120.886,viewBox:"0 0 102.555 120.886",ref:n,"aria-labelledby":r},a),t?w.createElement("title",{id:r},t):null,Vr||(Vr=w.createElement("g",{id:"Group_8628","data-name":"Group 8628",transform:"translate(784.917 -917.58)"},w.createElement("g",{id:"Group_8634","data-name":"Group 8634",transform:"translate(-765.067 917.58)"},w.createElement("g",{id:"Group_8628-2","data-name":"Group 8628",transform:"translate(18.056 12.937)"},w.createElement("path",{id:"Path_3348","data-name":"Path 3348",d:"M-604.2,974.427a14.28,14.28,0,0,0-14.155,12.394h4.569a9.782,9.782,0,0,1,9.586-7.884,9.781,9.781,0,0,1,9.771,9.769,9.781,9.781,0,0,1-9.771,9.769,9.8,9.8,0,0,1-8.505-4.959h-4.942c.132.371.28.734.44,1.091a14.285,14.285,0,0,0,13.007,8.377,14.28,14.28,0,0,0,14.281-14.279A14.28,14.28,0,0,0-604.2,974.427Z",transform:"translate(618.351 -974.427)",fill:"#515aae"})),w.createElement("g",{id:"Group_8629","data-name":"Group 8629",transform:"translate(10.56)"},w.createElement("path",{id:"Path_3349","data-name":"Path 3349",d:"M-629.641,917.58A21.654,21.654,0,0,0-651.292,938.9h4.509a17.166,17.166,0,0,1,17.142-16.815A17.167,17.167,0,0,1-612.5,938.9h4.51A21.654,21.654,0,0,0-629.641,917.58Z",transform:"translate(651.292 -917.58)",fill:"#8246af"})),w.createElement("g",{id:"Group_8630","data-name":"Group 8630",transform:"translate(29.956 40.716)"},w.createElement("rect",{id:"Rectangle_3217","data-name":"Rectangle 3217",width:4.51,height:45.863,fill:"#515aae"})),w.createElement("g",{id:"Group_8631","data-name":"Group 8631",transform:"translate(29.956 82.069)"},w.createElement("rect",{id:"Rectangle_3218","data-name":"Rectangle 3218",width:12.045,height:4.51,fill:"#515aae"})),w.createElement("g",{id:"Group_8632","data-name":"Group 8632",transform:"translate(29.956 72.852)"},w.createElement("rect",{id:"Rectangle_3219","data-name":"Rectangle 3219",width:8.808,height:4.51,fill:"#515aae"})),w.createElement("g",{id:"Group_8633","data-name":"Group 8633",transform:"translate(0 24.685)"},w.createElement("path",{id:"Path_3350","data-name":"Path 3350",d:"M-645.617,1026.051h-4.773a15.4,15.4,0,0,1,.209,2.531,15.541,15.541,0,0,1-.126,1.979h4.69a7.847,7.847,0,0,1,7.837,7.838v27.982a7.837,7.837,0,0,1-7.837,7.838h-7.637a2.255,2.255,0,0,0-2.255,2.255h0a2.255,2.255,0,0,0,2.255,2.255h7.637a12.347,12.347,0,0,0,12.347-12.347V1038.4A12.347,12.347,0,0,0-645.617,1026.051Zm-52.076,12.347v27.982a12.347,12.347,0,0,0,12.347,12.347h17.609v-4.51h-17.609a7.837,7.837,0,0,1-7.837-7.838V1038.4a7.838,7.838,0,0,1,7.837-7.838h19.254a2.254,2.254,0,0,0,2.255-2.255h0a2.255,2.255,0,0,0-2.255-2.255h-19.254A12.347,12.347,0,0,0-697.693,1038.4Z",transform:"translate(697.693 -1026.051)",fill:"#8246af"}))),w.createElement("g",{id:"Group_8637","data-name":"Group 8637",transform:"translate(-784.917 1014.376)"},w.createElement("g",{id:"Group_8635","data-name":"Group 8635",transform:"translate(0 0)"},w.createElement("path",{id:"Path_3351","data-name":"Path 3351",d:"M-784.917,1344.6h8.308v2.835h-5.432v2.752h5.432v2.783h-5.432v4h5.432v2.845h-8.308Z",transform:"translate(784.917 -1344.221)",fill:"#363636"}),w.createElement("path",{id:"Path_3352","data-name":"Path 3352",d:"M-734.151,1344.6h9.208l-5.419,12.436h5.067v2.783h-9.3l5.394-12.354h-4.949Z",transform:"translate(746.048 -1344.221)",fill:"#363636"}),w.createElement("path",{id:"Path_3353","data-name":"Path 3353",d:"M-641.592,1344.6h2.9v12.457h4.221v2.763h-7.118Z",transform:"translate(674.209 -1344.221)",fill:"#363636"}),w.createElement("path",{id:"Path_3354","data-name":"Path 3354",d:"M-588.558,1342.921a7.559,7.559,0,0,1,5.554,2.338,7.781,7.781,0,0,1,2.325,5.7,7.694,7.694,0,0,1-2.294,5.639,7.553,7.553,0,0,1-5.564,2.307,7.551,7.551,0,0,1-5.694-2.37,7.862,7.862,0,0,1-2.267-5.628,7.9,7.9,0,0,1,1.056-4.015,7.82,7.82,0,0,1,2.9-2.9A7.808,7.808,0,0,1-588.558,1342.921Zm-.031,2.835a4.778,4.778,0,0,0-3.552,1.469,5.115,5.115,0,0,0-1.44,3.735,4.867,4.867,0,0,0,1.813,3.994,4.967,4.967,0,0,0,3.231,1.148,4.718,4.718,0,0,0,3.511-1.49,5.062,5.062,0,0,0,1.45-3.673,5.082,5.082,0,0,0-1.461-3.678A4.761,4.761,0,0,0-588.589,1345.756Z",transform:"translate(639.378 -1342.921)",fill:"#363636"}),w.createElement("path",{id:"Path_3355","data-name":"Path 3355",d:"M-495.8,1345.787l-2.04,2.017a6.032,6.032,0,0,0-4.515-2.049,5.16,5.16,0,0,0-3.764,1.49,4.885,4.885,0,0,0-1.517,3.621,5.012,5.012,0,0,0,1.574,3.735,5.355,5.355,0,0,0,3.884,1.531,4.768,4.768,0,0,0,2.532-.631,4.444,4.444,0,0,0,1.662-1.976h-4.408v-2.721h7.656l.02.641a7.453,7.453,0,0,1-1.034,3.787,7.235,7.235,0,0,1-2.68,2.731,7.637,7.637,0,0,1-3.859.942,8.57,8.57,0,0,1-4.227-1.03,7.526,7.526,0,0,1-2.938-2.933,8.179,8.179,0,0,1-1.081-4.107,7.633,7.633,0,0,1,2-5.256,7.872,7.872,0,0,1,6.166-2.659,9.4,9.4,0,0,1,3.714.734A8.52,8.52,0,0,1-495.8,1345.787Z",transform:"translate(572.975 -1342.921)",fill:"#363636"}),w.createElement("path",{id:"Path_3356","data-name":"Path 3356",d:"M-422.8,1344.6h2.876v15.219H-422.8Z",transform:"translate(505.205 -1344.221)",fill:"#363636"}),w.createElement("path",{id:"Path_3357","data-name":"Path 3357",d:"M-388.341,1344.6h2.779l6.512,10.015V1344.6h2.9v15.219h-2.787l-6.5-9.984v9.984h-2.9Z",transform:"translate(478.591 -1344.221)",fill:"#363636"})),w.createElement("g",{id:"Group_8636","data-name":"Group 8636",transform:"translate(0.159 19.396)"},w.createElement("path",{id:"Path_3358","data-name":"Path 3358",d:"M-782,1428.646l2.084,4.469h-.482l-.7-1.47h-1.925l-.7,1.47h-.5l2.111-4.469Zm-.056.949-.766,1.617h1.528Z",transform:"translate(784.219 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3359","data-name":"Path 3359",d:"M-752.347,1431.9l.38-.228q.4.738.927.738a.889.889,0,0,0,.422-.1.74.74,0,0,0,.3-.281.726.726,0,0,0,.1-.373.758.758,0,0,0-.152-.441,3.633,3.633,0,0,0-.766-.717,3.9,3.9,0,0,1-.7-.611,1.116,1.116,0,0,1-.237-.683,1.039,1.039,0,0,1,.14-.532,1,1,0,0,1,.393-.378,1.133,1.133,0,0,1,.551-.138,1.175,1.175,0,0,1,.591.156,2.026,2.026,0,0,1,.582.576l-.365.276a1.748,1.748,0,0,0-.43-.44.739.739,0,0,0-.387-.106.613.613,0,0,0-.442.164.536.536,0,0,0-.172.4.687.687,0,0,0,.061.282,1.035,1.035,0,0,0,.222.3q.088.085.577.447a3.252,3.252,0,0,1,.8.763,1.227,1.227,0,0,1,.216.671,1.14,1.14,0,0,1-.369.845,1.242,1.242,0,0,1-.9.358,1.318,1.318,0,0,1-.738-.217A1.985,1.985,0,0,1-752.347,1431.9Z",transform:"translate(759.6 -1428.152)",fill:"#363636"}),w.createElement("path",{id:"Path_3360","data-name":"Path 3360",d:"M-735.409,1433.115l.64-4.469h.073l1.817,3.667,1.8-3.667h.072l.643,4.469h-.438l-.442-3.2-1.58,3.2h-.114l-1.6-3.22-.439,3.22Z",transform:"translate(746.517 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3361","data-name":"Path 3361",d:"M-706.719,1428.646l2.084,4.469h-.482l-.7-1.47h-1.925l-.7,1.47h-.5l2.111-4.469Zm-.056.949-.766,1.617h1.527Z",transform:"translate(726.071 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3362","data-name":"Path 3362",d:"M-684.688,1428.646h.89a5.392,5.392,0,0,1,1.009.061,1.15,1.15,0,0,1,.647.391,1.116,1.116,0,0,1,.249.738,1.192,1.192,0,0,1-.172.642,1.07,1.07,0,0,1-.491.418,2.258,2.258,0,0,1-.881.145l1.607,2.075h-.553l-1.607-2.075h-.253v2.075h-.446Zm.446.438v1.519l.77.006a1.909,1.909,0,0,0,.662-.085.69.69,0,0,0,.335-.272.756.756,0,0,0,.12-.418.723.723,0,0,0-.122-.409.676.676,0,0,0-.319-.263,1.94,1.94,0,0,0-.657-.079Z",transform:"translate(707.339 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3363","data-name":"Path 3363",d:"M-667.964,1429.083v-.437h2.448v.438h-1v4.031h-.456v-4.031Z",transform:"translate(694.42 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3364","data-name":"Path 3364",d:"M-642.431,1428.646h.456v1.677l1.786-1.677h.6l-2.146,2.005,2.314,2.464h-.595l-1.958-2.082v2.082h-.456Z",transform:"translate(674.698 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3365","data-name":"Path 3365",d:"M-624.079,1428.646h2.561v.438h-2.114v1.4h2.1v.438h-2.1v1.756h2.1v.437h-2.543Z",transform:"translate(660.522 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3366","data-name":"Path 3366",d:"M-608.8,1428.646h.514l1.143,1.843,1.126-1.843h.516l-1.416,2.333v2.136h-.44v-2.136Z",transform:"translate(648.718 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3367","data-name":"Path 3367",d:"M-581.075,1429.083v-.437h2.448v.438h-1v4.031h-.456v-4.031Z",transform:"translate(627.305 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3368","data-name":"Path 3368",d:"M-563.841,1428.152a2.319,2.319,0,0,1,1.7.677,2.256,2.256,0,0,1,.684,1.668,2.267,2.267,0,0,1-.682,1.665,2.262,2.262,0,0,1-1.664.684,2.287,2.287,0,0,1-1.678-.68,2.237,2.237,0,0,1-.684-1.647,2.383,2.383,0,0,1,.312-1.194,2.268,2.268,0,0,1,.85-.861A2.284,2.284,0,0,1-563.841,1428.152Zm.02.434a1.842,1.842,0,0,0-.94.258,1.862,1.862,0,0,0-.694.7,1.938,1.938,0,0,0-.249.976,1.824,1.824,0,0,0,.552,1.346,1.82,1.82,0,0,0,1.331.549,1.91,1.91,0,0,0,.963-.252,1.805,1.805,0,0,0,.691-.69,1.937,1.937,0,0,0,.248-.973,1.891,1.891,0,0,0-.248-.963,1.853,1.853,0,0,0-.7-.689A1.89,1.89,0,0,0-563.822,1428.586Z",transform:"translate(615.79 -1428.152)",fill:"#363636"}),w.createElement("path",{id:"Path_3369","data-name":"Path 3369",d:"M-529.582,1428.646h2.561v.438h-2.114v1.4h2.1v.438h-2.1v1.756h2.1v.437h-2.543Z",transform:"translate(587.531 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3370","data-name":"Path 3370",d:"M-514.193,1429.077v-.431h2.357l-1.867,4.031h1.773v.437h-2.464l1.883-4.037Z",transform:"translate(575.799 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3371","data-name":"Path 3371",d:"M-487.7,1428.646h.89a5.149,5.149,0,0,1,1.033.067,1.149,1.149,0,0,1,.626.387,1.115,1.115,0,0,1,.243.737,1.126,1.126,0,0,1-.237.737,1.167,1.167,0,0,1-.653.39,5.783,5.783,0,0,1-1.136.073h-.319v2.078h-.447Zm.447.438v1.516l.756.009a1.976,1.976,0,0,0,.671-.083.689.689,0,0,0,.334-.27.749.749,0,0,0,.121-.417.739.739,0,0,0-.121-.411.672.672,0,0,0-.32-.265,1.924,1.924,0,0,0-.652-.079Z",transform:"translate(555.179 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3372","data-name":"Path 3372",d:"M-469.214,1428.646h.89a5.392,5.392,0,0,1,1.009.061,1.15,1.15,0,0,1,.647.391,1.116,1.116,0,0,1,.249.738,1.194,1.194,0,0,1-.172.642,1.069,1.069,0,0,1-.491.418,2.258,2.258,0,0,1-.881.145l1.607,2.075h-.553l-1.607-2.075h-.252v2.075h-.447Zm.447.438v1.519l.77.006a1.909,1.909,0,0,0,.662-.085.688.688,0,0,0,.335-.272.756.756,0,0,0,.12-.418.723.723,0,0,0-.122-.409.678.678,0,0,0-.319-.263,1.94,1.94,0,0,0-.657-.079Z",transform:"translate(540.901 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3373","data-name":"Path 3373",d:"M-449.082,1428.152a2.319,2.319,0,0,1,1.7.677,2.256,2.256,0,0,1,.684,1.668,2.267,2.267,0,0,1-.682,1.665,2.262,2.262,0,0,1-1.664.684,2.287,2.287,0,0,1-1.678-.68,2.237,2.237,0,0,1-.684-1.647,2.384,2.384,0,0,1,.312-1.194,2.269,2.269,0,0,1,.85-.861A2.285,2.285,0,0,1-449.082,1428.152Zm.02.434a1.841,1.841,0,0,0-.94.258,1.86,1.86,0,0,0-.694.7,1.933,1.933,0,0,0-.25.976,1.824,1.824,0,0,0,.552,1.346,1.82,1.82,0,0,0,1.331.549,1.911,1.911,0,0,0,.963-.252,1.806,1.806,0,0,0,.691-.69,1.937,1.937,0,0,0,.248-.973,1.891,1.891,0,0,0-.248-.963,1.855,1.855,0,0,0-.7-.689A1.891,1.891,0,0,0-449.063,1428.586Z",transform:"translate(527.147 -1428.152)",fill:"#363636"}),w.createElement("path",{id:"Path_3374","data-name":"Path 3374",d:"M-424.592,1433.115v-4.469h.926a4.727,4.727,0,0,1,1.455.161,1.943,1.943,0,0,1,1.016.79,2.4,2.4,0,0,1,.366,1.339,2.351,2.351,0,0,1-.29,1.182,1.861,1.861,0,0,1-.753.753,2.836,2.836,0,0,1-1.3.243Zm.428-.422h.517a4.806,4.806,0,0,0,1.285-.115,1.48,1.48,0,0,0,.793-.59,1.819,1.819,0,0,0,.289-1.043,1.912,1.912,0,0,0-.313-1.1,1.573,1.573,0,0,0-.872-.628,5.263,5.263,0,0,0-1.382-.127h-.316Z",transform:"translate(506.433 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3375","data-name":"Path 3375",d:"M-401.995,1428.646h.447v2.7a5.555,5.555,0,0,0,.018.6.991.991,0,0,0,.155.442.91.91,0,0,0,.373.3,1.168,1.168,0,0,0,.507.12,1,1,0,0,0,.425-.094.949.949,0,0,0,.34-.261,1.07,1.07,0,0,0,.2-.4,3.355,3.355,0,0,0,.046-.7v-2.7h.446v2.7a3.288,3.288,0,0,1-.117.968,1.317,1.317,0,0,1-.468.643,1.34,1.34,0,0,1-.849.273,1.628,1.628,0,0,1-.926-.258,1.246,1.246,0,0,1-.517-.684,3.621,3.621,0,0,1-.082-.942Z",transform:"translate(488.979 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3376","data-name":"Path 3376",d:"M-378.514,1429.094l-.352.27a1.926,1.926,0,0,0-.7-.576,2.047,2.047,0,0,0-.9-.2,1.982,1.982,0,0,0-.99.257,1.842,1.842,0,0,0-.706.69,1.907,1.907,0,0,0-.251.974,1.828,1.828,0,0,0,.561,1.364,1.941,1.941,0,0,0,1.414.547,1.989,1.989,0,0,0,1.571-.735l.352.267a2.25,2.25,0,0,1-.834.657,2.613,2.613,0,0,1-1.116.233,2.323,2.323,0,0,1-1.85-.781,2.356,2.356,0,0,1-.568-1.592,2.213,2.213,0,0,1,.688-1.651,2.372,2.372,0,0,1,1.724-.67,2.529,2.529,0,0,1,1.13.248A2.194,2.194,0,0,1-378.514,1429.094Z",transform:"translate(474.215 -1428.152)",fill:"#363636"}),w.createElement("path",{id:"Path_3377","data-name":"Path 3377",d:"M-359.51,1429.083v-.437h2.448v.438h-1v4.031h-.456v-4.031Z",transform:"translate(456.162 -1428.534)",fill:"#363636"}),w.createElement("path",{id:"Path_3378","data-name":"Path 3378",d:"M-345.763,1431.9l.38-.228q.4.738.927.738a.888.888,0,0,0,.422-.1.74.74,0,0,0,.3-.281.726.726,0,0,0,.1-.373.756.756,0,0,0-.152-.441,3.629,3.629,0,0,0-.765-.717,3.892,3.892,0,0,1-.7-.611,1.115,1.115,0,0,1-.237-.683,1.038,1.038,0,0,1,.14-.532,1,1,0,0,1,.393-.378,1.134,1.134,0,0,1,.551-.138,1.175,1.175,0,0,1,.591.156,2.026,2.026,0,0,1,.582.576l-.365.276a1.743,1.743,0,0,0-.43-.44.739.739,0,0,0-.387-.106.613.613,0,0,0-.442.164.536.536,0,0,0-.172.4.691.691,0,0,0,.061.282,1.044,1.044,0,0,0,.222.3q.088.085.577.447a3.251,3.251,0,0,1,.8.763,1.227,1.227,0,0,1,.216.671,1.139,1.139,0,0,1-.369.845,1.241,1.241,0,0,1-.9.358,1.317,1.317,0,0,1-.738-.217A1.983,1.983,0,0,1-345.763,1431.9Z",transform:"translate(445.544 -1428.152)",fill:"#363636"}))))))}var ea=w.forwardRef(Jr),na=(t.p,{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",gap:"1rem",width:"100%",marginBottom:"6rem"}),ta=function(e){var n=e.loading,t=void 0!==n&&n,r=e.children;return(0,Le.jsxs)(b.Z,{sx:na,children:[(0,Le.jsx)(b.Z,{children:(0,Le.jsx)(ea,{})}),(0,Le.jsxs)(se.Z,{sx:{width:"clamp(18rem,90%,31rem)",minHeight:"max-content",display:"flex",flexDirection:"column",borderRadius:2.5,"&.MuiCard-root":{borderRadius:"1.875rem"}},elevation:11,variant:"elevation",raised:!0,children:[t&&(0,Le.jsx)(ie.Z,{}),(0,Le.jsx)(Qr.Z,{sx:{m:3},children:r})]})]})},ra=(0,He.Z)(v.Z)((function(){return{maxHeight:500,overflow:"auto"}})),aa=(0,He.Z)(rn.Z)((function(){return{display:"flex",width:"100%"}})),ia=(0,C.ZP)("form")((function(){return{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),la=["handleSubmit","setError","reset"];function oa(e){var n=e.email;return(0,ne.v_)("change-password",{email:n})}var sa=Ce.Ry({email:Ce.Z_().email().required()}).required(),da=function(){(0,s.s0)();var e=(0,Ae.b)(),n=(0,oe.cI)({defaultValues:{email:""},resolver:(0,Pe.X)(sa)}),t=n.handleSubmit,r=n.setError,a=n.reset,i=(0,re.Z)(n,la),l=(0,te.Z)({handleSubmit:t,setError:r,reset:a},i),d=(0,ee.useMutation)(oa,{onSuccess:function(n){console.log("DATA:",n);var t=n.data.message;null===e||void 0===e||e.setAlert({show:!0,message:t,status:"success"}),a()},onError:function(e){var n=e.response;if(n){var t=n.data.message;r("email",{type:"server",message:t})}}}),c=d.mutate,u=d.isLoading;return(0,Le.jsx)(oe.RV,(0,te.Z)((0,te.Z)({},l),{},{children:(0,Le.jsx)(ia,{onSubmit:t((function(e){var n=null===e||void 0===e?void 0:e.email;n&&c({email:n})})),children:(0,Le.jsx)(ta,{children:(0,Le.jsxs)(v.Z,{spacing:1,children:[(0,Le.jsx)(o.Z,{variant:"h5",fontWeight:600,children:"Forgot password"}),(0,Le.jsxs)(ra,{spacing:3,children:[(0,Le.jsxs)(o.Z,{variant:"body1",children:["Enter your registered email address"," "]}),(0,Le.jsx)(Qe,{placeholder:"Enter registered email",type:"email",fullWidth:!0,variant:"outlined",name:"email",label:"Email"}),(0,Le.jsx)(aa,{children:(0,Le.jsx)(Je,{disabled:u,type:"submit",sx:{mr:"auto"},variant:"contained",children:"Send Email"})})]})]})})})}))},ca=t(95193),ua=t(48980),pa=function(e){var n=e.icon,t=e.disabled,r=e.name;return(0,Le.jsx)(b.Z,{sx:{filter:t?"grayscale(100%)":"none"},children:(0,Le.jsx)("img",{alt:r,width:"50px",height:"50px",draggable:!1,src:"".concat("http://dev-sso-app.attech-ltd.com/api/v1","/").concat(n)})})},ha=t(12065),ma={"dr-iq":"#d9ebff","ez-doc":"#ffd6ff","ez-path":"#e1d5fd","ez-analytics":"#fcd5ff","ez-nav":"#dcd0fa","ez-web":"#d5e3ff","ez-login":"#ecc6ff"},fa=(0,C.ZP)(se.Z,{shouldForwardProp:function(e){return!["disabled","isBordered","name"].includes(e)}})((function(e){var n,t=e.theme,r=t.palette,a=t.spacing,i=e.disabled,l=e.name,o=e.isBordered;return(0,te.Z)((0,te.Z)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:a(2),width:"155px",height:"149px",borderRadius:"25px",opacity:i?.3:1,backgroundColor:i?r.grey[300]:l?(0,ha.Fq)(ma[l],.3):"transparent",boxShadow:"none"},o&&{backgroundColor:"transparent",border:"1px solid ".concat(null===(n=r.grey)||void 0===n?void 0:n[300])}),{},{position:"relative"})})),va=(0,C.ZP)(b.Z)((function(e){var n=e.theme,t=n.spacing;n.palette;return{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(150px,1fr))",gap:t(4),justifyItems:"center"}}));function ga(){return(0,ne.U2)("user/selected/apps")}var xa=function(e){var n,t=e.isBordered,r=void 0!==t&&t,a=(0,ee.useQuery)("userSplist",ga),i=a.data,l=a.isLoading,s=a.isError,d=(a.error,null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.selected_unselected_sp_apps),c=function(e){var n=e.host,t=e.selected,r=e.children;return t?(0,Le.jsx)("a",{target:"_blank",href:"http://".concat(n),children:r}):(0,Le.jsx)(X.rU,{to:"",style:{position:"relative",pointerEvents:"none"},children:r})};return l?(0,Le.jsx)(va,{children:Array(7).fill(!0).map((function(e,n){return(0,Le.jsx)(Ee.Z,{variant:"rectangular",children:(0,Le.jsx)(fa,{disabled:!0},n)},n)}))}):s?(0,Le.jsx)(Sn,{}):null!==d&&void 0!==d&&d.length?(0,Le.jsx)(va,{children:null===d||void 0===d?void 0:d.map((function(e){var n=e.id,t=e.name,a=e.sp_app_name,i=e.is_selected,l=e.logo_url,s=e.host_url;return(0,Le.jsx)(x.Z,{title:i?"Go to ".concat(t):"Contact support to unlock ".concat(t),placement:"top",TransitionComponent:ua.Z,children:(0,Le.jsx)(b.Z,{children:(0,Le.jsxs)(c,{host:s,selected:i,children:[(0,Le.jsx)(b.Z,{sx:{position:"absolute",top:15,right:15},children:!i&&(0,Le.jsx)(G.Z,{color:"primary",fontSize:"small"})}),(0,Le.jsxs)(fa,{name:t,disabled:!i,isBordered:r,children:[(0,Le.jsx)(pa,{icon:l,disabled:!i,name:t}),(0,Le.jsx)(o.Z,{fontWeight:"bold",variant:"body2",children:a})]},n)]})})},a)}))}):(0,Le.jsx)(o.Z,{textAlign:"center",variant:"body1",children:"No Product available"})};(0,C.ZP)(br.Z)((function(e){var n=e.theme.spacing;return{borderCollapse:"separate",borderSpacing:"0 ".concat(n(.3))}})),(0,C.ZP)(b.Z)((function(e){e.theme.shape;return{}})),(0,C.ZP)(Zr.Z)((function(e){e.theme.palette;return{}})),(0,C.ZP)(vr.Z)((function(e){var n=e.theme,t=(n.shape,n.palette);return(0,P.Z)({border:"none"},"&.".concat(gr.Z.head),{fontWeight:"bold",color:t.text.mute,borderBottom:"2px solid lightgrey"})})),(0,C.ZP)(xr.Z)((function(e){var n=e.theme,t=n.palette;n.spacing;return{backgroundColor:t.background.paper,border:"2px solid green"}})),(0,C.ZP)(xr.Z)((function(e){var n=e.theme,t=n.palette;n.spacing;return{backgroundColor:t.background.paper,"&:nth-of-type(even)":{backgroundColor:t.action.hover}}})),(0,C.ZP)(b.Z)((function(e){var n=e.theme,t=n.palette,r=n.spacing;return{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",border:"solid 1px ".concat(t.grey[300]),marginTop:r(1),padding:r(2),backgroundColor:t.background.paper,"& > div":{}}})),(0,C.ZP)(jr.Z)((function(){return{}})),(0,C.ZP)(yr.Z)((function(e){var n=e.theme,t=n.palette,r=n.shape;return{height:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:parseInt("".concat(r.borderRadius))/2,border:"solid 1px ".concat(t.grey[200])}}));function Za(e,n,t,r,a){return{name:e,calories:n,fat:t,carbs:r,protein:a}}Za("Frozen yoghurt",159,6,24,4),Za("Ice cream sandwich",237,9,37,4.3),Za("Eclair",262,16,24,6),Za("Cupcake",305,3.7,67,4.3),Za("Gingerbread",356,16,49,3.9);var ba=t(5125),ja=t(30456);t.p;t.p;t.p;t.p;t.p;t.p;t.p;var ya=function(){var e=(0,ba.Z)("access_token").storedValue,n=(0,ja.Z)(e).sub,t=(0,w.useState)({actionLevel:Gr.User,first:5,userEmail:n}),r=(0,p.Z)(t,2),a=r[0],i=r[1],l=[{Header:"Product",accessor:"displayName",width:500,Cell:function(e){var n=e.row,t=e.value,r=e.column;if("string"==typeof t)return(0,Le.jsxs)(b.Z,{display:"flex",alignItems:"center",gap:"1rem",children:[(0,Le.jsx)("img",{width:30,height:"auto",src:"".concat("http://dev-sso-app.attech-ltd.com/api/v1","/").concat(n.original.logo)}),(0,Le.jsxs)(b.Z,{children:[(0,Le.jsx)(o.Z,{variant:"caption",color:"grey.500",fontWeight:"bold",children:r.render("Header")}),(0,Le.jsx)(o.Z,{fontWeight:600,children:t})]})]})}},{Header:"Date & time",accessor:"actionDate",Cell:function(e){var n=e.row,t=e.column,r=or()(new Date("".concat(n.values.actionDate,"Z")).toLocaleString("en-US",{timeZone:"Europe/London"}).toString()).format("dddd, Do MMM YYYY, h:mm A");return(0,Le.jsxs)(b.Z,{children:[(0,Le.jsx)(o.Z,{variant:"caption",color:"grey.500",fontWeight:"bold",children:t.render("Header")}),(0,Le.jsx)(o.Z,{variant:"subtitle2",fontWeight:"bold",children:r})]})},width:300},{id:"duration",Header:"Duration",Cell:function(e){var n=e.row,t=e.column,r=or()(new Date("".concat(n.values.actionDate,"Z")).toLocaleString("en-US",{timeZone:"Europe/London"}).toString()).from((new Date).toLocaleString("en-US",{timeZone:"Europe/London"}).toString());return(0,Le.jsxs)(b.Z,{children:[(0,Le.jsx)(o.Z,{variant:"caption",color:"grey.500",fontWeight:"bold",children:t.render("Header")}),(0,Le.jsx)(o.Z,{variant:"subtitle2",fontWeight:"bold",children:r})]})},width:200}],s=function(e,n){return(0,ee.useQuery)(void 0===e?["ActivityLog"]:["ActivityLog",e],Br("\n    query ActivityLog($actionLevel: ActionLevelEnum, $cursor: String, $direction: DirectionEnum, $first: Int, $search: String, $userEmail: String) {\n  userActions(\n    actionLevel: $actionLevel\n    cursor: $cursor\n    direction: $direction\n    first: $first\n    search: $search\n    userEmail: $userEmail\n  ) {\n    edges {\n      node {\n        appName\n        actionDate\n        displayName\n        logo\n      }\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n      hasPreviousPage\n      pageCount\n      perPage\n      startCursor\n      totalRecords\n    }\n  }\n}\n    ",e),n)}(a,{keepPreviousData:!0,refetchOnWindowFocus:!1,select:(0,w.useCallback)((function(e){var n,t,r,a,i;return{actions:(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.userActions)||void 0===t||null===(r=t.edges)||void 0===r?void 0:r.map((function(e){return e.node})))||[],pageInfo:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.userActions)||void 0===i?void 0:i.pageInfo}}),[])}),d=s.data,c=s.isLoading,u=s.isFetching,h=s.isError,m=d||{},f=m.actions,v=m.pageInfo;return h?(0,Le.jsx)(Sn,{}):(0,Le.jsx)(qr,{columns:l,data:f||[],metaData:{hasNextPage:null===v||void 0===v?void 0:v.hasNextPage,hasPreviousPage:null===v||void 0===v?void 0:v.hasPreviousPage,total_records:null===v||void 0===v?void 0:v.totalRecords},disabled:c||u,dataLoading:c||u,paginationType:"cursor",rowsPerPage:(null===v||void 0===v?void 0:v.perPage)||0,setPage:function(e,n){n&&i((0,te.Z)((0,te.Z)({},a),{},{direction:n,cursor:n==Nr.Backward?null===v||void 0===v?void 0:v.startCursor:null===v||void 0===v?void 0:v.endCursor}))},noHeader:!0,rowHighlight:!0,size:"medium"})};var wa=function(){var e=(0,rr.Z)();return(0,ca.Z)(e.breakpoints.down("md")),(0,Le.jsx)(c.Z,{maxWidth:"xl",children:(0,Le.jsx)(b.Z,{children:(0,Le.jsx)(f.ZP,{container:!0,spacing:3,children:(0,Le.jsx)(f.ZP,{item:!0,xs:12,children:(0,Le.jsxs)(v.Z,{spacing:3,children:[(0,Le.jsx)(o.Z,{fontWeight:"bold",variant:"h6",children:"Products"}),(0,Le.jsx)(xa,{}),(0,Le.jsxs)(v.Z,{spacing:2,children:[(0,Le.jsx)(o.Z,{fontWeight:"bold",variant:"h6",children:"Activity logs"}),(0,Le.jsx)(ya,{})]})]})})})})})},ka=(0,C.ZP)(xt.Z)((function(e){var n=e.theme;return{width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:"dark"===n.palette.mode?"#2ECA45":"#65C466",opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:"light"===n.palette.mode?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:13,backgroundColor:"light"===n.palette.mode?"#E9E9EA":"#39393D",opacity:1,transition:n.transitions.create(["background-color"],{duration:500})}}})),Pa=function(e){return(0,Le.jsx)("div",{children:(0,Le.jsx)(ka,(0,te.Z)({},e))})},Ca=function(e){var n=e.spacing,t=void 0===n?1:n,r=e.children;return(0,Le.jsx)(ra,{direction:"column",alignItems:"flex-start",spacing:t,children:r})},_a=function(){return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(o.Z,{variant:"h5",fontWeight:600,children:"SIGN IN"}),(0,Le.jsxs)(Ca,{spacing:2,children:[(0,Le.jsx)(o.Z,{variant:"body1",children:"Continue to Ez login"}),(0,Le.jsx)(Qe,{label:"Email",placeholder:"Email",type:"email",fullWidth:!0,variant:"outlined",name:"email"})]})]})},Ea=t(29569),Sa=t(3710),Ia=(0,He.Z)(qe.Z)((function(e){return{"& .MuiFilledInput-root":{backgroundColor:e.theme.palette.secondary[500],border:"none",borderBottomRightRadius:"4px",borderBottomLeftRadius:"4px","& input":{padding:"16.5px 14px"},"&::before":{border:"none"},"&::after":{border:"none"},"&:hover:not(.Mui-disabled):before":{border:"none"}}}})),Aa=function(){var e=(0,oe.Gc)().register,n=(0,w.useState)(!1),t=(0,p.Z)(n,2),r=t[0],a=t[1];return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(o.Z,{variant:"h5",fontWeight:600,children:"SIGN IN"}),(0,Le.jsxs)(Ca,{spacing:2,children:[(0,Le.jsx)(o.Z,{variant:"body1",children:"Continue to Ez login"}),(0,Le.jsx)(Ia,(0,te.Z)((0,te.Z)({},e("email")),{},{placeholder:"Email",type:"email",fullWidth:!0,variant:"outlined",label:"Email"})),(0,Le.jsx)(Qe,{label:"Password",name:"password",variant:"outlined",type:r?"text":"password",placeholder:"Password",fullWidth:!0,InputProps:{endAdornment:(0,Le.jsx)(Ge.Z,{position:"end",children:(0,Le.jsx)(g.Z,{onClick:function(){a(!r)},"aria-label":"toggle password visibility",edge:"end",children:r?(0,Le.jsx)(Ea.Z,{}):(0,Le.jsx)(Sa.Z,{})})})}})]})]})},Ra=Ce.Ry({email:Ce.Z_().email("Invalid email").required("Email required"),password:Ce.Z_().when("$step",(function(e,n){return"login"===e?n.min(4).required():n})),otp:Ce.Z_().when("$step",(function(e,n){return"otp-verifier"===e?n.required("Please enter OTP"):n})),appsData:Ce.IX().of(Ce.Ry().shape({id:Ce.Rx(),display_name:Ce.Z_(),name:Ce.Z_(),info:Ce.Z_(),host:Ce.Z_(),sp_metadata:Ce.Z_(),logo_url:Ce.Z_(),is_active:Ce.O7(),created_date:Ce.hT(),updated_date:Ce.hT(),email_verification_url:Ce.Z_(),selected:Ce.O7().default(!1)})).when("$step",(function(e,n){return"email-products"==e?n.test("selected_test","Please select at least one app",(function(e,n){return e.some((function(e){return e.selected}))})):n}))}).required(),La=t(26624),Wa=function(e){return(0,Le.jsx)(b.Z,{sx:{width:180,height:180,background:function(e){var n,t;return null===(n=(t=e.palette.background).backgroundGradientMulti)||void 0===n?void 0:n.call(t,"63deg")},borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2},children:(0,Le.jsxs)(b.Z,{sx:{position:"relative",display:"inline-flex",boxShadow:"0px 0px 9px 1px #dddddd",borderRadius:"50%"},children:[(0,Le.jsx)(Ie.Z,(0,te.Z)((0,te.Z)({variant:"determinate",sx:{backgroundColor:"#ffffff",borderRadius:"50%",color:function(e){return e.palette.grey["light"===e.palette.mode?200:800]}},size:150,thickness:2},e),{},{value:100})),(0,Le.jsx)(Ie.Z,(0,te.Z)((0,te.Z)({variant:"determinate",sx:(0,P.Z)({animationDuration:"550ms",position:"absolute",left:0},"& .".concat(La.Z.circle),{strokeLinecap:"round"}),size:150,thickness:2},e),{},{value:Math.round(e.value/e.total*100)})),(0,Le.jsx)(b.Z,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Le.jsxs)(b.Z,{children:[(0,Le.jsx)(o.Z,{fontWeight:"bold",textAlign:"center",variant:"h4",children:e.value}),(0,Le.jsx)(o.Z,{variant:"subtitle2",color:"text.secondary",children:"Seconds"})]})})]})})},Da=function(e){e.redirect_url;var n=e.saml_response,t=e.formRef,r=(0,w.useState)(5),a=(0,p.Z)(r,2),i=a[0],l=a[1];return(0,w.useEffect)((function(){var e=setTimeout((function(){var e;console.log("Timer: ",t.current),null===(e=t.current)||void 0===e||e.submit()}),5e3),n=setInterval((function(){l((function(e){return e<=0?(console.log("Prev",e),clearTimeout(n),0):e-1}))}),1e3);return function(){clearInterval(n),clearTimeout(e)}}),[]),(0,Le.jsxs)(b.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,Le.jsx)(Wa,{value:i,total:5}),(0,Le.jsx)(o.Z,{fontWeight:"bold",variant:"h5",children:"Please wait!"}),(0,Le.jsx)(o.Z,{variant:"subtitle1",children:"You're being redirected..."}),(0,Le.jsxs)(b.Z,{display:"flex",alignItems:"center",justifyContent:"center",component:o.Z,variant:"subtitle1",children:["If you haven't been redirected, \xa0",(0,Le.jsx)(y.Z,{underline:"hover",component:"button",type:"submit",children:"Click here"})]}),(0,Le.jsx)("input",{type:"hidden",name:"SAMLResponse",value:n}),(0,Le.jsx)("input",{type:"hidden",name:"RelayState",value:"/whoami"})]})},Ma=t(13208),Ta=t(79012),Oa=t(47071),za=(0,C.ZP)("img")((function(e){e.theme.palette;return{maxWidth:"100%",height:"100%"}})),Fa=(0,C.ZP)(b.Z)((function(e){var n,t=e.theme,r=t.palette;return{width:"50px",height:"50px",padding:(0,t.spacing)(.8),backgroundColor:null===(n=r.grey)||void 0===n?void 0:n.A700,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}})),Ga=(0,C.ZP)(b.Z)((function(e){var n=e.theme;n.palette;return{display:"flex",alignItems:"center",gap:(0,n.spacing)(2)}})),Na=function(e){var n=e.fields,t=e.handleBackStep,r=e.disabled,a=(0,oe.Gc)(),i=a.getValues,l=(0,a.getFieldState)("appsData",a.formState).error;return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(o.Z,{variant:"h5",fontWeight:600,children:"SIGN IN"}),(0,Le.jsxs)(Ca,{spacing:2,children:[(0,Le.jsxs)(b.Z,{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1,fontWeight:"medium",component:o.Z,variant:"subtitle1",children:[r&&(0,Le.jsx)(x.Z,{placement:"top",arrow:!0,title:"Choose apps",children:(0,Le.jsx)(N.Z,{onClick:t,color:"primary"})}),(0,Le.jsx)(o.Z,{fontWeight:"inherit",variant:"subtitle1",color:"primary",component:"span",children:i("email")}),"found in:"]}),(0,Le.jsx)(Ma.Z,{in:!0,children:(0,Le.jsxs)(Ta.Z,{sx:{gap:"1rem"},children:[n.map((function(e,n){var t=e.display_name,a=e.logo_url,i=(e.id,e.name);return(0,Le.jsx)(Qe,{disabled:r,name:"appsData.".concat(n,".selected"),variant:"outlined",type:"checkbox",label:(0,Le.jsxs)(Ga,{children:[(0,Le.jsx)(Fa,{children:(0,Le.jsx)(za,{src:"".concat("http://dev-sso-app.attech-ltd.com/api/v1","/").concat(a),alt:"i"})}),(0,Le.jsx)(o.Z,{fontWeight:"bold",variant:"subtitle1",component:"span",color:"#050303",children:t})]})},"".concat(i,"-").concat(n))})),!(null===l||void 0===l||!l.message)&&(0,Le.jsx)(Oa.Z,{error:!0,children:(0,Le.jsx)(Ve,{text:l.message})})]})})]})]})},Ua=function(e){var n=e.handleResendCode,t=(0,oe.Gc)(),r=t.control,a=t.getValues,i=(0,t.getFieldState)("otp",t.formState).error;return(0,Le.jsx)(Ma.Z,{in:!0,children:(0,Le.jsxs)(b.Z,{bgcolor:"##fafafa",children:[(0,Le.jsx)(o.Z,{fontWeight:"medium",variant:"subtitle1",children:"Enter the code we just sent to"}),(0,Le.jsx)(o.Z,{fontWeight:"medium",variant:"subtitle1",color:"primary",children:a("email")}),(0,Le.jsx)(oe.Qr,{name:"otp",control:r,render:function(e){var n=e.field,t=n.onChange,r=n.ref;return(0,Le.jsx)(mt,{my:1,children:(0,Le.jsx)(ht.Z,{ref:r,isPassword:!0,ariaLabel:"please enter the otp",autoFocus:!0,length:4,onChange:t,containerClassName:"auth-container",inputClassName:"auth-input"})})}}),(0,Le.jsxs)(b.Z,{component:o.Z,display:"flex",alignItems:"center",flexWrap:"wrap",color:"text",fontWeight:"medium",children:["Didn't get the code? \xa0",(0,Le.jsx)(y.Z,{color:"primary",onClick:n,children:"Resend Code"})]}),!(null===i||void 0===i||!i.message)&&(0,Le.jsx)(Oa.Z,{error:!0,children:(0,Le.jsx)(Ve,{text:i.message})})]})})},qa=["register","handleSubmit","control","formState","setError","reset","getValues"];function Ha(e){return e.reduce((function(e,n){return n.selected?[].concat((0,yt.Z)(e),[String(n.id)]):e}),[])}var Ba=function(){var e=(0,w.useState)("email-verifier"),n=(0,p.Z)(e,2),t=n[0],r=n[1],a=(0,w.useState)({redirect_url:"",saml_response:""}),i=(0,p.Z)(a,2),l=i[0],o=i[1],d=(0,s.s0)(),c=(0,J.E)(),u=(0,Ae.b)(),h=(0,w.useRef)(null),m=(0,ba.Z)("access_token").setLocalStorage,f=(0,ba.Z)("refresh_token").setLocalStorage,g=(0,oe.cI)({defaultValues:{email:"",password:"",appsData:[],otp:""},context:{step:t},resolver:(0,Pe.X)(Ra)}),x=g.register,Z=g.handleSubmit,j=g.control,k=g.formState,P=g.setError,C=g.reset,_=g.getValues,E=(0,re.Z)(g,qa),S=(0,oe.Dq)({control:j,name:"appsData",keyName:"fieldId"}),I=S.fields,A=S.replace,R=(0,te.Z)({register:x,control:j,handleSubmit:Z,setError:P,formState:k,reset:C,getValues:_},E);var L=(0,w.useCallback)((function(){r("email-products")}),[]),W=(0,ee.useMutation)((function(e){return(0,ne.v_)("email-verifier",e,{withCredentials:!0})}),{onSuccess:function(e){var n=e.data,t=e.status,a=n.message,i=n.verification;200===t&&i&&"success"===a&&r("login")},onError:function(e){console.log({err:e});var n=e.response;if(n){var t=n.data,a=t.message,i=t.statuscode,l=t.data;308==i&&"redirection"==a?(A(l),r("email-products")):P("email",{type:"server",message:a})}}}),D=W.mutate,M=W.isLoading,T=(0,ee.useMutation)((function(e){return(0,ne.v_)("login",e,{withCredentials:!0})}),{onSuccess:function(e){var n=e.data,t=n.access_token,r=n.refresh_token;if(200===n.statuscode){var a=(0,ja.Z)(t),i=a.sub,l=a.roles;"string"==typeof i&&Array.isArray(l)&&(null===c||void 0===c||c.setRolesInfo({roles:l,email:i})),null===c||void 0===c||c.signIn(),m(t),f(r),d("/")}},onError:function(e){var n=e.response;if(n){var t=n.data;if(307===n.status&&"redirect_url"in t&&"saml_response"in t){var a=t.redirect_url,i=t.saml_response,l=t.access_token,s=t.refresh_token;o({redirect_url:a,saml_response:i}),m(l),f(s),r("redirect"),P("password",{type:"server",message:t.message})}else 401===n.status&&P("password",{type:"server",message:t.message})}}}),O=T.mutate,z=(T.isError,T.data,T.error,T.isLoading),F=(T.status,(0,ee.useMutation)((function(e){return(0,ne.v_)("send-otp-products",e,{withCredentials:!0})}),{onSuccess:function(e){var n=e.data,t=n.expires;200==n.status_code&&t&&(null===u||void 0===u||u.setAlert({show:!0,message:"OTP successfully sent to email",status:"success"}),r("otp-verifier"))},onError:function(e){var n=e.response;if(n){var t=n.data,r=t.message,a=t.statuscode;P("appsData",406==a&&r?{type:"server",message:r}:{type:"server",message:e.message})}}})),G=F.mutate,N=F.isLoading,U=(0,ee.useMutation)((function(e){return(0,ne.v_)("verify-otp-products",e,{withCredentials:!0})}),{onSuccess:function(e){var n=e.data,t=n.message;200===n.statuscode&&t&&(null===u||void 0===u||u.setAlert({show:!0,message:t,status:"success"}),C({email:"",password:"",appsData:[],otp:""}),d("/"))},onError:function(e){console.log(e);var n=e.response;if(n){var t=n.data,r=t.message,a=t.statuscode;P("otp",400==a&&r?{type:"server",message:r}:{type:"server",message:e.message})}}}),q=U.mutate,H=U.isLoading,B=Z((function(e){var n=e.email,r=e.appsData,a=e.otp,i=e.password;if("email-verifier"===t&&D({email:n}),"login"===t&&O({email:n,password:i}),"email-products"===t){var l=Ha(r);G({email:n,selected_products:l})}if("otp-verifier"===t){var o=Ha(r);q({email:n,selected_products:o,otp:a})}}));return null!==c&&void 0!==c&&c.authed?(0,Le.jsx)(s.Fg,{to:"/"}):(0,Le.jsxs)(oe.RV,(0,te.Z)((0,te.Z)({},R),{},{children:[(0,Le.jsx)(ae.DevTool,{control:j}),(0,Le.jsx)("form",(0,te.Z)((0,te.Z)((0,te.Z)({style:{height:"100%",display:"flex",alignItems:"center"},ref:h},(null===l||void 0===l?void 0:l.redirect_url)&&{action:null===l||void 0===l?void 0:l.redirect_url,method:"POST"}),"redirect"!==t&&{onSubmit:B}),{},{children:(0,Le.jsx)(ta,{loading:M||z||N||H,children:(0,Le.jsxs)(v.Z,{spacing:2,children:["email-verifier"===t&&(0,Le.jsx)(_a,{}),"login"==t&&(0,Le.jsx)(Aa,{}),"redirect"==t&&(0,Le.jsx)(Da,{redirect_url:l.redirect_url,saml_response:l.saml_response,formRef:h}),["email-products","otp-verifier"].includes(t)&&(0,Le.jsx)(Na,{fields:I,handleBackStep:L,disabled:"otp-verifier"==t||N}),"otp-verifier"===t&&(0,Le.jsx)(Ua,{handleResendCode:function(){var e=_(),n=e.appsData,t=e.email,r=Ha(n);t&&r.length>0&&G({email:t,selected_products:r})}}),"login"==t&&(0,Le.jsxs)(b.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Le.jsx)(Ne.Z,{sx:{marginLeft:0,gap:"0.5rem"},control:(0,Le.jsx)(Pa,{defaultChecked:!0}),label:"Stay signed in"}),(0,Le.jsx)(y.Z,{component:X.rU,color:"primary",underline:"none",variant:"body1",to:"/forgot-password",children:"Forgot password?"})]}),"redirect"!==t&&(0,Le.jsx)(b.Z,{sx:{display:"flex",width:"100%"},children:(0,Le.jsx)(Je,{type:"submit",disabled:M||z||N||H,sx:{marginRight:"auto"},variant:"contained",children:"otp-verifier"===t?"Verfiy":"Continue"})})]})})}))]}))},Va=["handleSubmit","setError","reset"];function $a(e){var n=e.password;return(0,ne.v_)("set-password",{password:n},{withCredentials:!0})}var Qa=Ce.Ry({password:Ce.Z_().required("Please enter new password").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,"Must contain 8 characters, uppercase, lowercase, number and special case character"),confirmPassword:Ce.Z_().required("Please confirm new password").oneOf([Ce.iH("password")],"Passwords must match")}).required(),Ya=function(){var e=(0,Ae.b)(),n=(0,s.s0)(),t=(0,oe.cI)({defaultValues:{password:"",confirmPassword:""},resolver:(0,Pe.X)(Qa)}),r=t.handleSubmit,a=t.setError,i=t.reset,l=(0,re.Z)(t,Va),d=(0,te.Z)({handleSubmit:r,setError:a,reset:i},l),c=(0,ee.useMutation)($a,{onSuccess:function(t){var r=t.data.message;null===e||void 0===e||e.setAlert({show:!0,message:r,status:"success"}),i(),n("sign-in")},onError:function(e){var n=e.response;if(n){var t=n.data.message;a("password",{type:"server",message:t})}}}),u=c.mutate,p=c.isLoading;return(0,Le.jsx)(oe.RV,(0,te.Z)((0,te.Z)({},d),{},{children:(0,Le.jsx)(ia,{onSubmit:r((function(e){var n=null===e||void 0===e?void 0:e.password;n&&u({password:n})})),children:(0,Le.jsx)(ta,{children:(0,Le.jsxs)(v.Z,{spacing:2,children:[(0,Le.jsx)(o.Z,{variant:"h5",fontWeight:600,children:"Reset your password"}),(0,Le.jsx)(o.Z,{variant:"body1",children:"Enter new password"}),(0,Le.jsxs)(ra,{direction:"column",spacing:2,children:[(0,Le.jsx)(Qe,{margin:"dense",placeholder:"New Password",type:"password",fullWidth:!0,variant:"outlined",name:"password",label:"New Password"}),(0,Le.jsx)(Qe,{margin:"dense",placeholder:"Confirm Password",type:"password",fullWidth:!0,variant:"outlined",name:"confirmPassword",label:"Confirm Password"}),(0,Le.jsx)(aa,{children:(0,Le.jsx)(Je,{disabled:p,type:"submit",sx:{mr:"auto"},variant:"contained",children:"Reset"})})]})]})})})}))},Ka=["InputComponent","children","value"],Xa=((0,He.Z)(b.Z)((function(e){var n=e.theme,t=n.palette,r=n.spacing;return{display:"inline-flex",justifyContent:"space-between",alignItems:"center",height:45,width:250,maxWidth:300,backgroundColor:t.background.default,borderStyle:"solid",borderWidth:1,borderColor:t.grey[300],borderRadius:0,paddingRight:r(1.75),"&:hover":{borderColor:t.grey[600]},"&:active":{borderWidth:2,borderColor:t.primary[500]}}})),(0,He.Z)(b.Z)((function(e){var n=e.theme;n.palette,n.spacing;return{maxWidth:180,width:120}}))),Ja=(0,He.Z)(v.Z)((function(e){var n=e.theme;n.palette,n.spacing;return{overflow:"auto","-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}}})),ei=(0,He.Z)(nn.Z)((function(e){e.theme.palette;return{height:20,borderRadius:0}})),ni=w.forwardRef((function(e,n){var t=e.InputComponent,r=(e.children,e.value),a=(0,re.Z)(e,Ka),i=(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(Xa,{children:(0,Le.jsx)(Ja,{direction:"row",spacing:.2,children:r.length>0&&r.map((function(e){return(0,Le.jsx)(ei,{label:e,size:"small"})}))})}),(0,Le.jsx)(sn.Z,{})]});return(0,Le.jsx)(Le.Fragment,{children:t?w.cloneElement(t,(0,te.Z)({ref:n},e),i):(0,Le.jsx)(ln,(0,te.Z)((0,te.Z)({ref:n},a),{},{children:i}))})})),ti=["label","children","onChange","value","InputComponent","sx","isLoading","disabled"],ri=function(e){var n,t=e.label,r=e.children,a=e.onChange,i=e.value,l=e.InputComponent,o=e.sx,s=e.isLoading,d=e.disabled,c=((0,re.Z)(e,ti),(0,w.useRef)(null)),u=(0,w.useState)(null),h=(0,p.Z)(u,2),m=h[0],f=h[1],v=(0,w.useMemo)((function(){return w.Children.map(r,(function(e){return e.props.value&&e.props.label?{label:e.props.label,value:e.props.value.toString()}:null})).filter((function(e){return e}))}),[r]),g=(0,tn.Z)((0,te.Z)({multiple:!0,options:v,open:!!m,onChange:a,defaultValue:[]},i?{value:i}:{})),x=g.getButtonProps,Z=g.getListboxProps,b=g.getOptionProps,j=g.value,y=g.open;return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsxs)(rn.Z,{position:"relative",sx:o,children:[t&&(0,Le.jsx)(on,{children:t}),l?w.cloneElement(l,{value:j,onClick:function(){return f(c.current)},ref:c}):(0,Le.jsx)(ni,(0,te.Z)((0,te.Z)({},x()),{},{value:j,onClick:function(){return f(c.current)},ref:c,disabled:d})),s&&(0,Le.jsx)(ie.Z,{sx:{position:"absolute",bottom:0,left:0,width:"100%"}})]}),(0,Le.jsx)(bn,{open:y,anchorEl:c.current,setAnchorEl:f,children:(0,Le.jsx)(un,(0,te.Z)((0,te.Z)({},Z()),{},{style:{width:null===c||void 0===c||null===(n=c.current)||void 0===n?void 0:n.clientWidth},children:v.map((function(e){var n=b({value:e.value.toString(),label:e.label});return e.value&&e.label?(0,Le.jsx)(dn.Z,(0,te.Z)((0,te.Z)({onKeyUp:function(e){return function(e,n){"Enter"===e.code&&n(e)}(e,n.onClick)},className:n["aria-selected"]?"Mui-selected":""},n),{},{children:e.label}),e.value):null}))}))})]})},ai=t(72466),ii=t(90388),li=t(2199),oi=t(94721),si=t(5289),di=t(65661),ci=t(39157),ui=t(498),pi=t(68135),hi=t(48691),mi=t(33439),fi=t(68087),vi=t(44659),gi=t(99259),xi=["title","titleId"];function Zi(){return Zi=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Zi.apply(this,arguments)}function bi(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function ji(e,n){var t=e.title,r=e.titleId,a=bi(e,xi);return w.createElement("svg",Zi({xmlns:"http://www.w3.org/2000/svg",width:36.007,height:36.007,viewBox:"0 0 36.007 36.007",ref:n,"aria-labelledby":r},a),t?w.createElement("title",{id:r},t):null,w.createElement("g",{"data-name":"Icon feather-edit"},w.createElement("path",{"data-name":"Path 2961",d:"M18.211 6H6.38A3.38 3.38 0 0 0 3 9.38v23.661a3.38 3.38 0 0 0 3.38 3.38h23.661a3.38 3.38 0 0 0 3.38-3.38v-11.83",transform:"translate(-2 -1.415)",style:{fill:"none",stroke:"#a1a1a1",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}}),w.createElement("path",{"data-name":"Path 2962",d:"M29.746 3.868a3.585 3.585 0 1 1 5.07 5.07L18.76 24.994 12 26.684l1.69-6.76z",transform:"translate(-.86 -1.818)",style:{fill:"none",stroke:"#a1a1a1",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}})))}var yi=w.forwardRef(ji),wi=(t.p,["title","titleId"]);function ki(){return ki=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ki.apply(this,arguments)}function Pi(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function Ci(e,n){var t=e.title,r=e.titleId,a=Pi(e,wi);return w.createElement("svg",ki({xmlns:"http://www.w3.org/2000/svg",width:32.544,height:35.938,viewBox:"0 0 32.544 35.938",ref:n,"aria-labelledby":r},a),t?w.createElement("title",{id:r},t):null,w.createElement("g",{"data-name":"Icon feather-trash-2"},w.createElement("path",{"data-name":"Path 2963",d:"M4.5 9h30.544",transform:"translate(-3.5 -1.212)",style:{fill:"none",stroke:"#cc3a3a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}}),w.createElement("path",{"data-name":"Path 2964",d:"M31.257 9.788v23.756a3.394 3.394 0 0 1-3.394 3.394H10.894A3.394 3.394 0 0 1 7.5 33.544V9.788m5.091 0V6.394A3.394 3.394 0 0 1 15.985 3h6.788a3.394 3.394 0 0 1 3.394 3.394v3.394",transform:"translate(-3.106 -2)",style:{fill:"none",stroke:"#cc3a3a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}}),w.createElement("path",{"data-name":"Path 2965",d:"M15 16.5v10.181",transform:"translate(-2.122 -.228)",style:{fill:"none",stroke:"#cc3a3a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}}),w.createElement("path",{"data-name":"Path 2966",d:"M21 16.5v10.181",transform:"translate(-1.334 -.228)",style:{fill:"none",stroke:"#cc3a3a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}})))}var _i=w.forwardRef(Ci),Ei=(t.p,function(e){return(0,Le.jsx)(g.Z,(0,te.Z)((0,te.Z)({},e),{},{children:(0,Le.jsx)(gi.Z,{viewBox:"-2 0 38 38",fontSize:e.size,children:(0,Le.jsx)(yi,{})})}))}),Si=function(e){return(0,Le.jsx)(g.Z,(0,te.Z)((0,te.Z)({},e),{},{children:(0,Le.jsx)(gi.Z,{viewBox:"-2 0 38 38",fontSize:e.size,children:(0,Le.jsx)(_i,{})})}))},Ii=["value"];function Ai(e){return(0,ne.Od)("user/".concat(e.userId))}function Ri(e){var n,t,r,a,i,l=(0,w.useState)(!1),d=(0,p.Z)(l,2),c=d[0],u=d[1],h=(0,w.useState)(null),m=(0,p.Z)(h,2),f=m[0],g=m[1],Z=(0,w.useState)({latest:"desc"}),b=(0,p.Z)(Z,2),j=b[0],k=b[1],P=(0,w.useState)(j),C=(0,p.Z)(P,2),_=C[0],E=C[1],S=(0,w.useState)(["id"]),I=(0,p.Z)(S,1)[0],A=((0,w.useDeferredValue)(j),(0,s.s0)()),R=(0,w.useState)(10),L=(0,p.Z)(R,2),W=L[0],D=L[1],M=(0,w.useState)(1),T=(0,p.Z)(M,2),O=T[0],z=T[1],F=(0,ee.useQueryClient)(),G=(0,ee.useIsFetching)(["splist"])>0,N=G?[]:null===(n=F.getQueryData(["splist"]))||void 0===n||null===(t=n.data)||void 0===t?void 0:t.serviceproviders,U=(0,te.Z)((0,te.Z)({},_),{},{latest:"desc"===_.latest,practices:null!==_&&void 0!==_&&null!==(r=_.practices)&&void 0!==r&&r.length?null===_||void 0===_?void 0:_.practices.join(","):"All"},void 0!==(null===_||void 0===_?void 0:_.status)&&null!==(null===_||void 0===_?void 0:_.status)&&{status:"active"===(null===_||void 0===_?void 0:_.status)||"inactive"!==(null===_||void 0===_?void 0:_.status)&&"all"}),q=(0,ee.useQuery)(["users",W,O,(0,te.Z)({},U)],(function(){return function(e,n,t){return(0,ne.U2)("users/",{params:(0,te.Z)({limit:e,offset:n},t)}).then((function(e){return e.data}))}(W,O,U)}),{keepPreviousData:!0,refetchOnWindowFocus:!1}),H=(0,ee.useMutation)(Ai,{onSuccess:function(e){F.invalidateQueries("users"),u(!1),g(null)}}),B=H.mutate,V=H.isLoading,$=(null===(a=q.data)||void 0===a?void 0:a._metadata)||{},Q=null===(i=q.data)||void 0===i?void 0:i.users_data,Y=(0,w.useState)([{Header:"#",Cell:function(e){var n=e.row,t=e.state;return(0,Le.jsx)(o.Z,{children:n.index+1+t.pageIndex*t.pageSize})}},{Header:"First Name",accessor:"first_name"},{Header:"Last Name",accessor:"last_name"},{Header:"Products",accessor:"products",Cell:function(e){var n=e.value;(0,re.Z)(e,Ii);return n.length<=0?(0,Le.jsx)(o.Z,{children:"No assigned product"}):(0,Le.jsx)(v.Z,{spacing:1,direction:"row",children:n.map((function(e){return(0,Le.jsx)(nn.Z,{label:e,size:"small"})}))})}},{Header:"Action",disableSortBy:!0,Cell:function(e){var n=e.cell.row.original.id;return(0,Le.jsxs)(v.Z,{direction:"row",spacing:1,justifyContent:"center",children:[(0,Le.jsx)(Ei,{size:"medium",onClick:function(){A("/create-user/".concat(n))},"aria-label":"Edit User"}),(0,Le.jsx)(it,{allowedRoles:["super-admin"],children:(0,Le.jsx)(Si,{size:"medium",onClick:function(){u(!0),g(n)},"aria-label":"Delete User"})})]})}}]),K=(0,p.Z)(Y,1)[0],J=function(){g(null),u(!1)};return(0,Le.jsxs)(rn.Z,{width:"100%",children:[(0,Le.jsxs)(rn.Z,{display:"flex",alignItems:"center",mb:2,children:[(0,Le.jsx)(y.Z,{component:X.rU,to:"/",sx:{display:"flex"},"aria-label":"Go Back",children:(0,Le.jsx)(ui.Z,{})}),"\xa0",(0,Le.jsx)(o.Z,{color:"primary",component:"h1",variant:"h6",fontWeight:"bold",children:"USER MANAGEMENT"})]}),(0,Le.jsx)(rn.Z,{mb:2,display:"flex",justifyContent:{xs:"stretch",md:"space-between"},alignItems:"flex-end",flexWrap:"wrap",gap:2,children:(0,Le.jsxs)(v.Z,{direction:{xs:"column",sm:"column",md:"row"},flex:1,flexWrap:"wrap",alignItems:{sm:"stretch",md:"flex-end"},maxWidth:{sm:400,md:"unset"},spacing:{sm:1,md:2},gap:2,children:[(0,Le.jsx)(v.Z,{direction:"row",alignItems:"flex-end",spacing:3.5,children:(0,Le.jsx)(Dn,{label:"Search",value:j.search,onChange:function(e){k((0,te.Z)((0,te.Z)({},j),{},{search:e.target.value}))},placeholder:"Search",startAdornment:(0,Le.jsx)(Hr.Z,{fontSize:"small",color:"action"}),inputProps:{"aria-label":"Search users by name"}})}),(0,Le.jsx)(ri,{label:"Product",value:j.practices||[],onChange:function(e){k((0,te.Z)((0,te.Z)({},j),{},{practices:e}))},isLoading:G,disabled:G,children:(null===N||void 0===N?void 0:N.map((function(e){var n=e.name,t=e.display_name;return(0,Le.jsx)("option",{label:t,value:n})})))||[]}),(0,Le.jsxs)(kn,{label:"Status",value:null===j||void 0===j?void 0:j.status,onChange:function(e){k((0,te.Z)((0,te.Z)({},j),{},{status:e||null}))},children:[(0,Le.jsx)("option",{label:"All",value:"all",children:"All"}),(0,Le.jsx)("option",{label:"Active",value:"active",children:"Active"}),(0,Le.jsx)("option",{label:"Inactive",value:"inactive",children:"Inactive"})]}),(0,Le.jsxs)(v.Z,{direction:"row",alignItems:"flex-end",gap:.5,children:[(0,Le.jsxs)(kn,{label:"Order By",value:null===j||void 0===j?void 0:j.order_by,onChange:function(e){k((0,te.Z)((0,te.Z)({},j),{},{order_by:e||null}))},sx:{flex:1},children:[(0,Le.jsx)("option",{label:"",value:"",children:" "}),(0,Le.jsx)("option",{label:"First Name",value:"first_name",children:"First Name"}),(0,Le.jsx)("option",{label:"Last Name",value:"last_name",children:"Last Name"}),(0,Le.jsx)("option",{label:"Created Date",value:"created_date",children:"Created Date"})]}),(0,Le.jsxs)(ai.Z,{color:"primary",size:"small",value:_.latest,exclusive:!0,onChange:function(e,n){null!==n&&E((0,te.Z)((0,te.Z)({},_),{},{latest:n}))},"aria-label":"Order by arrangement",children:[(0,Le.jsx)(ii.Z,{value:"desc",children:(0,Le.jsx)(x.Z,{title:"Descending Order",children:(0,Le.jsx)(pi.Z,{})})}),(0,Le.jsx)(ii.Z,{value:"asc",children:(0,Le.jsx)(x.Z,{title:"Ascending Order",children:(0,Le.jsx)(hi.Z,{})})})]})]}),(0,Le.jsx)(rn.Z,{display:"flex",gap:1,flexWrap:"wrap",children:(0,Le.jsxs)(li.Z,{variant:"outlined","aria-label":"filter buttons",children:[(0,Le.jsx)(Ye.Z,{fullWidth:!0,variant:"contained",onClick:function(){E((0,te.Z)({},j))},children:"Filter"}),(0,Le.jsx)(Ye.Z,{onClick:function(e){k({practices:[],status:null,order_by:null,search:"",latest:"desc"})},"aria-label":"Reset filters",children:(0,Le.jsx)(mi.Z,{})})]})})]})}),(0,Le.jsx)(oi.Z,{variant:"fullWidth"}),(0,Le.jsxs)(rn.Z,{my:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:3,children:[(0,Le.jsxs)(rn.Z,{display:"flex",gap:2,flex:{xs:1,sm:0},children:[(0,Le.jsx)(Ye.Z,{variant:"text",onClick:function(){return A("/create-user")},startIcon:(0,Le.jsx)(fi.Z,{}),role:"link",children:"Add User"}),(0,Le.jsx)(it,{allowedRoles:["super-admin","sub-admin"],children:(0,Le.jsx)(Ye.Z,{variant:"text",onClick:function(){return A("/audit-trail")},startIcon:(0,Le.jsx)(vi.Z,{}),role:"link",children:"Audit Logs"})})]}),(0,Le.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,Le.jsx)(o.Z,{variant:"body1",children:"Show"}),(0,Le.jsx)(kn,{label:null,suffix:"entries",onChange:function(e){D(e?parseInt(e):W),z(1)},defaultValue:W.toString(),sx:{width:150},value:String(W),buttonProps:{"aria-label":"Number of entries shown in table, ".concat(W," Selected")},children:[5,10,15,20,25].map((function(e){return(0,Le.jsx)("option",{label:"".concat(e),value:e},e)}))})]})]}),q.isError?(0,Le.jsx)(Sn,{}):(0,Le.jsx)(qr,{columns:K,data:Q||[],rowsPerPage:W,useSorting:!0,hiddenColumns:I,metaData:$,setPage:function(e){e&&z(e)},page:O,dataLoading:q.isLoading||q.isFetching,paginationType:"paged"}),(0,Le.jsxs)(si.Z,{open:c,maxWidth:"xs",fullWidth:!0,onClose:J,children:[(0,Le.jsx)(di.Z,{children:"Delete User"}),(0,Le.jsx)(ci.Z,{dividers:!0,children:(0,Le.jsxs)(rn.Z,{display:"flex",alignItems:"center",flexDirection:"column",children:[(0,Le.jsx)(o.Z,{children:"Are you sure you want to delete this user"}),(0,Le.jsxs)(v.Z,{py:4,mx:"auto",direction:"row",spacing:1,children:[(0,Le.jsx)(Je,{variant:"outlined",onClick:J,children:"Cancel"}),(0,Le.jsx)(Je,{variant:"contained",onClick:function(){"number"==typeof f&&B({userId:f})},children:V?"Deleting...":"Delete"})]})]})})]})]})}var Li=function(e){var n=e.children,t=(0,J.E)();return null!==t&&void 0!==t&&t.authed?n:(0,Le.jsx)(s.Fg,{to:"sign-in",replace:!0})},Wi=function(e){var n=(0,w.useState)(),t=(0,p.Z)(n,2),r=t[0],a=t[1];return(0,Le.jsxs)("div",{children:[(0,Le.jsx)("button",{onClick:function(){a(void 0),(0,ne.U2)("test-token").then((function(e){a("success")}))},children:"REQUEST"}),r&&(0,Le.jsx)("p",{children:r})]})},Di=Un,Mi=(0,C.ZP)(c.Z)((function(e){var n,t;return{display:"flex",flexDirection:"column",flexBasis:"100%",minHeight:"100%",background:null===(n=(t=e.theme.palette.background).backgroundGradientMulti)||void 0===n?void 0:n.call(t)}})),Ti=t(59207);function Oi(e,n){return!e.children||e.children.length<1?!!(Array.isArray(e.permissions)&&e.permissions.length<1)||(0,Ti.intersects)(n,e.permissions):!!((0,Ti.intersects)(n,e.permissions)||Array.isArray(e.permissions)&&e.permissions.length<1)&&(e.children=e.children.filter((function(e){return Oi(e,n)})),!0)}var zi=function(){var e,n,t=(0,Ae.b)(),r=(0,J.E)(),d=function(e){return e.filter((function(e){return Oi(e,(null===r||void 0===r?void 0:r.rolesInfo.roles)||[])}))},c=(0,w.useMemo)((function(){return d([{path:"sign-in",element:(0,Le.jsx)(Ba,{}),permissions:[]},{path:"forgot-password",element:(0,Le.jsx)(da,{}),permissions:[]},{path:"reset-password",element:(0,Le.jsx)(Ya,{}),permissions:[]},{path:"/",permissions:[],element:(0,Le.jsx)(Li,{children:(0,Le.jsx)(pt,{})}),children:[{index:!0,element:(0,Le.jsx)(wa,{}),permissions:[]},{path:"user-management",element:(0,Le.jsx)(Ri,{}),permissions:["super-admin","sub-admin","practice-administrator"]},{path:"audit-trail",element:(0,Le.jsx)($r,{}),permissions:["super-admin","sub-admin"]},{path:"account-access",element:(0,Le.jsx)(gt,{}),permissions:["super-admin","sub-admin","practice-administrator"]},{path:"create-user",permissions:["super-admin","sub-admin","practice-administrator"],element:(0,Le.jsx)(Ut,{children:(0,Le.jsx)(tr,{editMode:!1})})},{path:"create-user/:id",permissions:["super-admin","sub-admin","practice-administrator"],element:(0,Le.jsx)(Ut,{children:(0,Le.jsx)(tr,{editMode:!0})})},{path:"profile",permissions:[],children:[{path:"",element:(0,Le.jsx)(Di,{}),permissions:[]},{path:":tab",element:(0,Le.jsx)(Di,{}),permissions:[]}]},{path:"account-access-2",permissions:["super-admin"],element:(0,Le.jsx)(gt,{})},{path:"refresh-test-route",permissions:["super-admin"],element:(0,Le.jsx)(Wi,{})}]},{path:"*",permissions:[],element:(0,Le.jsx)(s.Fg,{to:"/sign-in"})}])}),[null===r||void 0===r?void 0:r.rolesInfo.roles]),u=(0,s.V$)(c);return(0,Le.jsxs)(Mi,{maxWidth:!1,disableGutters:!0,children:[u,(0,Le.jsx)(a.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:null===t||void 0===t?void 0:t.alert.show,autoHideDuration:1e4,onClose:null===t||void 0===t?void 0:t.closeAlert,ClickAwayListenerProps:{mouseEvent:!1},children:(0,Le.jsxs)(i.Z,{severity:null===t||void 0===t?void 0:t.alert.status,variant:"filled",elevation:6,onClose:null===t||void 0===t?void 0:t.closeAlert,children:[(0,Le.jsx)(l.Z,{children:(0,Le.jsx)(o.Z,{fontWeight:600,letterSpacing:2,children:"".concat(null===t||void 0===t||null===(e=t.alert.status)||void 0===e||null===(n=e.charAt(0))||void 0===n?void 0:n.toUpperCase()).concat(null===t||void 0===t?void 0:t.alert.status.substring(1))})}),null===t||void 0===t?void 0:t.alert.message]})},"bottom center")]})}},4560:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(71554),a=(0,t(93457).Z)("div")((function(e){e.theme;return{height:"100vh",display:"grid",placeItems:"center",width:"100%"}})),i=t(80184);var l=function(e){var n=e.children;return(0,i.jsxs)(a,{children:[(0,i.jsx)(r.Z,{color:"info"}),n]})}}}]);
//# sourceMappingURL=739.d6cc8b4b.chunk.js.map